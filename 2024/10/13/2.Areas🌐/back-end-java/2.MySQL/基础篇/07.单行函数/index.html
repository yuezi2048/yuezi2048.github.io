<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>07.单行函数 | yuezi</title><meta name="author" content="yuezi"><meta name="copyright" content="yuezi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="七、单行函数1. 函数理解1.1 函数的作用函数的作用是什么呢？  它可以把我们经常使用的代码封装起来，需要的时候直接调用即可。这样既提高了代码效率，又提高了可维护性。 在 SQL 中我们也可以使用函数对检索出来的数据进行函数操作。使用这些函数，可以极大地提高用户对数据库的管理效率。    	 从函数定义的角度出发，我们可以将函数分成内置函数和自定义函数。  在 SQL 语言中，同样也包括了内置函">
<meta property="og:type" content="article">
<meta property="og:title" content="07.单行函数">
<meta property="og:url" content="https://yuezi2048.github.io/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/07.%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0/index.html">
<meta property="og:site_name" content="yuezi">
<meta property="og:description" content="七、单行函数1. 函数理解1.1 函数的作用函数的作用是什么呢？  它可以把我们经常使用的代码封装起来，需要的时候直接调用即可。这样既提高了代码效率，又提高了可维护性。 在 SQL 中我们也可以使用函数对检索出来的数据进行函数操作。使用这些函数，可以极大地提高用户对数据库的管理效率。    	 从函数定义的角度出发，我们可以将函数分成内置函数和自定义函数。  在 SQL 语言中，同样也包括了内置函">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yuezi2048.github.io/img/touxiang.jpg">
<meta property="article:published_time" content="2024-10-13T14:28:27.000Z">
<meta property="article:modified_time" content="2024-10-13T14:28:27.000Z">
<meta property="article:author" content="yuezi">
<meta property="article:tag" content="基础篇">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yuezi2048.github.io/img/touxiang.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "07.单行函数",
  "url": "https://yuezi2048.github.io/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/07.%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0/",
  "image": "https://yuezi2048.github.io/img/touxiang.jpg",
  "datePublished": "2024-10-13T14:28:27.000Z",
  "dateModified": "2024-10-13T14:28:27.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "yuezi",
      "url": "https://yuezi2048.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://yuezi2048.github.io/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/07.%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?bfb48b678d82bea9f9cc9d59227767e4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"FPH6F2TOJL","apiKey":"06d9ea26c803ba912b4d8e13404ed34d","indexName":"blog","hitsPerPage":6,"languages":{"input_placeholder":"搜索","hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，耗时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":350,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '07.单行函数',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/backgound.css"><meta name="generator" content="Hexo 8.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">603</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">85</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/default.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">yuezi</span></a><a class="nav-page-title" href="/"><span class="site-name">07.单行函数</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">07.单行函数</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-10-13T14:28:27.000Z" title="发表于 2024-10-13 22:28:27">2024-10-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-13T14:28:27.000Z" title="更新于 2024-10-13 22:28:27">2024-10-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/">2.Areas🌐</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/">back-end-java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/2-MySQL/">2.MySQL</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/2-MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/">基础篇</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">6.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>27分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="七、单行函数"><a href="#七、单行函数" class="headerlink" title="七、单行函数"></a>七、单行函数</h1><h2 id="1-函数理解"><a href="#1-函数理解" class="headerlink" title="1. 函数理解"></a>1. 函数理解</h2><h3 id="1-1-函数的作用"><a href="#1-1-函数的作用" class="headerlink" title="1.1 函数的作用"></a>1.1 函数的作用</h3><p>函数的作用是什么呢？</p>
<ul>
<li>它可以把我们经常使用的代码封装起来，需要的时候直接调用即可。这样既<code>提高了代码效率</code>，又<code>提高了可维护性</code>。<ul>
<li>在 SQL 中我们也可以使用函数对检索出来的数据进行函数操作。使用这些函数，可以极大地<code>提高用户对数据库的管理效率</code>。</li>
</ul>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240814152559988.png" alt="image-20240814152559988">	</p>
<p>从函数定义的角度出发，我们可以将函数分成<code>内置函数</code>和<code>自定义函数</code>。</p>
<ul>
<li>在 SQL 语言中，同样也包括了内置函数和自定义函数。内置函数是系统内置的通用函数，而自定义函数是我们根据自己的需要编写的，</li>
<li>本章及下一章讲解的是 SQL 的内置函数。</li>
</ul>
<h3 id="1-2-不同DBMS函数的差异"><a href="#1-2-不同DBMS函数的差异" class="headerlink" title="1.2 不同DBMS函数的差异"></a>1.2 不同DBMS函数的差异</h3><p>我们在使用 SQL 语言的时候，不是直接和这门语言打交道，而是通过它使用不同的数据库软件，即 DBMS。</p>
<ul>
<li><p><strong>DBMS 之间的差异性很大，远大于同一个语言不同版本之间的差异。</strong></p>
</li>
<li><p>实际上，只有很少的函数是被 DBMS 同时支持的。</p>
<ul>
<li>比如，大多数 DBMS 使用（||）或者（+）来做拼接符，而在 MySQL 中的字符串拼接函数为concat()。</li>
</ul>
</li>
<li><p>大部分 DBMS 会有自己特定的函数，这就意味着<strong>采用 SQL 函数的代码可移植性是很差的</strong>，因此在使用函数的时候需要特别注意。</p>
</li>
</ul>
<h3 id="1-3-MySQL的内置函数及分类"><a href="#1-3-MySQL的内置函数及分类" class="headerlink" title="1.3 MySQL的内置函数及分类"></a>1.3 MySQL的内置函数及分类</h3><p>MySQL提供的内置函数从<code>实现的功能角度</code>可以分为数值函数、字符串函数、日期和时间函数、流程控制函数、加密与解密函数、获取MySQL信息函数、聚合函数等。</p>
<p>这里，我将这些丰富的内置函数再分为两类：<code>单行函数</code>、<code>聚合函数（或分组函数）</code>。</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240814152926312.png" alt="image-20240814152926312">	</p>
<p>单行函数具有以下特点</p>
<ul>
<li>操作数据对象</li>
<li>接受参数返回一个结果</li>
<li><strong>只对一行进行变换</strong></li>
<li><strong>每行返回一个结果</strong></li>
<li>可以嵌套</li>
<li>参数可以是一列或一个值</li>
</ul>
<h2 id="2-数值函数"><a href="#2-数值函数" class="headerlink" title="2. 数值函数"></a>2. 数值函数</h2><h3 id="2-1-基本函数"><a href="#2-1-基本函数" class="headerlink" title="2.1 基本函数"></a>2.1 基本函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>ABS(x)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td>SIGN(X)</td>
<td>返回X的符号。正数返回1，负数返回-1，0返回0</td>
</tr>
<tr>
<td>PI()</td>
<td>返回圆周率的值</td>
</tr>
<tr>
<td>CEIL(x)，CEILING(x)</td>
<td>返回大于或等于某个值的最小整数</td>
</tr>
<tr>
<td>FLOOR(x)</td>
<td>返回小于或等于某个值的最大整数</td>
</tr>
<tr>
<td>LEAST(e1,e2,e3…)</td>
<td>返回列表中的最小值</td>
</tr>
<tr>
<td>GREATEST(e1,e2,e3…)</td>
<td>返回列表中的最大值</td>
</tr>
<tr>
<td>MOD(x,y)</td>
<td>返回X除以Y后的余数</td>
</tr>
<tr>
<td>RAND()</td>
<td>返回0~1的随机值</td>
</tr>
<tr>
<td>RAND(x)</td>
<td>返回0~1的随机值，其中x的值用作种子值，相同的X值会产生相同的随机数</td>
</tr>
<tr>
<td>ROUND(x)</td>
<td>返回一个对x的值进行四舍五入后，最接近于X的整数</td>
</tr>
<tr>
<td>ROUND(x,y)</td>
<td>返回一个对x的值进行四舍五入后最接近X的值，并保留到小数点后面Y位</td>
</tr>
<tr>
<td>TRUNCATE(x,y)</td>
<td>返回数字x截断为y位小数的结果</td>
</tr>
<tr>
<td>SQRT(x)</td>
<td>返回x的平方根。当X的值为负数时，返回NULL</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 1. 数值操作</span><br><span class="line"># 基本操作	</span><br><span class="line">-- CEIL和Floor是天花板和地板</span><br><span class="line">-- CEIL和CEILING都可以，一个意思</span><br><span class="line">SELECT ABS(-123),ABS(32),SIGN(-23),SIGN(43),PI(),CEIL(32.32),CEILING(-43.23),FLOOR(32.32),</span><br><span class="line">FLOOR(-43.23),MOD(12,5)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># 随机数</span><br><span class="line">-- RAND()返回[0,1)小数，带参数的话，参数是种子，如果种子一样，输出的结果一样</span><br><span class="line">-- （伪随机）</span><br><span class="line">SELECT RAND(),RAND(),RAND(10),RAND(10),RAND(-1),RAND(-1)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># 四舍五入、截断(第二个参数是保留位数,负数是从整数右往左)</span><br><span class="line">SELECT ROUND(123.456), ROUND(123.456, 0), ROUND(123.456, 1), ROUND(123.456, 2),</span><br><span class="line">ROUND(123.456, -1), ROUND(153.456, -2)</span><br><span class="line">FROM DUAL</span><br><span class="line"></span><br><span class="line">SELECT TRUNCATE(123.456, 0),TRUNCATE(123.496, 1), TRUNCATE(129.45, -1)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># 单行函数嵌套(sqrt开方)</span><br><span class="line">SELECT TRUNCATE(ROUND(123.456, 2), 0)</span><br><span class="line">FROM DUAL;</span><br></pre></td></tr></table></figure>





<h3 id="2-2-角度和弧度函数"><a href="#2-2-角度和弧度函数" class="headerlink" title="2.2 角度和弧度函数"></a>2.2 角度和弧度函数</h3><table>
<thead>
<tr>
<th>RADIANS(x)</th>
<th>将角度转化为弧度，其中，参数x为角度值</th>
</tr>
</thead>
<tbody><tr>
<td>DEGREES(x)</td>
<td>将弧度转化为角度，其中，参数x为弧度值</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 角度和弧度互换</span><br><span class="line">SELECT RADIANS(30), RADIANS(45), RADIANS(60), RADIANS(90),</span><br><span class="line">DEGREES(1), DEGREES(2 * PI()), DEGREES(RADIANS(60))</span><br><span class="line">FROM DUAL</span><br></pre></td></tr></table></figure>



<h3 id="2-3-三角函数"><a href="#2-3-三角函数" class="headerlink" title="2.3 三角函数"></a>2.3 三角函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>SIN(x)</td>
<td>返回x的正弦值，其中，参数x为弧度值</td>
</tr>
<tr>
<td>ASIN(x)</td>
<td>返回x的反正弦值，即获取正弦为x的值。如果x的值不在-1到1之间，则返回NULL</td>
</tr>
<tr>
<td>COS(x)</td>
<td>返回x的余弦值，其中，参数x为弧度值</td>
</tr>
<tr>
<td>ACOS(x)</td>
<td>返回x的反余弦值，即获取余弦为x的值。如果x的值不在-1到1之间，则返回NULL</td>
</tr>
<tr>
<td>TAN(x)</td>
<td>返回x的正切值，其中，参数x为弧度值</td>
</tr>
<tr>
<td>ATAN(x)</td>
<td>返回x的反正切值，即返回正切值为x的值</td>
</tr>
<tr>
<td>ATAN2(m,n)</td>
<td>返回两个参数的反正切值</td>
</tr>
<tr>
<td>COT(x)</td>
<td>返回x的余切值，其中，X为弧度值</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 三角函数(传入弧度制) 反三角函数不在定义域内，返回null</span><br><span class="line">SELECT SIN(RADIANS(30)), DEGREES(ASIN(1)), TAN(RADIANS(45)), DEGREES(ATAN(1))</span><br><span class="line">FROM DUAL</span><br></pre></td></tr></table></figure>



<h3 id="2-4-指数和对数"><a href="#2-4-指数和对数" class="headerlink" title="2.4 指数和对数"></a>2.4 指数和对数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>POW(x,y)，POWER(X,Y)</td>
<td>返回x的y次方</td>
</tr>
<tr>
<td>EXP(X)</td>
<td>返回e的X次方，其中e是一个常数，2.718281828459045</td>
</tr>
<tr>
<td>LN(X)，LOG(X)</td>
<td>返回以e为底的X的对数，当X &lt;&#x3D; 0 时，返回的结果为NULL</td>
</tr>
<tr>
<td>LOG10(X)</td>
<td>返回以10为底的X的对数，当X &lt;&#x3D; 0 时，返回的结果为NULL</td>
</tr>
<tr>
<td>LOG2(X)</td>
<td>返回以2为底的X的对数，当X &lt;&#x3D; 0 时，返回NULL</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 指数和对数</span><br><span class="line">SELECT POW(2, 5), POWER(2, 4), EXP(2)</span><br><span class="line">FROM DUAL</span><br><span class="line"></span><br><span class="line">-- LN和LOG是一个意思</span><br><span class="line">SELECT LN(EXP(2)), LOG(EXP(2)), LOG10(10), LOG2(4)</span><br><span class="line">FROM DUAL</span><br></pre></td></tr></table></figure>



<h3 id="2-5-进制间的转换"><a href="#2-5-进制间的转换" class="headerlink" title="2.5 进制间的转换"></a>2.5 进制间的转换</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>BIN(x)</td>
<td>返回x的二进制编码</td>
</tr>
<tr>
<td>HEX(x)</td>
<td>返回x的十六进制编码</td>
</tr>
<tr>
<td>OCT(x)</td>
<td>返回x的八进制编码</td>
</tr>
<tr>
<td>CONV(x,f1,f2)</td>
<td>返回f1进制数变成f2进制数</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 进制之间转换 </span><br><span class="line">-- conv(x, m, n)：将x从m进制到n进制</span><br><span class="line">SELECT BIN(10), HEX(10), OCT(10), CONV(10, 10, 8)</span><br><span class="line">FROM DUAL</span><br></pre></td></tr></table></figure>



<h2 id="3-字符串函数"><a href="#3-字符串函数" class="headerlink" title="3. 字符串函数"></a>3. 字符串函数</h2><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>ASCII(S)</td>
<td>返回字符串S中的第一个字符的ASCII码值</td>
</tr>
<tr>
<td>CHAR_LENGTH(s)</td>
<td>返回字符串s的字符数。作用与CHARACTER_LENGTH(s)相同</td>
</tr>
<tr>
<td>LENGTH(s)</td>
<td>返回字符串s的字节数，和字符集有关</td>
</tr>
<tr>
<td>CONCAT(s1,s2,……,sn)</td>
<td>连接s1,s2,……,sn为一个字符串</td>
</tr>
<tr>
<td>CONCAT_WS(x, s1,s2,……,sn)</td>
<td>同CONCAT(s1,s2,…)函数，但是每个字符串之间要加上x</td>
</tr>
<tr>
<td>INSERT(str, idx, len, replacestr)</td>
<td>将字符串str从第idx位置开始，len个字符长的子串替换为字符串replacestr</td>
</tr>
<tr>
<td>REPLACE(str, a, b)</td>
<td>用字符串b替换字符串str中所有出现的字符串a</td>
</tr>
<tr>
<td>UPPER(s) 或 UCASE(s)</td>
<td>将字符串s的所有字母转成大写字母</td>
</tr>
<tr>
<td>LOWER(s)  或LCASE(s)</td>
<td>将字符串s的所有字母转成小写字母</td>
</tr>
<tr>
<td>LEFT(str,n)</td>
<td>返回字符串str最左边的n个字符</td>
</tr>
<tr>
<td>RIGHT(str,n)</td>
<td>返回字符串str最右边的n个字符</td>
</tr>
<tr>
<td>LPAD(str, len, pad)</td>
<td>用字符串pad对str最左边进行填充，直到str的长度为len个字符</td>
</tr>
<tr>
<td>RPAD(str ,len, pad)</td>
<td>用字符串pad对str最右边进行填充，直到str的长度为len个字符</td>
</tr>
<tr>
<td>LTRIM(s)</td>
<td>去掉字符串s左侧的空格</td>
</tr>
<tr>
<td>RTRIM(s)</td>
<td>去掉字符串s右侧的空格</td>
</tr>
<tr>
<td>TRIM(s)</td>
<td>去掉字符串s开始与结尾的空格</td>
</tr>
<tr>
<td>TRIM(s1 FROM s)</td>
<td>去掉字符串s开始与结尾的s1</td>
</tr>
<tr>
<td>TRIM(LEADING s1 FROM s)</td>
<td>去掉字符串s开始处的s1</td>
</tr>
<tr>
<td>TRIM(TRAILING s1 FROM s)</td>
<td>去掉字符串s结尾处的s1</td>
</tr>
<tr>
<td>REPEAT(str, n)</td>
<td>返回str重复n次的结果</td>
</tr>
<tr>
<td>SPACE(n)</td>
<td>返回n个空格</td>
</tr>
<tr>
<td>STRCMP(s1,s2)</td>
<td>比较字符串s1,s2的ASCII码值的大小</td>
</tr>
<tr>
<td>SUBSTR(s,index,len)</td>
<td>返回从字符串s的index位置其len个字符，作用与SUBSTRING(s,n,len)、MID(s,n,len)相同</td>
</tr>
<tr>
<td>LOCATE(substr,str)</td>
<td>返回字符串substr在字符串str中首次出现的位置，作用于POSITION(substr IN str)、INSTR(str,substr)相同。未找到，返回0</td>
</tr>
<tr>
<td>ELT(m,s1,s2,…,sn)</td>
<td>返回指定位置的字符串，如果m&#x3D;1，则返回s1，如果m&#x3D;2，则返回s2，如果m&#x3D;n，则返回sn</td>
</tr>
<tr>
<td>FIELD(s,s1,s2,…,sn)</td>
<td>返回字符串s在字符串列表中第一次出现的位置</td>
</tr>
<tr>
<td>FIND_IN_SET(s1,s2)</td>
<td>返回字符串s1在字符串s2中出现的位置。其中，字符串s2是一个以逗号分隔的字符串</td>
</tr>
<tr>
<td>REVERSE(s)</td>
<td>返回s反转后的字符串</td>
</tr>
<tr>
<td>NULLIF(value1,value2)</td>
<td>比较两个字符串，如果value1与value2相等，则返回NULL，否则返回value1</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：MySQL中，字符串的位置是从1开始的。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 2. 字符串函数</span><br><span class="line"># 注意char_length和length存储的区别，length返回的是在指定编码下底层的字节数</span><br><span class="line">SELECT ASCII(&#x27;Abcdef&#x27;), CHAR_LENGTH(&#x27;hello&#x27;), CHAR_LENGTH(&#x27;我们&#x27;),</span><br><span class="line">LENGTH(&#x27;hello&#x27;), LENGTH(&#x27;我们&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># xxx worked for yyy</span><br><span class="line">SELECT CONCAT(emp.last_name, &#x27; worked for &#x27;, mgr.last_name) &quot;details&quot;</span><br><span class="line">FROM employees emp LEFT JOIN employees mgr</span><br><span class="line">ON emp.manager_id = mgr.employee_id;</span><br><span class="line"></span><br><span class="line"># CONCAT_WS第一个参数是分隔符，是concat的升级版</span><br><span class="line">SELECT CONCAT_WS(&#x27;-&#x27;, &#x27;hello&#x27;, &#x27;world&#x27;, &#x27;hi&#x27;, &#x27;BeiJing&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># INSERT实际上是替换操作, insert指定的是索引和长度，replace指定的是具体的字符串</span><br><span class="line">-- 字符串的索引是从1开始的</span><br><span class="line">-- 字符串，开始位置，替换长度，替换内容</span><br><span class="line">SELECT INSERT(&quot;hello&quot;, 2, 3, &#x27;aaaaaa&#x27;), REPLACE(&#x27;hello&#x27;, &#x27;ll&#x27;, &#x27;mmm&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 大小写转换</span><br><span class="line">SELECT UPPER(&#x27;Hello&#x27;), LOWER(&#x27;Hello&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line">-- 大小写应用（大小写不区分）</span><br><span class="line">SELECT last_name, salary</span><br><span class="line">FROM employees</span><br><span class="line">WHERE LOWER(last_name) = &#x27;king&#x27;;</span><br><span class="line"></span><br><span class="line">SELECT LEFT(&#x27;hello&#x27;, 2), RIGHT(&#x27;hello&#x27;, 3), RIGHT(&#x27;hello&#x27;, 13)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line">-- LPAD: 固定长度占位，不足的部分在左边填补</span><br><span class="line">SELECT employee_id, last_name, LPAD(salary, 10, &#x27;*&#x27;)</span><br><span class="line">FROM employees;</span><br><span class="line"></span><br><span class="line">-- RPAD:固定占位，不足的在右边填补</span><br><span class="line">SELECT employee_id, last_name, RPAD(salary, 10, &#x27;*&#x27;)</span><br><span class="line">FROM employees;</span><br><span class="line"></span><br><span class="line">-- LPAD应用——右对齐(工资)</span><br><span class="line">-- RPAD应用——左对齐（住址）</span><br><span class="line">SELECT employee_id, last_name, LPAD(salary, 10, &#x27; &#x27;)</span><br><span class="line">FROM employees;</span><br><span class="line"></span><br><span class="line"># trim: 去除首尾空格（中间的不能去掉）</span><br><span class="line"># ltrim:去头，rtrim：去尾</span><br><span class="line"># 自定义去头去尾：TRIM(s1 from s) 去除首尾s1的字符</span><br><span class="line"># TRIM(LEADING s1 from s), TRIM(TRAILING s1 from s)，去除首，尾</span><br><span class="line">SELECT CONCAT(&#x27;***&#x27;, TRIM(&#x27;   he llo   &#x27;), &#x27;***&#x27;),</span><br><span class="line">CONCAT(&#x27;***&#x27;, LTRIM(&#x27;   he llo   &#x27;), &#x27;***&#x27;),</span><br><span class="line">TRIM(&#x27;o&#x27; FROM &#x27;oohello&#x27;),</span><br><span class="line">TRIM(LEADING &#x27;oo&#x27; FROM &#x27;oohello&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># REPEAT, SPACE 返回若干长度空格, STRCMP前面大正，后面大负 </span><br><span class="line">SELECT REPEAT(&#x27;hello&#x27;, 4), LENGTH(SPACE(5)), STRCMP(&#x27;abc&#x27;, &#x27;abe&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># locate没找到返回0，否则返回字符串索引</span><br><span class="line">SELECT SUBSTR(&#x27;hello&#x27;, 2, 2), LOCATE(&#x27;l&#x27;, &#x27;hello&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># ELT 根据第一个参数m 返回后面第m个的字符串</span><br><span class="line"># FIELD 返回第一个参数s 返回s在后面从第二个参数开始 第一个出现的位置</span><br><span class="line"># FIND_IN_SET 返回第一个参数s在第二个参数s2字符串第一个出现的位置（使用&#x27;,&#x27;分隔）</span><br><span class="line"># REVERSE 翻转</span><br><span class="line">SELECT ELT(2, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;), FIELD(&#x27;mm&#x27;, &#x27;gg&#x27;, &#x27;jj&#x27;, &#x27;mm&#x27;, &#x27;dd&#x27;, &#x27;mm&#x27;),</span><br><span class="line">FIND_IN_SET(&#x27;mm&#x27;, &#x27;gg,mm,jj,mm,dd,mm&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># NULLIF函数:如果两个参数相等则返回null，否则返回value1，后面会说到IFNULL(流程控制)</span><br><span class="line">SELECT employee_id, NULLIF(LENGTH(first_name), LENGTH(last_name)) &quot;compare&quot;</span><br><span class="line">FROM employees;</span><br></pre></td></tr></table></figure>



<h2 id="4-日期和时间函数"><a href="#4-日期和时间函数" class="headerlink" title="4. 日期和时间函数"></a>4. 日期和时间函数</h2><h3 id="4-1-获取日期和时间"><a href="#4-1-获取日期和时间" class="headerlink" title="4.1 获取日期和时间"></a>4.1 获取日期和时间</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td><strong>CURDATE()</strong> ，CURRENT_DATE()</td>
<td>返回当前日期，只包含年、月、日</td>
</tr>
<tr>
<td><strong>CURTIME()</strong> ， CURRENT_TIME()</td>
<td>返回当前时间，只包含时、分、秒</td>
</tr>
<tr>
<td><strong>NOW()</strong> &#x2F; SYSDATE() &#x2F; CURRENT_TIMESTAMP() &#x2F; LOCALTIME() &#x2F; LOCALTIMESTAMP()</td>
<td>返回当前系统日期和时间</td>
</tr>
<tr>
<td>UTC_DATE()</td>
<td>返回UTC（世界标准时间）日期</td>
</tr>
<tr>
<td>UTC_TIME()</td>
<td>返回UTC（世界标准时间）时间</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 3. 日期和时间函数（可以当字典查询）</span><br><span class="line"></span><br><span class="line"># 3.1 获取日期和时间</span><br><span class="line">SELECT CURDATE(), CURRENT_DATE(), CURTIME(), NOW(), SYSDATE(),</span><br><span class="line">UTC_DATE(), UTC_TIME()</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line">-- 加上一个0，日期转化为数值</span><br><span class="line">SELECT CURDATE() + 0, CURTIME() + 0</span><br></pre></td></tr></table></figure>





<h3 id="4-2-日期和时间戳的互换"><a href="#4-2-日期和时间戳的互换" class="headerlink" title="4.2 日期和时间戳的互换"></a>4.2 日期和时间戳的互换</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>UNIX_TIMESTAMP()</td>
<td>以UNIX时间戳的形式返回当前时间。SELECT UNIX_TIMESTAMP() -&gt;1634348884</td>
</tr>
<tr>
<td>UNIX_TIMESTAMP(date)</td>
<td>将时间date以UNIX时间戳的形式返回。</td>
</tr>
<tr>
<td>FROM_UNIXTIME(timestamp)</td>
<td>将UNIX时间戳的时间转换为普通格式的时间</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 3.2 日期和时间戳转换</span><br><span class="line">-- 应用：单号</span><br><span class="line">SELECT UNIX_TIMESTAMP(), UNIX_TIMESTAMP(&#x27;2024-8-2 19:30:00&#x27;),</span><br><span class="line">FROM_UNIXTIME(1722597961), FROM_UNIXTIME(1722598200)</span><br><span class="line">FROM DUAL;</span><br></pre></td></tr></table></figure>





<h3 id="4-3-获取月份、星期、星期数、天数等"><a href="#4-3-获取月份、星期、星期数、天数等" class="headerlink" title="4.3 获取月份、星期、星期数、天数等"></a>4.3 获取月份、星期、星期数、天数等</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>YEAR(date) &#x2F; MONTH(date) &#x2F; DAY(date)</td>
<td>返回具体的日期值</td>
</tr>
<tr>
<td>HOUR(time) &#x2F; MINUTE(time) &#x2F; SECOND(time)</td>
<td>返回具体的时间值</td>
</tr>
<tr>
<td>MONTHNAME(date)</td>
<td>返回月份：January，…</td>
</tr>
<tr>
<td>DAYNAME(date)</td>
<td>返回星期几：MONDAY，TUESDAY…..SUNDAY</td>
</tr>
<tr>
<td>WEEKDAY(date)</td>
<td>返回周几，注意，周1是0，周2是1，。。。周日是6</td>
</tr>
<tr>
<td>QUARTER(date)</td>
<td>返回日期对应的季度，范围为1～4</td>
</tr>
<tr>
<td>WEEK(date) ， WEEKOFYEAR(date)</td>
<td>返回一年中的第几周</td>
</tr>
<tr>
<td>DAYOFYEAR(date)</td>
<td>返回日期是一年中的第几天</td>
</tr>
<tr>
<td>DAYOFMONTH(date)</td>
<td>返回日期位于所在月份的第几天</td>
</tr>
<tr>
<td>DAYOFWEEK(date)</td>
<td>返回周几，注意：周日是1，周一是2，。。。周六是7</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 3.3 获取月份、星期、星期数、天数等</span><br><span class="line">SELECT YEAR(CURDATE()),MONTH(CURDATE()),DAY(CURDATE()),</span><br><span class="line">HOUR(CURTIME()),MINUTE(NOW()),SECOND(SYSDATE())</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line">-- 注意：WEEK(DATE)周1是0，周日是6</span><br><span class="line">-- 注意：DAYOFWEEK(DATE) 周日是1，周六是7</span><br><span class="line">SELECT MONTHNAME(&#x27;2024-8-2&#x27;),DAYNAME(&#x27;2024-8-2&#x27;),WEEKDAY(&#x27;2024-8-2&#x27;),</span><br><span class="line">QUARTER(CURDATE()),WEEK(CURDATE()),DAYOFYEAR(NOW()),</span><br><span class="line">DAYOFMONTH(NOW()),DAYOFWEEK(NOW())</span><br><span class="line">FROM DUAL;</span><br></pre></td></tr></table></figure>



<h3 id="4-4-日期的操作函数"><a href="#4-4-日期的操作函数" class="headerlink" title="4.4 日期的操作函数"></a>4.4 日期的操作函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>EXTRACT(type FROM date)</td>
<td>返回指定日期中特定的部分，type指定返回的值</td>
</tr>
</tbody></table>
<p>EXTRACT(type FROM date)函数中type的取值与含义：</p>
<table>
<thead>
<tr>
<th align="left">type取值</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">MICROSECOND</td>
<td align="left">返回毫秒数</td>
</tr>
<tr>
<td align="left">SECOND</td>
<td align="left">返回秒数</td>
</tr>
<tr>
<td align="left">MINUTE</td>
<td align="left">返回分钟数</td>
</tr>
<tr>
<td align="left">HOUR</td>
<td align="left">返回小时数</td>
</tr>
<tr>
<td align="left">DAY</td>
<td align="left">返回天数</td>
</tr>
<tr>
<td align="left">WEEK</td>
<td align="left">返回日期在一年中的第几个星期</td>
</tr>
<tr>
<td align="left">MONTH</td>
<td align="left">返回日期在一年中的第几个月</td>
</tr>
<tr>
<td align="left">QUARTER</td>
<td align="left">返回日期在一年中的第几个季度</td>
</tr>
<tr>
<td align="left">YEAR</td>
<td align="left">返回日期的年份</td>
</tr>
<tr>
<td align="left">SECOND_MICROSECOND</td>
<td align="left">返回秒和毫秒值</td>
</tr>
<tr>
<td align="left">MINUTE_MICROSECOND</td>
<td align="left">返回分钟和毫秒值</td>
</tr>
<tr>
<td align="left">MINUTE_SECOND</td>
<td align="left">返回分钟和秒值</td>
</tr>
<tr>
<td align="left">HOUR_MICROSECOND</td>
<td align="left">返回小时和毫秒值</td>
</tr>
<tr>
<td align="left">HOUR_SECOND</td>
<td align="left">返回小时和秒值</td>
</tr>
<tr>
<td align="left">HOUR_MINUTE</td>
<td align="left">返回小时和分钟值</td>
</tr>
<tr>
<td align="left">DAY_MICROSECOND</td>
<td align="left">返回天和毫秒值</td>
</tr>
<tr>
<td align="left">DAY_SECOND</td>
<td align="left">返回天和秒值</td>
</tr>
<tr>
<td align="left">DAY_MINUTE</td>
<td align="left">返回天和分钟值</td>
</tr>
<tr>
<td align="left">DAY_HOUR</td>
<td align="left">返回天和小时</td>
</tr>
<tr>
<td align="left">YEAR_MONTH</td>
<td align="left">返回年和月</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 3.4 日期的操作函数</span><br><span class="line"></span><br><span class="line">SELECT EXTRACT(SECOND FROM NOW()),</span><br><span class="line">EXTRACT(HOUR_MINUTE FROM NOW()),</span><br><span class="line">EXTRACT(QUARTER FROM &#x27;2024-8-2&#x27;)</span><br><span class="line">FROM DUAL;</span><br></pre></td></tr></table></figure>





<h3 id="4-5-时间和秒数转换"><a href="#4-5-时间和秒数转换" class="headerlink" title="4.5 时间和秒数转换"></a>4.5 时间和秒数转换</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>TIME_TO_SEC(time)</td>
<td>将 time 转化为秒并返回结果值。转化的公式为：<code>小时*3600+分钟*60+秒</code></td>
</tr>
<tr>
<td>SEC_TO_TIME(seconds)</td>
<td>将 seconds 描述转化为包含小时、分钟和秒的时间</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 3.5 时间和秒数转换，只考虑时分秒，使用少</span><br><span class="line">-- 3600*h+60*m+60*s</span><br><span class="line">SELECT TIME_TO_SEC(CURTIME()),</span><br><span class="line">SEC_TO_TIME(70657)</span><br><span class="line">FROM DUAL;</span><br></pre></td></tr></table></figure>



<h3 id="4-6-计算日期和时间"><a href="#4-6-计算日期和时间" class="headerlink" title="4.6 计算日期和时间"></a>4.6 计算日期和时间</h3><p>第1组</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>DATE_ADD(datetime, INTERVAL  expr type)，ADDDATE(date,INTERVAL expr type)</td>
<td>返回与给定日期时间相差INTERVAL时间段的日期时间</td>
</tr>
<tr>
<td>DATE_SUB(date,INTERVAL expr type)，SUBDATE(date,INTERVAL expr type)</td>
<td>返回与date相差INTERVAL时间间隔的日期</td>
</tr>
</tbody></table>
<p>上述函数中type的取值：</p>
<table>
<thead>
<tr>
<th align="left">type取值</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">HOUR</td>
<td align="left">小时</td>
</tr>
<tr>
<td align="left">MINUTE</td>
<td align="left">分钟</td>
</tr>
<tr>
<td align="left">SECOND</td>
<td align="left">秒</td>
</tr>
<tr>
<td align="left">YEAR</td>
<td align="left">年</td>
</tr>
<tr>
<td align="left">MONTH</td>
<td align="left">月</td>
</tr>
<tr>
<td align="left">DAY</td>
<td align="left">日</td>
</tr>
<tr>
<td align="left">YEAR_MONTH</td>
<td align="left">年和月</td>
</tr>
<tr>
<td align="left">DAY_HOUR</td>
<td align="left">日和小时</td>
</tr>
<tr>
<td align="left">DAY_MINUTE</td>
<td align="left">日和分钟</td>
</tr>
<tr>
<td align="left">DAY_SECOND</td>
<td align="left">日和秒</td>
</tr>
<tr>
<td align="left">HOUR MINUTE</td>
<td align="left">小时和分钟</td>
</tr>
<tr>
<td align="left">HOUR SECOND</td>
<td align="left">小时和秒</td>
</tr>
<tr>
<td align="left">MINUTE SECOND</td>
<td align="left">分钟和秒</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 3.6 计算日期和时间的函数，使用多</span><br><span class="line"></span><br><span class="line">SELECT NOW(), DATE_ADD(NOW(), INTERVAL 1 YEAR),</span><br><span class="line"># DATE_ADD(NOW(), INTERVAL -1 YEAR),</span><br><span class="line">DATE_SUB(NOW(), INTERVAL 1 YEAR)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># 第一组</span><br><span class="line">SELECT DATE_ADD(NOW(), INTERVAL 1 DAY) AS col1,</span><br><span class="line">DATE_ADD(&#x27;2021-10-21 23:32:12&#x27;,INTERVAL 1 SECOND) AS col2,</span><br><span class="line">ADDDATE(&#x27;2021-10-21 23:32:12&#x27;,INTERVAL 1 SECOND) AS col3,</span><br><span class="line">DATE_ADD(&#x27;2021-10-21 23:32:12&#x27;,INTERVAL &#x27;1_1&#x27; MINUTE_SECOND) AS col4,</span><br><span class="line">DATE_ADD(NOW(), INTERVAL -1 YEAR) AS col5, #可以是负数</span><br><span class="line">DATE_ADD(NOW(), INTERVAL &#x27;1_1&#x27; YEAR_MONTH) AS col6 #需要单引号</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># SUB 同理</span><br></pre></td></tr></table></figure>



<p>第2组</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>ADDTIME(time1,time2)</td>
<td>返回time1加上time2的时间。当time2为一个数字时，代表的是<code>秒</code>，可以为负数</td>
</tr>
<tr>
<td>SUBTIME(time1,time2)</td>
<td>返回time1减去time2后的时间。当time2为一个数字时，代表的是<code>秒</code>，可以为负数</td>
</tr>
<tr>
<td>DATEDIFF(date1,date2)</td>
<td>返回date1 - date2的日期间隔天数</td>
</tr>
<tr>
<td>TIMEDIFF(time1, time2)</td>
<td>返回time1 - time2的时间间隔</td>
</tr>
<tr>
<td>FROM_DAYS(N)</td>
<td>返回从0000年1月1日起，N天以后的日期</td>
</tr>
<tr>
<td>TO_DAYS(date)</td>
<td>返回日期date距离0000年1月1日的天数</td>
</tr>
<tr>
<td>LAST_DAY(date)</td>
<td>返回date所在月份的最后一天的日期</td>
</tr>
<tr>
<td>MAKEDATE(year,n)</td>
<td>针对给定年份与所在年份中的天数返回一个日期</td>
</tr>
<tr>
<td>MAKETIME(hour,minute,second)</td>
<td>将给定的小时、分钟和秒组合成时间并返回</td>
</tr>
<tr>
<td>PERIOD_ADD(time,n)</td>
<td>返回time加上n后的时间</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 第二组</span><br><span class="line">-- 注意PERIOD_ADD的写法（CURDATE() + 0的数字形式）</span><br><span class="line">SELECT ADDTIME(NOW(),20),SUBTIME(NOW(),30),SUBTIME(NOW(),&#x27;1:1:3&#x27;),DATEDIFF(NOW(),&#x27;2021-10-01&#x27;),</span><br><span class="line">TIMEDIFF(NOW(),&#x27;2021-10-25 22:10:10&#x27;),FROM_DAYS(366),TO_DAYS(&#x27;0000-12-25&#x27;),</span><br><span class="line">LAST_DAY(NOW()),MAKEDATE(YEAR(NOW()),12),MAKETIME(10,21,23),PERIOD_ADD(20200101010101,10)</span><br><span class="line">FROM DUAL;</span><br></pre></td></tr></table></figure>





<h3 id="4-7-日期的格式化与解析"><a href="#4-7-日期的格式化与解析" class="headerlink" title="4.7 日期的格式化与解析"></a>4.7 日期的格式化与解析</h3><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>DATE_FORMAT(date,fmt)</td>
<td>按照字符串fmt格式化日期date值</td>
</tr>
<tr>
<td>TIME_FORMAT(time,fmt)</td>
<td>按照字符串fmt格式化时间time值</td>
</tr>
<tr>
<td>GET_FORMAT(date_type,format_type)</td>
<td>返回日期字符串的显示格式</td>
</tr>
<tr>
<td>STR_TO_DATE(str, fmt)</td>
<td>按照字符串fmt对str进行解析，解析为一个日期</td>
</tr>
</tbody></table>
<p>上述<code>非GET_FORMAT</code>函数中fmt参数常用的格式符：</p>
<table>
<thead>
<tr>
<th>格式符</th>
<th>说明</th>
<th>格式符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>%Y</td>
<td>4位数字表示年份</td>
<td>%y</td>
<td>表示两位数字表示年份</td>
</tr>
<tr>
<td>%M</td>
<td>月名表示月份（January,….）</td>
<td>%m</td>
<td>两位数字表示月份（01,02,03。。。）</td>
</tr>
<tr>
<td>%b</td>
<td>缩写的月名（Jan.，Feb.，….）</td>
<td>%c</td>
<td>数字表示月份（1,2,3,…）</td>
</tr>
<tr>
<td>%D</td>
<td>英文后缀表示月中的天数（1st,2nd,3rd,…）</td>
<td>%d</td>
<td>两位数字表示月中的天数(01,02…)</td>
</tr>
<tr>
<td>%e</td>
<td>数字形式表示月中的天数（1,2,3,4,5…..）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>%H</td>
<td>两位数字表示小数，24小时制（01,02..）</td>
<td>%h和%I</td>
<td>两位数字表示小时，12小时制（01,02..）</td>
</tr>
<tr>
<td>%k</td>
<td>数字形式的小时，24小时制(1,2,3)</td>
<td>%l</td>
<td>数字形式表示小时，12小时制（1,2,3,4….）</td>
</tr>
<tr>
<td>%i</td>
<td>两位数字表示分钟（00,01,02）</td>
<td>%S和%s</td>
<td>两位数字表示秒(00,01,02…)</td>
</tr>
<tr>
<td>%W</td>
<td>一周中的星期名称（Sunday…）</td>
<td>%a</td>
<td>一周中的星期缩写（Sun.，Mon.,Tues.，..）</td>
</tr>
<tr>
<td>%w</td>
<td>以数字表示周中的天数(0&#x3D;Sunday,1&#x3D;Monday….)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>%j</td>
<td>以3位数字表示年中的天数(001,002…)</td>
<td>%U</td>
<td>以数字表示年中的第几周，（1,2,3。。）其中Sunday为周中第一天</td>
</tr>
<tr>
<td>%u</td>
<td>以数字表示年中的第几周，（1,2,3。。）其中Monday为周中第一天</td>
<td></td>
<td></td>
</tr>
<tr>
<td>%T</td>
<td>24小时制</td>
<td>%r</td>
<td>12小时制</td>
</tr>
<tr>
<td>%p</td>
<td>AM或PM</td>
<td>%%</td>
<td>表示%</td>
</tr>
</tbody></table>
<p>GET_FORMAT函数中date_type和format_type参数取值如下：</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240814154102370.png" alt="image-20240814154102370">	</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 3.7 日期的格式化和解析</span><br><span class="line"># 格式化：日期--&gt; 字符串，解析：字符串--&gt;日期</span><br><span class="line"># 我们谈论的是 显示 的格式化和解析</span><br><span class="line"></span><br><span class="line"># 默认的隐式解析</span><br><span class="line">SELECT *</span><br><span class="line">FROM Employees</span><br><span class="line">WHERE hire_date = &#x27;1993-01-13&#x27;;</span><br><span class="line"></span><br><span class="line"># 格式化</span><br><span class="line">SELECT DATE_FORMAT(CURDATE(), &#x27;%Y-%M-%D&#x27;),</span><br><span class="line">DATE_FORMAT(NOW(), &#x27;%Y-%m-%d&#x27;),</span><br><span class="line">TIME_FORMAT(CURTIME(), &#x27;%H:%i:%s&#x27;),</span><br><span class="line">TIME_FORMAT(CURTIME(), &#x27;%h:%i:%S&#x27;),</span><br><span class="line">DATE_FORMAT(NOW(), &#x27;%Y-%M-%D %h:%i:%S %W %w %T %r&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line"># 解析：格式化的逆过程</span><br><span class="line">SELECT STR_TO_DATE(&#x27;2024-August-2nd 08:04:00 Friday 5&#x27;,&#x27;%Y-%M-%D %h:%i:%S %W %w&#x27;)</span><br><span class="line">FROM DUAL</span><br><span class="line"></span><br><span class="line"># 获取每个国家的格式化类型, 可以便捷地使用格式化</span><br><span class="line">SELECT DATE_FORMAT(CURDATE(), GET_FORMAT(DATE, &#x27;USA&#x27;))</span><br><span class="line">FROM DUAL;</span><br></pre></td></tr></table></figure>





<h2 id="5-流程控制函数"><a href="#5-流程控制函数" class="headerlink" title="5. 流程控制函数"></a>5. 流程控制函数</h2><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>IF(value,value1,value2)</td>
<td>如果value的值为TRUE，返回value1，否则返回value2</td>
</tr>
<tr>
<td>IFNULL(value1, value2)</td>
<td>如果value1不为NULL，返回value1，否则返回value2</td>
</tr>
<tr>
<td>CASE WHEN 条件1 THEN 结果1 WHEN 条件2 THEN 结果2 …. [ELSE resultn] END</td>
<td>相当于Java的if…else if…else…</td>
</tr>
<tr>
<td>CASE  expr WHEN 常量值1 THEN 值1 WHEN 常量值1 THEN 值1 …. [ELSE 值n] END</td>
<td>相当于Java的switch…case…</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 4.流程控制函数</span><br><span class="line"># 4.1 IF(value, value1, value2) 如果value为真则返回value1，否则返回value2</span><br><span class="line"></span><br><span class="line">SELECT last_name, salary, IF(salary &gt;= 6000, &#x27;高工资&#x27;, &#x27;低工资&#x27;) &quot;details&quot;</span><br><span class="line">FROM employees;</span><br><span class="line"></span><br><span class="line">SELECT last_name, commission_pct, IF(commission_pct IS NOT NULL, commission_pct, 0) &quot;details&quot;,</span><br><span class="line">salary * 12 * (1 + IF(commission_pct IS NOT NULL, commission_pct, 0)) &quot;annual salary&quot;</span><br><span class="line">FROM employees;</span><br><span class="line"></span><br><span class="line"># 4.2 IFNULL(value1, value2)，是IF(value, value1, value2)特殊情况，判断value1为null的情况</span><br><span class="line">SELECT last_name, commission_pct, IFNULL(commission_pct, 0) &quot;details&quot;</span><br><span class="line">FROM employees</span><br><span class="line"></span><br><span class="line"># 4.3 CASE WHEN ... THEN ...ELSE...END(else可以省略)</span><br><span class="line"># 类似java的 if.. else if...else ..</span><br><span class="line">SELECT last_name, salary, CASE WHEN salary &gt;= 15000 THEN &#x27;精英&#x27;</span><br><span class="line">			       WHEN salary &gt;= 10000 THEN &#x27;潜力股&#x27;</span><br><span class="line">			       WHEN salary &gt;= 8000 THEN &#x27;屌丝&#x27;</span><br><span class="line">			       ELSE &#x27;草根&#x27; END &quot;details&quot;</span><br><span class="line">FROM employees;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 4.4 CASE 表达式 WHEN ... THEN ... WHEN.. THEN .. ELSE ... END</span><br><span class="line"># 类似于 java的switch() case case default....</span><br><span class="line">/*</span><br><span class="line">  练习1：查询部门号为 10,20, 30 的员工信息, </span><br><span class="line">  若部门号为 10, 则打印其工资的 1.1 倍, </span><br><span class="line">  20 号部门, 则打印其工资的 1.2 倍, </span><br><span class="line">  30 号部门打印其工资的 1.3 倍数</span><br><span class="line">  其他部门，打印工资的1.4倍</span><br><span class="line">*/</span><br><span class="line">SELECT employee_id, last_name, department_id, salary,</span><br><span class="line">CASE department_id WHEN 10 THEN salary * 1.1</span><br><span class="line">		   WHEN 20 THEN salary * 1.2</span><br><span class="line">		   WHEN 30 THEN salary * 1.3</span><br><span class="line">		   ELSE salary * 1.4 END &quot;details&quot;</span><br><span class="line">FROM employees</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">  练习2：查询部门号为 10,20, 30 的员工信息, </span><br><span class="line">  若部门号为 10, 则打印其工资的 1.1 倍, </span><br><span class="line">  20 号部门, 则打印其工资的 1.2 倍, </span><br><span class="line">  30 号部门打印其工资的 1.3 倍数</span><br><span class="line">*/</span><br><span class="line">SELECT employee_id, last_name, department_id, salary,</span><br><span class="line">CASE department_id WHEN 10 THEN salary * 1.1</span><br><span class="line">		   WHEN 20 THEN salary * 1.2</span><br><span class="line">		   WHEN 30 THEN salary * 1.3</span><br><span class="line">		   END &quot;details&quot;</span><br><span class="line">FROM employees</span><br><span class="line">WHERE department_id IN (10, 20, 30)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 注：循环结构实际上sql查询时已经自带循环了（存储过程会讲到循环）</span><br></pre></td></tr></table></figure>



<h2 id="6-加密和解密函数"><a href="#6-加密和解密函数" class="headerlink" title="6. 加密和解密函数"></a>6. 加密和解密函数</h2><table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>PASSWORD(str)</td>
<td>返回字符串str的加密版本，41位长的字符串。加密结果<code>不可逆</code>，常用于用户的密码加密</td>
</tr>
<tr>
<td>MD5(str)</td>
<td>返回字符串str的md5加密后的值，也是一种加密方式。若参数为NULL，则会返回NULL</td>
</tr>
<tr>
<td>SHA(str)</td>
<td>从原明文密码str计算并返回加密后的密码字符串，当参数为NULL时，返回NULL。<code>SHA加密算法比MD5更加安全</code>。</td>
</tr>
<tr>
<td>ENCODE(value,password_seed)</td>
<td>返回使用password_seed作为加密密码加密value</td>
</tr>
<tr>
<td>DECODE(value,password_seed)</td>
<td>返回使用password_seed作为加密密码解密value</td>
</tr>
</tbody></table>
<ul>
<li>ENCODE(value,password_seed)函数与DECODE(value,password_seed)函数互为反函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 5. 加密和解密</span><br><span class="line"># 加密操作，一般客户端传输前就执行了加密了，所以数据库本身用的不多</span><br><span class="line">-- PASSWORD ENCODE DECODE在mysql8.0不推荐使用，5.6还可以</span><br><span class="line">/*</span><br><span class="line">select PASSWORD(&#x27;mysql&#x27;), ENCODE(&#x27;mysql&#x27;, &#x27;mysql&#x27;), DECODE(ENCODE(&#x27;mysql&#x27;, &#x27;mysql&#x27;), &#x27;mysql&#x27;)</span><br><span class="line">from dual;</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">SELECT MD5(&#x27;mysql&#x27;), SHA(&#x27;mysql&#x27;)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="7-MySQL信息函数"><a href="#7-MySQL信息函数" class="headerlink" title="7. MySQL信息函数"></a>7. MySQL信息函数</h2><p>MySQL中内置了一些可以查询MySQL信息的函数，这些函数主要用于帮助数据库开发或运维人员更好地对数据库进行维护工作。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>VERSION()</td>
<td>返回当前MySQL的版本号</td>
</tr>
<tr>
<td>CONNECTION_ID()</td>
<td>返回当前MySQL服务器的连接数</td>
</tr>
<tr>
<td>DATABASE()，SCHEMA()</td>
<td>返回MySQL命令行当前所在的数据库</td>
</tr>
<tr>
<td>USER()，CURRENT_USER()、SYSTEM_USER()，SESSION_USER()</td>
<td>返回当前连接MySQL的用户名，返回结果格式为“主机名@用户名”</td>
</tr>
<tr>
<td>CHARSET(value)</td>
<td>返回字符串value自变量的字符集</td>
</tr>
<tr>
<td>COLLATION(value)</td>
<td>返回字符串value的比较规则</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 6. mysql信息函数（知道连接的用户是谁，连接情况等）</span><br><span class="line">SELECT VERSION(), CONNECTION_ID(), DATABASE(), SCHEMA(),</span><br><span class="line">USER(), CURRENT_USER(), CHARSET(&#x27;尚硅谷&#x27;), COLLATION(&#x27;尚硅谷&#x27;)</span><br><span class="line">FROM DUAL;</span><br></pre></td></tr></table></figure>





<h2 id="8-其他函数"><a href="#8-其他函数" class="headerlink" title="8. 其他函数"></a>8. 其他函数</h2><p>MySQL中有些函数无法对其进行具体的分类，但是这些函数在MySQL的开发和运维过程中也是不容忽视的。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>用法</th>
</tr>
</thead>
<tbody><tr>
<td>FORMAT(value,n)</td>
<td>返回对数字value进行格式化后的结果数据。n表示<code>四舍五入</code>后保留到小数点后n位</td>
</tr>
<tr>
<td>CONV(value,from,to)</td>
<td>将value的值进行不同进制之间的转换</td>
</tr>
<tr>
<td>INET_ATON(ipvalue)</td>
<td>将以点分隔的IP地址转化为一个数字</td>
</tr>
<tr>
<td>INET_NTOA(value)</td>
<td>将数字形式的IP地址转化为以点分隔的IP地址</td>
</tr>
<tr>
<td>BENCHMARK(n,expr)</td>
<td>将表达式expr重复执行n次。用于测试MySQL处理expr表达式所耗费的时间</td>
</tr>
<tr>
<td>CONVERT(value USING char_code)</td>
<td>将value所使用的字符编码修改为char_code</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 7. 其他函数</span><br><span class="line">-- format保留小数(不同round是，负数都是保留整数位)</span><br><span class="line">SELECT FORMAT(123.567, 2), FORMAT(123.567, 0), FORMAT(123.567, -2)</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line">-- conv(value, from, to) value从from进制到to进制</span><br><span class="line">SELECT CONV(16, 10, 2), CONV(8888,10,16), CONV(NULL, 10, 2);</span><br><span class="line"></span><br><span class="line">-- inet_aton将ip转化为数字 inet_ntoa ip转化成ip</span><br><span class="line">-- 192*256^3 + 168*256^2+168*256^1+100*256^0</span><br><span class="line">SELECT INET_ATON(&#x27;192.168.1.100&#x27;), INET_NTOA(INET_ATON(&#x27;192.168.1.100&#x27;))</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line">-- benchmark(n, expr):执行次数多次，测试mysql执行expr耗费时间(观察执行时间)</span><br><span class="line">SELECT BENCHMARK(100000, MD5(&#x27;mysql&#x27;))</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line">-- convert(value USING char_code) value修改字符集为code，实现字符集的转换（常见于前后端 数据库的编码一致）</span><br><span class="line">SELECT CHARSET(&#x27;atguigu&#x27;), CHARSET(CONVERT(&#x27;atguigu&#x27; USING &#x27;utf8mb4&#x27;))</span><br><span class="line">FROM DUAL;</span><br></pre></td></tr></table></figure>



<h2 id="9-课后练习"><a href="#9-课后练习" class="headerlink" title="9. 课后练习"></a>9. 课后练习</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># chapter07 exercise</span><br><span class="line"></span><br><span class="line">#1.显示系统时间(注:日期+时间)</span><br><span class="line">SELECT NOW(), SYSDATE(), CURDATE(), CURTIME()</span><br><span class="line">FROM DUAL;</span><br><span class="line"></span><br><span class="line">#2.查询员工号，姓名，工资，以及工资提高百分之20%后的结果(newsalary)</span><br><span class="line">SELECT e.employee_id, e.last_name, IFNULL(e.salary, 0), IFNULL(salary * (1 + 0.2), 0) &quot;newsalary&quot;</span><br><span class="line">FROM employees e;</span><br><span class="line"></span><br><span class="line">#3.将员工的姓名按首字母排序，并写出姓名的长度(length)</span><br><span class="line">SELECT e.last_name, LENGTH(e.last_name)</span><br><span class="line">FROM employees e</span><br><span class="line">ORDER BY e.last_name;</span><br><span class="line"></span><br><span class="line"># 4.查询员工id,last_name,salary，并作为一个列输出，别名为OUT_PUT</span><br><span class="line">SELECT CONCAT_WS(&#x27;_&#x27;, e.employee_id, e.last_name, e.salary) &quot;OUT_PUT&quot;</span><br><span class="line">FROM employees e;</span><br><span class="line"></span><br><span class="line">#5.查询公司各员工工作的年数、工作的天数，并按工作年数的降序排序</span><br><span class="line">SELECT e.hire_date, DATEDIFF(CURDATE(), e.hire_date) / 365 &quot;work_year&quot;, DATEDIFF(CURDATE(), e.hire_date) &quot;work_day&quot;,</span><br><span class="line">TO_DAYS(CURDATE()) - TO_DAYS(e.hire_date) &quot; workday2&quot;</span><br><span class="line">FROM employees e</span><br><span class="line">ORDER BY work_year DESC;</span><br><span class="line"></span><br><span class="line">#6.查询员工姓名，hire_date ,department_id，满足以下条件:雇用时间在1997年之后，department_id 为80 或98 或110，commission_pct不为空</span><br><span class="line">SELECT e.last_name, e.hire_date, e.department_id</span><br><span class="line">FROM employees e</span><br><span class="line">WHERE department_id IN(80, 98, 110)</span><br><span class="line">AND commission_pct IS NOT NULL</span><br><span class="line"># 隐式转换</span><br><span class="line"># AND year(hire_date) &gt;= 1997;</span><br><span class="line">#AND hire_date &gt;= &#x27;1997-01-01&#x27;;</span><br><span class="line"># 显式转换(格式化 日期---&gt;字符串， 解析：字符串-&gt;日期)</span><br><span class="line"># and date_format(hire_date, &quot;%Y-%m-%d&quot;) &gt;= &#x27;1997-01-01&#x27;;</span><br><span class="line"># AND hire_date &gt;= STR_TO_DATE(&#x27;1997-01-01&#x27;, &#x27;%Y-%m-%d&#x27;)</span><br><span class="line"># 优化</span><br><span class="line"># AND DATE_FORMAT(hire_date, &quot;%Y) &gt;= &#x27;1997&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#7.查询公司中入职超过10000天的员工姓名、入职时间</span><br><span class="line">SELECT e.last_name, e.hire_date, DATEDIFF(CURDATE(), e.hire_date)</span><br><span class="line">FROM employees e</span><br><span class="line">WHERE DATEDIFF(CURDATE(), e.hire_date) &gt;= 10000;</span><br><span class="line"></span><br><span class="line">#8.做一个查询，产生下面的结果</span><br><span class="line"># &lt;last_name&gt; earns &lt;salary&gt; monthly but wants &lt;salary*3&gt;</span><br><span class="line">SELECT CONCAT_WS(&#x27; &#x27;, e.last_name, &#x27;earns&#x27;, TRUNCATE(e.salary, 0), &#x27;monthly but wnats&#x27;, TRUNCATE(e.salary * 3, 0)) &quot;Dream Salary&quot;</span><br><span class="line">FROM employees e;</span><br><span class="line"></span><br><span class="line">#9.使用case-when，按照下面的条件:</span><br><span class="line">SELECT e.last_name, e.job_id, CASE e.job_id WHEN &#x27;AD_PRES&#x27; THEN &#x27;A&#x27;</span><br><span class="line">		     WHEN &#x27;SA_MAN&#x27; THEN &#x27;B&#x27;</span><br><span class="line">		     WHEN &#x27;IT_PROG&#x27; THEN &#x27;C&#x27;</span><br><span class="line">		     WHEN &#x27;SA_REP&#x27; THEN &#x27;D&#x27;</span><br><span class="line">		     WHEN &#x27;ST_CLERK&#x27; THEN &#x27;E&#x27; </span><br><span class="line">		     ELSE &#x27;undefined&#x27; END &quot;grade&quot;</span><br><span class="line">FROM employees e</span><br><span class="line">WHERE e.job_id IN(&#x27;AD_PRES&#x27;, &#x27;SA_MAN&#x27;, &#x27;IT_PROG&#x27;, &#x27;SA_REP&#x27;, &#x27;ST_CLERK&#x27;)</span><br><span class="line">ORDER BY grade;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io">yuezi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/07.%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0/">https://yuezi2048.github.io/2024/10/13/2.Areas🌐/back-end-java/2.MySQL/基础篇/07.单行函数/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://yuezi2048.github.io" target="_blank">yuezi</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%9F%BA%E7%A1%80%E7%AF%87/">基础篇</a></div><div class="post-share"><div class="social-share" data-image="/img/touxiang.jpg" data-sites="qq,wechat"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/11.%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9/" title="11.数据的增删改"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">11.数据的增删改</div></div><div class="info-2"><div class="info-item-1">十一、数据的增删改# 0. 储备工作USE atguigudb;CREATE TABLE IF NOT EXISTS emp1(id INT,`name` VARCHAR(15),hire_date DATE,salary DOUBLE(10, 2));DESC emp1;SELECT * FROM emp1;    1. 插入数据1.1 方式1：VALUES ① 没有指明，默认按照声明顺序 ② 指明添加的字段（推荐），其他没有声明的字段为默认值（注意约束的条件） ③ 可以同时插入多条字段，用逗号隔开（推荐）  # 1. 添加数据# 方式1：一条一条加# ① 没有指明添加的字段（此时必须要按照声明的先后顺序添加）INSERT INTO emp1VALUES (1, &#x27;Tom&#x27;, &#x27;2000-12-21&#x27;, 3400);# ② 指明要添加的字段（推荐 可以不加一些字段，当然在没有约束等条件下）INSERT INTO emp1(id, hire_date, salary, `name`)VALUES (2,...</div></div></div></a><a class="pagination-related" href="/2024/10/15/2.Areas%F0%9F%8C%90/basic-408/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/3.%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/" title="3.栈和队列"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">3.栈和队列</div></div><div class="info-2"><div class="info-item-1">一、栈1.1 受限逻辑结构栈：受限的线性表（逻辑结构）—&gt; 顺序表和链表是物理结构 线性表：可以在任意位置进行操作 对线性表的操作进行约束：只允许在一端进行添加或者删除，另一端及中间位置不能操作：栈（Stack），生活例子：弹夹  允许操作的一端：栈顶 不允许操作的一段：栈底 如果没有元素：空栈  栈相关方法：  操作 入栈 出栈   判断 判满 判空  性质：先进后出 应用场景：  函数调用的实现（递归） 倒着走的业务逻辑（历史记录 撤销） 内存的堆栈：物理 STL库：stack容器  –&gt; 栈  1.2 顺序存储实现存储结构 顺序存储实现栈：顺序栈 —-&gt; 数组a[MAX_SIZE] 初始化栈：栈底固定不动，在下标0位置。栈顶是活动的，需要变量（int）标记栈顶：top —&gt; 为了描述方便，通常借用指针称呼top变量：栈顶指针  top &#x3D; -1 —&gt; top指向栈顶元素真正的位置 入栈：需判满，top++，指向新的栈顶位置，再在top下标位置放入元素  –&gt; a[++top] &#x3D;...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/08/14/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/00.%E5%9F%BA%E7%A1%80%E7%AF%87%E5%86%85%E5%AE%B9%E6%A1%86%E6%9E%B6/" title="00.基础篇内容框架"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-14</div><div class="info-item-2">00.基础篇内容框架</div></div><div class="info-2"><div class="info-item-1">MySQL数据库基础篇分为5个篇章： 1. 数据库概述与MySQL安装篇  第01章：数据库概述 第02章：MySQL环境搭建  2. SQL之SELECT使用篇  第03章：基本的SELECT语句 第04章：运算符 第05章：排序与分页 第06章：多表查询 第07章：单行函数 第08章：聚合函数 第09章：子查询  3. SQL之DDL、DML、DCL使用篇  第10章：创建和管理表 第11章：数据处理之增删改 第12章：MySQL数据类型精讲 第13章：约束  4. 其它数据库对象篇（开发用到了再学）  第14章：视图 第15章：存储过程与函数 第16章：变量、流程控制与游标 第17章：触发器  5. MySQL8 新特性篇（开发用到了再学）  第18章：MySQL8其它新特性  ps：普通开发往往积累单点技术、比如 CRUD、锁类型、索引的数据结构… 而对于技术骨干、架构师则往往需要对底层原理吃透：  数据库事务 ACID...</div></div></div></a><a class="pagination-related" href="/2024/08/14/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E8%BF%B0/" title="01.数据库概述"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-14</div><div class="info-item-2">01.数据库概述</div></div><div class="info-2"><div class="info-item-1">一、数据库概述1. 为什么要数据库 数据的持久化：将数据保存到硬盘上，可供可掉电式的存储设备使用，大多使用关系数据库实现（也可以通过文件I&#x2F;O、XML实现）  	 2. DB 和 DBMS2.1 概述 数据库DB：存储数据的仓库，本质上是一个文件系统，保存一系列有组织的数据 数据库管理系统DBMS：管理和操纵数据库的大型软件，从而建立、使用和维护数据库。用户可以使用DBMS查询数据库的数据 结构化查询语言SQL：用于数据库交互的语言  其中，DBMS可以管理多个DB，开发中，通常针对每个应用创建一个数据库，并在一个数据库中创建多个表，从而保存实体用户的数据 	 2.2 常见DBMS常见的DBMS 参考数据库最新排名:https://db-engines.com/en/ranking 	 发展趋势：https://db-engines.com/en/ranking_trend 	 Oracle 1979 年，Oracle 2 诞生，它是第一个商用的 RDBMS（关系型数据库管理系统）。随着 Oracle 软件的名气越来越大，公司也改名叫 Oracle...</div></div></div></a><a class="pagination-related" href="/2025/05/25/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/02.MySQL%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="02.MySQL环境搭建"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-25</div><div class="info-item-2">02.MySQL环境搭建</div></div><div class="info-2"><div class="info-item-1">二、MySQL环境搭建1. 清除原有MySQL环境Step1：停止MySQL服务 	 Step2：软件卸载  亦可通过mysql-installer-community-8.0.26.0.msi卸载，此时安装目录也会被移除  	 Step3：残余文件清理 如果再次安装不成功，可以卸载后对残余文件进行清理后再安装。 （1）服务目录：mysql服务的安装目录 （2）数据目录：默认在C:\ProgramData\MySQL 注意：请在卸载前做好数据备份 在操作完以后，需要重启计算机，然后进行安装即可。如果仍然安装失败，需要继续操作如下步骤4。 Step4：清理注册表 在系统的搜索框中输入regedit HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Services\Eventlog\Application\MySQL服务 目录删除HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Services\MySQL服务...</div></div></div></a><a class="pagination-related" href="/2024/08/16/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/03.%E5%9F%BA%E6%9C%ACSELECT%E8%AF%AD%E5%8F%A5/" title="03.基本SELECT语句"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-16</div><div class="info-item-2">03.基本SELECT语句</div></div><div class="info-2"><div class="info-item-1">三、基本SELECT语句1. SQL概述1.1 SQL背景 1946 年，世界上第一台电脑诞生，如今，借由这台电脑发展起来的互联网已经自成江湖。在这几十年里，无数的技术、产业在这片江湖里沉浮，有的方兴未艾，有的已经几幕兴衰。但在这片浩荡的波动里，有一门技术从未消失，甚至“老当益壮”，那就是 SQL。  45 年前，也就是 1974 年，IBM 研究员发布了一篇揭开数据库技术的论文《SEQUEL：一门结构化的英语查询语言》，直到今天这门结构化的查询语言并没有太大的变化，相比于其他语言，SQL 的半衰期可以说是非常长了。   不论是前端工程师，还是后端算法工程师，都一定会和数据打交道，都需要了解如何又快又准确地提取自己想要的数据。更别提数据分析师了，他们的工作就是和数据打交道，整理不同的报告，以便指导业务决策。  SQL（Structured Query...</div></div></div></a><a class="pagination-related" href="/2025/04/24/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/04.%E8%BF%90%E7%AE%97%E7%AC%A6/" title="04.运算符"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-24</div><div class="info-item-2">04.运算符</div></div><div class="info-2"><div class="info-item-1">四、运算符1. 算数运算符算术运算符主要用于数学运算，其可以连接运算符前后的两个数值或表达式，对数值或表达式进行加（+）、减（-）、乘（*）、除（&#x2F;）和取模（%）运算。 1.1 加减法# 算数运算符：+ - * / div % mod SELECT 100, 100 + 0, 100 - 0, 100 + 50, 100 + 50 - 30, 100 + 35.5, 100 - 35.5FROM DUAL;+-----+---------+---------+----------+--------------+------------+------------+| 100 | 100 + 0 | 100 - 0 | 100 + 50 | 100 + 50 -30 | 100 + 35.5 | 100 - 35.5 |+-----+---------+---------+----------+--------------+------------+------------+| 100 |     100 |     100 |      150 |         ...</div></div></div></a><a class="pagination-related" href="/2025/05/28/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/05.%E6%8E%92%E5%BA%8F%E5%92%8C%E5%88%86%E9%A1%B5/" title="05.排序和分页"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-28</div><div class="info-item-2">05.排序和分页</div></div><div class="info-2"><div class="info-item-1">五、排序和分页1. 排序1.1 单列排序 使用 ORDER BY 子句排序 ASC（ascend）: 升序 DESC（descend）:降序   ORDER BY 子句在SELECT语句的结尾。 关注SELECT查询的顺序，实际场景：别名不能在where从句中使用，而可以在order by中使用  # 1. 一级排序# 如果没有使用排序操作，默认情况下查询返回的数据按照添加数据的顺序SELECT * FROM employees;-- 1.1 基本使用# 练习：按照salary从高到低显示数据(ORDER BY 通过什么来排序)# 升序:ASC(ascend) 降序：DESC(descend)SELECT employee_id, last_name, salaryFROM employeesORDER BY salary DESC;# 从低到高(没有显式写，默认升序)SELECT employee_id, last_name, salaryFROM employeesORDER BY salary ASC;-- 2. 别名# 使用列的别名进行排序SELECT...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">yuezi</div><div class="author-info-description">积微者速成</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">603</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">85</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yuezi2048"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://githubfast.com/yuezi2048" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_46345703" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="https://qm.qq.com/cgi-bin/qm/qr?k=dD62GIPTf5-iS4UdSfJRy7NHwsrCh3-j" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:joyLing@stumail.nwu.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">积微者速成</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-text">七、单行函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%87%BD%E6%95%B0%E7%90%86%E8%A7%A3"><span class="toc-text">1. 函数理解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">1.1 函数的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E4%B8%8D%E5%90%8CDBMS%E5%87%BD%E6%95%B0%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="toc-text">1.2 不同DBMS函数的差异</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-MySQL%E7%9A%84%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="toc-text">1.3 MySQL的内置函数及分类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-text">2. 数值函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E5%87%BD%E6%95%B0"><span class="toc-text">2.1 基本函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E8%A7%92%E5%BA%A6%E5%92%8C%E5%BC%A7%E5%BA%A6%E5%87%BD%E6%95%B0"><span class="toc-text">2.2 角度和弧度函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0"><span class="toc-text">2.3 三角函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E6%8C%87%E6%95%B0%E5%92%8C%E5%AF%B9%E6%95%B0"><span class="toc-text">2.4 指数和对数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E8%BF%9B%E5%88%B6%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-text">2.5 进制间的转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-text">3. 字符串函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="toc-text">4. 日期和时间函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E8%8E%B7%E5%8F%96%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4"><span class="toc-text">4.1 获取日期和时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E4%BA%92%E6%8D%A2"><span class="toc-text">4.2 日期和时间戳的互换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E8%8E%B7%E5%8F%96%E6%9C%88%E4%BB%BD%E3%80%81%E6%98%9F%E6%9C%9F%E3%80%81%E6%98%9F%E6%9C%9F%E6%95%B0%E3%80%81%E5%A4%A9%E6%95%B0%E7%AD%89"><span class="toc-text">4.3 获取月份、星期、星期数、天数等</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E6%97%A5%E6%9C%9F%E7%9A%84%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0"><span class="toc-text">4.4 日期的操作函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E6%97%B6%E9%97%B4%E5%92%8C%E7%A7%92%E6%95%B0%E8%BD%AC%E6%8D%A2"><span class="toc-text">4.5 时间和秒数转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-%E8%AE%A1%E7%AE%97%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4"><span class="toc-text">4.6 计算日期和时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-%E6%97%A5%E6%9C%9F%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8E%E8%A7%A3%E6%9E%90"><span class="toc-text">4.7 日期的格式化与解析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0"><span class="toc-text">5. 流程控制函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%8A%A0%E5%AF%86%E5%92%8C%E8%A7%A3%E5%AF%86%E5%87%BD%E6%95%B0"><span class="toc-text">6. 加密和解密函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-MySQL%E4%BF%A1%E6%81%AF%E5%87%BD%E6%95%B0"><span class="toc-text">7. MySQL信息函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0"><span class="toc-text">8. 其他函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0"><span class="toc-text">9. 课后练习</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/Excalidraw/Drawing%202024-11-01%2015.37.37.excalidraw/" title="Drawing 2024-11-01 15.37.37.excalidraw">Drawing 2024-11-01 15.37.37.excalidraw</a><time datetime="2025-10-31T04:19:26.621Z" title="发表于 2025-10-31 12:19:26">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/01.project/condefather/yupao/back-end/7.%E4%BC%98%E5%8C%96%E4%B8%BB%E9%A1%B5%E6%80%A7%E8%83%BD-%E4%BC%98%E5%8C%96%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE/" title="7.优化主页性能-优化批量导入数据">7.优化主页性能-优化批量导入数据</a><time datetime="2025-10-31T04:19:26.102Z" title="发表于 2025-10-31 12:19:26">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/02.%E9%9D%A2%E7%BB%8F%E8%AE%B0%E5%BD%95/MySQL/81.%E4%BB%80%E4%B9%88%E6%98%AF%E6%B8%B8%E6%A0%87Cursor%E5%88%86%E9%A1%B5_%E5%AF%B9%E6%AF%94%E4%BC%A0%E7%BB%9FLIMIT_OFFSET%E5%88%86%E9%A1%B5%E7%9A%84%E4%BC%98%E5%8A%BF%E6%98%AF%E4%BB%80%E4%B9%88/" title="81.什么是游标Cursor分页_对比传统LIMIT_OFFSET分页的优势是什么">81.什么是游标Cursor分页_对比传统LIMIT_OFFSET分页的优势是什么</a><time datetime="2025-10-31T04:14:27.000Z" title="发表于 2025-10-31 12:14:27">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/02.%E9%9D%A2%E7%BB%8F%E8%AE%B0%E5%BD%95/MySQL/80.%E5%85%A8%E9%87%8F%E5%90%8C%E6%AD%A5%E5%92%8C%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5%E5%90%84%E8%87%AA%E4%BC%98%E7%BC%BA%E7%82%B9/" title="80.全量同步和增量同步各自优缺点">80.全量同步和增量同步各自优缺点</a><time datetime="2025-10-31T04:13:32.000Z" title="发表于 2025-10-31 12:13:32">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/02.%E9%9D%A2%E7%BB%8F%E8%AE%B0%E5%BD%95/MySQL/79.%E4%BB%80%E4%B9%88%E6%98%AF%E6%89%B9%E9%87%8F%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93_%E7%9B%B8%E6%AF%94%E5%8D%95%E6%9D%A1%E6%8F%92%E5%85%A5%E4%BC%98%E5%8A%BF/" title="79.什么是批量数据入库_相比单条插入优势">79.什么是批量数据入库_相比单条插入优势</a><time datetime="2025-10-31T04:03:26.000Z" title="发表于 2025-10-31 12:03:26">2025-10-31</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/default.png);"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By yuezi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>
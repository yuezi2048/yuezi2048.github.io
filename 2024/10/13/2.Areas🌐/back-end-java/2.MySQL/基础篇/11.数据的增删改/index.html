<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>11.数据的增删改 | yuezi</title><meta name="author" content="yuezi"><meta name="copyright" content="yuezi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="十一、数据的增删改# 0. 储备工作USE atguigudb;CREATE TABLE IF NOT EXISTS emp1(id INT,&#96;name&#96; VARCHAR(15),hire_date DATE,salary DOUBLE(10, 2));DESC emp1;SELECT * FROM emp1;    1. 插入数据1.1 方式1：VALUES ① 没有指明，默认按照声明顺序 ②">
<meta property="og:type" content="article">
<meta property="og:title" content="11.数据的增删改">
<meta property="og:url" content="https://yuezi2048.github.io/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/11.%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9/index.html">
<meta property="og:site_name" content="yuezi">
<meta property="og:description" content="十一、数据的增删改# 0. 储备工作USE atguigudb;CREATE TABLE IF NOT EXISTS emp1(id INT,&#96;name&#96; VARCHAR(15),hire_date DATE,salary DOUBLE(10, 2));DESC emp1;SELECT * FROM emp1;    1. 插入数据1.1 方式1：VALUES ① 没有指明，默认按照声明顺序 ②">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yuezi2048.github.io/img/touxiang.jpg">
<meta property="article:published_time" content="2024-10-13T14:22:03.000Z">
<meta property="article:modified_time" content="2024-10-13T14:22:03.000Z">
<meta property="article:author" content="yuezi">
<meta property="article:tag" content="基础篇">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yuezi2048.github.io/img/touxiang.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "11.数据的增删改",
  "url": "https://yuezi2048.github.io/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/11.%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9/",
  "image": "https://yuezi2048.github.io/img/touxiang.jpg",
  "datePublished": "2024-10-13T14:22:03.000Z",
  "dateModified": "2024-10-13T14:22:03.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "yuezi",
      "url": "https://yuezi2048.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://yuezi2048.github.io/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/11.%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?bfb48b678d82bea9f9cc9d59227767e4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"FPH6F2TOJL","apiKey":"06d9ea26c803ba912b4d8e13404ed34d","indexName":"blog","hitsPerPage":6,"languages":{"input_placeholder":"搜索","hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，耗时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":350,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '11.数据的增删改',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/backgound.css"><meta name="generator" content="Hexo 8.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">603</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">85</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/default.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">yuezi</span></a><a class="nav-page-title" href="/"><span class="site-name">11.数据的增删改</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">11.数据的增删改</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-10-13T14:22:03.000Z" title="发表于 2024-10-13 22:22:03">2024-10-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-13T14:22:03.000Z" title="更新于 2024-10-13 22:22:03">2024-10-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/">2.Areas🌐</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/">back-end-java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/2-MySQL/">2.MySQL</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/2-MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/">基础篇</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>9分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="十一、数据的增删改"><a href="#十一、数据的增删改" class="headerlink" title="十一、数据的增删改"></a>十一、数据的增删改</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 0. 储备工作</span><br><span class="line">USE atguigudb;</span><br><span class="line"></span><br><span class="line">CREATE TABLE IF NOT EXISTS emp1(</span><br><span class="line">id INT,</span><br><span class="line">`name` VARCHAR(15),</span><br><span class="line">hire_date DATE,</span><br><span class="line">salary DOUBLE(10, 2)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">DESC emp1;</span><br><span class="line"></span><br><span class="line">SELECT * FROM emp1;</span><br></pre></td></tr></table></figure>



<h2 id="1-插入数据"><a href="#1-插入数据" class="headerlink" title="1. 插入数据"></a>1. 插入数据</h2><h3 id="1-1-方式1：VALUES"><a href="#1-1-方式1：VALUES" class="headerlink" title="1.1 方式1：VALUES"></a>1.1 方式1：VALUES</h3><ul>
<li>① 没有指明，默认按照声明顺序</li>
<li>② 指明添加的字段（推荐），其他没有声明的字段为默认值（注意约束的条件）</li>
<li>③ 可以同时插入多条字段，用逗号隔开（推荐）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 1. 添加数据</span><br><span class="line"># 方式1：一条一条加</span><br><span class="line"># ① 没有指明添加的字段（此时必须要按照声明的先后顺序添加）</span><br><span class="line">INSERT INTO emp1</span><br><span class="line">VALUES (1, &#x27;Tom&#x27;, &#x27;2000-12-21&#x27;, 3400);</span><br><span class="line"></span><br><span class="line"># ② 指明要添加的字段（推荐 可以不加一些字段，当然在没有约束等条件下）</span><br><span class="line">INSERT INTO emp1(id, hire_date, salary, `name`)</span><br><span class="line">VALUES (2, &#x27;1999-09-09&#x27;, 4000, &#x27;Jerry&#x27;);</span><br><span class="line"></span><br><span class="line">-- 没有指明的hire_date值为null</span><br><span class="line">INSERT INTO emp1(id, salary, `name`)</span><br><span class="line">VALUES (3, 4500, &#x27;shk&#x27;);</span><br><span class="line"></span><br><span class="line"># ③ 同时插入多条记录（推荐 多条效率更高）</span><br><span class="line">INSERT INTO emp1(id, `name`, salary)</span><br><span class="line">VALUES</span><br><span class="line">(4, &#x27;Jim&#x27;, 5000),</span><br><span class="line">(5, &#x27;张仲景&#x27;, 5500);</span><br></pre></td></tr></table></figure>



<p>举例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; INSERT INTO emp(emp_id,emp_name)</span><br><span class="line">    -&gt; VALUES (1001,&#x27;shkstart&#x27;),</span><br><span class="line">    -&gt; (1002,&#x27;atguigu&#x27;),</span><br><span class="line">    -&gt; (1003,&#x27;Tom&#x27;);</span><br><span class="line">Query OK, 3 rows affected (0.00 sec)</span><br><span class="line">Records: 3  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure>

<p>使用INSERT同时插入多条记录时，MySQL会返回一些在执行单行插入时没有的额外信息，这些信息的含义如下：<br>●　Records：表明插入的记录条数。<br>●　Duplicates：表明插入时被忽略的记录，原因可能是这些记录包含了重复的主键值。<br>●　Warnings：表明有问题的数据值，例如发生数据类型转换。</p>
<p><strong>小结：</strong></p>
<ul>
<li><p><code>VALUES</code>也可以写成<code>VALUE</code>，但是VALUES是标准写法。</p>
</li>
<li><p>字符和日期型数据应包含在单引号中。</p>
</li>
</ul>
<h3 id="1-2-方式2：将查询结果插入"><a href="#1-2-方式2：将查询结果插入" class="headerlink" title="1.2 方式2：将查询结果插入"></a>1.2 方式2：将查询结果插入</h3><ul>
<li>在 INSERT 语句中加入子查询。 </li>
<li><strong>不必书写</strong> <strong>VALUES</strong> <strong>子句。</strong> </li>
<li>子查询中的值列表应与 INSERT 子句中的列名对应。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 方式2：查询结果插入到表中(查询的字段一定要和添加到的表的字段对应)</span><br><span class="line">-- 说明：如果数据类型不一致，从高精度复制到低精度 会有精度损失的风险（因此执行该操作 需要检查字段长度）</span><br><span class="line">-- 理解：employee表中查询到的数据长度 高于 emp1 中要添加的数据长度，有添加不成功的风险</span><br><span class="line">SELECT * FROM emp1;</span><br><span class="line"></span><br><span class="line">INSERT INTO emp1(id, `name`, hire_date, salary)</span><br><span class="line"># 查询语句</span><br><span class="line">SELECT employee_id, last_name, hire_date, salary</span><br><span class="line">FROM employees</span><br><span class="line">WHERE department_id IN (60, 70);</span><br><span class="line"></span><br><span class="line">DESC emp1</span><br><span class="line">DESC employees;</span><br></pre></td></tr></table></figure>



<h2 id="2-更新数据"><a href="#2-更新数据" class="headerlink" title="2. 更新数据"></a>2. 更新数据</h2><ul>
<li>可以一次更新<strong>多条</strong>数据。</li>
<li>如果需要回滚数据，需要保证在DML前，进行设置：<strong>SET AUTOCOMMIT &#x3D; FALSE;</strong></li>
<li>使用 <strong>WHERE</strong> 子句指定需要更新的数据，没指定就修改表中所有数据。</li>
<li><strong>更新可能会出现数据完整性错误（约束）</strong></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240815113349783.png" alt="image-20240815113349783">	</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 2. 更新数据（修改数据）</span><br><span class="line"># update ... set ... where</span><br><span class="line"># 可以实现批量修改数据（根据我们的where过滤条件）</span><br><span class="line"> </span><br><span class="line">UPDATE emp1</span><br><span class="line">SET hire_date = CURDATE()</span><br><span class="line">WHERE id = 5;</span><br><span class="line"></span><br><span class="line">SELECT * FROM emp1;</span><br><span class="line"></span><br><span class="line"># 同时修改一条数据的多个字段</span><br><span class="line">UPDATE emp1</span><br><span class="line">SET hire_date = CURDATE(), salary = 6000</span><br><span class="line">WHERE id = 4;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 同时修改多个字段：姓名包含a的提升20%的工资</span><br><span class="line">UPDATE emp1</span><br><span class="line">SET salary = salary * 1.2</span><br><span class="line">WHERE `name` LIKE &#x27;%a%&#x27;</span><br><span class="line"></span><br><span class="line"># 有可能修改失败(约束)</span><br><span class="line">UPDATE employees</span><br><span class="line">SET department_id = 10000</span><br><span class="line">WHERE employee_id = 102;</span><br></pre></td></tr></table></figure>



<h2 id="3-删除数据"><a href="#3-删除数据" class="headerlink" title="3. 删除数据"></a>3. 删除数据</h2><ul>
<li>可以一次删除多条**数据。</li>
<li>如果需要回滚数据，需要保证在DML前，进行设置：<strong>SET AUTOCOMMIT &#x3D; FALSE;</strong></li>
<li>使用 <strong>WHERE</strong> 子句指定需要删除的数据，没指定就删除表中所有数据。</li>
<li><strong>删除可能会出现数据完整性错误（约束）</strong></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240815113510284.png" alt="image-20240815113510284">	</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 3. 删除数据 DELETE FROM ... WHERE ...</span><br><span class="line">DELETE FROM emp1</span><br><span class="line">WHERE id = 1;</span><br><span class="line"></span><br><span class="line">-- 可以一次删除多个表的记录 (多表连接)</span><br><span class="line">DELETE m,u</span><br><span class="line">FROM my_employees m</span><br><span class="line">JOIN users u</span><br><span class="line">ON m.userid =u.userid</span><br><span class="line">WHERE m.userid =&#x27;Bbiri&#x27;</span><br><span class="line"></span><br><span class="line"># 受到约束影响，删除也可能失败</span><br><span class="line">DELETE FROM departments</span><br><span class="line">WHERE department_id = 50;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 小结：DML默认情况下执行后都会自动提交数据，如果不希望自动提交数据</span><br><span class="line"># 则使用SET autocommit = FALSE, 后续可以通过ROLLBACK回滚</span><br></pre></td></tr></table></figure>



<h2 id="4-MySQL8新特性：计算列"><a href="#4-MySQL8新特性：计算列" class="headerlink" title="4. MySQL8新特性：计算列"></a>4. MySQL8新特性：计算列</h2><ul>
<li><p>计算列：某一列的值通过其他列计算得到</p>
<ul>
<li>a列值为1、b列值为2，c列不需要手动插入，定义a+b的结果为c的值，那么c就是计算列</li>
</ul>
</li>
<li><p>在MySQL 8.0中，<code>CREATE TABLE</code> 和<code> ALTER TABLE</code> 中都支持增加计算列。下面以CREATE TABLE为例进行讲解。</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 4. MYSQL8 新特性：计算列</span><br><span class="line">USE atguigudb;</span><br><span class="line"></span><br><span class="line">CREATE TABLE IF NOT EXISTS test1 (</span><br><span class="line">a INT,</span><br><span class="line">b INT,</span><br><span class="line">c INT GENERATED ALWAYS AS (a + b) VIRTUAL # c字段即为计算列</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">INSERT INTO test1(a, b)</span><br><span class="line">VALUES(10, 20);</span><br><span class="line"></span><br><span class="line">SELECT * FROM test1;</span><br><span class="line"></span><br><span class="line"># 计算列也会动态变化</span><br><span class="line">UPDATE test1</span><br><span class="line">SET a = 100;</span><br></pre></td></tr></table></figure>



<h2 id="5-综合案例"><a href="#5-综合案例" class="headerlink" title="5. 综合案例"></a>5. 综合案例</h2><p>创建数据库test01_library，表books</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>字段说明</th>
<th>数据类型</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>书编号</td>
<td>INT</td>
</tr>
<tr>
<td>name</td>
<td>书名</td>
<td>VARCHAR(50)</td>
</tr>
<tr>
<td>authors</td>
<td>作者</td>
<td>VARCHAR(100)</td>
</tr>
<tr>
<td>price</td>
<td>价格</td>
<td>FLOAT</td>
</tr>
<tr>
<td>pubdate</td>
<td>出版日期</td>
<td>YEAR</td>
</tr>
<tr>
<td>note</td>
<td>说明</td>
<td>VARCHAR(100)</td>
</tr>
<tr>
<td>num</td>
<td>库存</td>
<td>INT</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#1、创建数据库test01_library</span><br><span class="line">CREATE DATABASE IF NOT EXISTS test01_library;</span><br><span class="line"></span><br><span class="line"># 2、创建表books</span><br><span class="line">USE test01_library;</span><br><span class="line">CREATE TABLE IF NOT EXISTS books(</span><br><span class="line">`id` INT COMMENT &#x27;书籍号&#x27;,</span><br><span class="line">`name` VARCHAR(50) COMMENT &#x27;书名&#x27;,</span><br><span class="line">`authors` VARCHAR(100) COMMENT &#x27;作者&#x27;,</span><br><span class="line">`price` FLOAT(5,2) COMMENT &#x27;价格&#x27;,</span><br><span class="line">`pubdate` DATE COMMENT &#x27;出版日期&#x27;,</span><br><span class="line">`note` VARCHAR(100) COMMENT &#x27;说明&#x27;,</span><br><span class="line">`num` INT COMMENT &#x27;库存&#x27;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ALTER TABLE books</span><br><span class="line">MODIFY pubdate YEAR COMMENT &#x27;出版日期&#x27;; </span><br><span class="line"></span><br><span class="line">DESC books;</span><br></pre></td></tr></table></figure>



<p>向表中插入以下记录</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>authors</th>
<th>price</th>
<th>pubdate</th>
<th>note</th>
<th>num</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Tal of AAA</td>
<td>Dickes</td>
<td>23</td>
<td>1995</td>
<td>novel</td>
<td>11</td>
</tr>
<tr>
<td>2</td>
<td>EmmaT</td>
<td>Jane lura</td>
<td>35</td>
<td>1993</td>
<td>joke</td>
<td>22</td>
</tr>
<tr>
<td>3</td>
<td>Story of Jane</td>
<td>Jane Tim</td>
<td>40</td>
<td>2001</td>
<td>novel</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>Lovey Day</td>
<td>George Byron</td>
<td>20</td>
<td>2005</td>
<td>novel</td>
<td>30</td>
</tr>
<tr>
<td>5</td>
<td>Old land</td>
<td>Honore Blade</td>
<td>30</td>
<td>2010</td>
<td>law</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>The Battle</td>
<td>Upton Sara</td>
<td>30</td>
<td>1999</td>
<td>medicine</td>
<td>40</td>
</tr>
<tr>
<td>7</td>
<td>Rose Hood</td>
<td>Richard haggard</td>
<td>28</td>
<td>2008</td>
<td>cartoon</td>
<td>28</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 3、插入记录（不指定，指定所有字段，同时插入多条）</span><br><span class="line">INSERT INTO books </span><br><span class="line">VALUES</span><br><span class="line">(1, &#x27;Tal of AAA&#x27;, &#x27;Dickes&#x27;, 23, &#x27;1995&#x27;, &#x27;novel&#x27;, 11);</span><br><span class="line"></span><br><span class="line">INSERT INTO books(id, NAME, AUTHORS, price, pubdate, note, num)</span><br><span class="line">VALUES</span><br><span class="line">(2, &#x27;EmmaT&#x27;, &#x27;Jane lura&#x27;, 35, &#x27;1993&#x27;, &#x27;joke&#x27;, 22);</span><br><span class="line"></span><br><span class="line">INSERT INTO books (id, NAME, AUTHORS, price, pubdate, note, num)</span><br><span class="line">VALUES</span><br><span class="line">(3, &#x27;Story of Jane&#x27;, &#x27;Jane Tim&#x27;, 40, &#x27;2001&#x27;, &#x27;novel&#x27;, 0),</span><br><span class="line">(4, &#x27;Lovey Day&#x27;, &#x27;George Byron&#x27;, 30, &#x27;2005&#x27;, &#x27;novel&#x27;, 30),</span><br><span class="line">(5, &#x27;Old land&#x27;, &#x27;Honore Blade&#x27;, 30, &#x27;2010&#x27;, &#x27;law&#x27;, 0),</span><br><span class="line">(6, &#x27;The Battle&#x27;, &#x27;Upton Sara&#x27;, 30, &#x27;1999&#x27;, &#x27;medicine&#x27;, 40),</span><br><span class="line">(7, &#x27;Rose Hood&#x27;, &#x27;Richard haggard&#x27;, 28, &#x27;2008&#x27;, &#x27;cartoon&#x27;, 28);</span><br><span class="line"></span><br><span class="line">SELECT * FROM books;</span><br></pre></td></tr></table></figure>



<p>进一步的操作</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#4、将小说类型(novel)的书的价格都增加5.</span><br><span class="line">UPDATE books</span><br><span class="line">SET price = price + 5</span><br><span class="line">WHERE note = &#x27;novel&#x27;;</span><br><span class="line"></span><br><span class="line">#5、将名称为EmmaT的书的价格改为48，并将说明改为drama:</span><br><span class="line">UPDATE books</span><br><span class="line">SET price = 48, note = &#x27;drama&#x27;</span><br><span class="line">WHERE `name` = &#x27;EmmaT&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#6、删除库存为8的记录。</span><br><span class="line">SET autocommit = FALSE;</span><br><span class="line">COMMIT;</span><br><span class="line">DELETE FROM books</span><br><span class="line">WHERE num = 8;</span><br><span class="line">ROLLBACK;</span><br><span class="line"></span><br><span class="line">#7、统计书名中包含a字母的书</span><br><span class="line">SELECT *</span><br><span class="line">FROM books</span><br><span class="line">WHERE `name` LIKE &#x27;%a%&#x27;;</span><br><span class="line"></span><br><span class="line">#8、统计书名中包含a字母的书的数量和库存总量</span><br><span class="line">SELECT COUNT(*), SUM(num)</span><br><span class="line">FROM books</span><br><span class="line">WHERE `name` LIKE &#x27;%a%&#x27;;</span><br><span class="line"></span><br><span class="line"># 9、找出&quot;novel&quot;类型的书，按照价格降序排列</span><br><span class="line">SELECT *</span><br><span class="line">FROM books</span><br><span class="line">WHERE note = &#x27;novel&#x27;</span><br><span class="line">ORDER BY price DESC;</span><br><span class="line"></span><br><span class="line">#10、查询图书信息，按照库存量降序排列，如果库存量相同的按照note升序排列</span><br><span class="line">SELECT *</span><br><span class="line">FROM books</span><br><span class="line">ORDER BY num DESC, note ASC;</span><br><span class="line"></span><br><span class="line"># 11、按照note分类统计书的数量</span><br><span class="line">SELECT note, COUNT(*)</span><br><span class="line">FROM books</span><br><span class="line">GROUP BY note;</span><br><span class="line"></span><br><span class="line">#12、按照note分类统计书的库存量。显示库存量超过30本的</span><br><span class="line">SELECT note, SUM(num)</span><br><span class="line">FROM books</span><br><span class="line">GROUP BY note</span><br><span class="line">HAVING SUM(num) &gt; 30;</span><br><span class="line"></span><br><span class="line">#13、查询所有图书，页显示5本，显示第二页</span><br><span class="line">SELECT *</span><br><span class="line">FROM books</span><br><span class="line">LIMIT 5, 5;</span><br><span class="line"></span><br><span class="line">#14、按照note分类统计书的库存量，显示库存量最多的</span><br><span class="line">SELECT MAX(sum_num) FROM (</span><br><span class="line">	SELECT note, SUM(num) sum_num</span><br><span class="line">	FROM books</span><br><span class="line">	GROUP BY note</span><br><span class="line">) t_books_sum_num</span><br><span class="line"></span><br><span class="line">SELECT note, SUM(num)</span><br><span class="line">FROM books</span><br><span class="line">GROUP BY note</span><br><span class="line">HAVING SUM(num) &gt;= ALL (</span><br><span class="line">	SELECT SUM(num) sum_num</span><br><span class="line">	FROM books</span><br><span class="line">	GROUP BY note</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># limit也可以</span><br><span class="line">SELECT note, SUM(num) sum_num</span><br><span class="line">FROM books</span><br><span class="line">GROUP BY note</span><br><span class="line">ORDER BY sum_num DESC</span><br><span class="line">LIMIT 1;</span><br><span class="line"></span><br><span class="line">#15、查询书名达到9个字符的书，不包括里面的空格</span><br><span class="line">-- 统计字符数用CHAR_LENGTH,LENGTH统计的是字节长度</span><br><span class="line">SELECT REPLACE(`name`, &#x27; &#x27;, &#x27;&#x27;)</span><br><span class="line">FROM books</span><br><span class="line">WHERE CHAR_LENGTH(REPLACE(`name`, &#x27; &#x27;, &#x27;&#x27;)) &gt;= 9;</span><br><span class="line"></span><br><span class="line">#16、查询书名和类型，其中note值为nove1显示小说，law显示法律，medicine显示医药，cartoon显示卡通，joke显示笑话</span><br><span class="line">SELECT `name`, note, CASE note WHEN &#x27;novel&#x27; THEN &#x27;小说&#x27;</span><br><span class="line">			 WHEN &#x27;law&#x27; THEN &#x27;法律&#x27;</span><br><span class="line">			 WHEN &#x27;medicine&#x27; THEN &#x27;医药&#x27;</span><br><span class="line">			 WHEN &#x27;cartoon&#x27; THEN &#x27;卡通&#x27;</span><br><span class="line">			 WHEN &#x27;joke&#x27; THEN &#x27;笑话&#x27; </span><br><span class="line">			 ELSE &#x27;other&#x27; END &quot;comment&quot;</span><br><span class="line">FROM books;</span><br><span class="line"></span><br><span class="line"># 17、查询书名、库存，其中num值超过30本的，显示滞销，大于0并低于10的，显示畅销，为0的显示需要无货</span><br><span class="line">SELECT `name`, num, CASE WHEN num &gt; 30 THEN &#x27;滞销&#x27;</span><br><span class="line">		    WHEN num &lt; 10 AND num &gt; 0 THEN &#x27;畅销&#x27;</span><br><span class="line">		    WHEN num = 0 THEN &#x27;无货&#x27; </span><br><span class="line">		    ELSE &#x27;正常&#x27; END &quot;销量情况&quot;</span><br><span class="line">FROM books</span><br><span class="line"></span><br><span class="line">#18、统计每一种note的库存量，并合计总量</span><br><span class="line">-- 我的写法</span><br><span class="line">SELECT note, SUM(num), (SELECT SUM(num) FROM books) &quot;总库存量&quot;</span><br><span class="line">FROM books</span><br><span class="line">GROUP BY note;</span><br><span class="line"></span><br><span class="line">-- 使用with ROLLUP</span><br><span class="line">SELECT IFNULL(note, &#x27;合计库存总量&#x27;) &quot;note&quot;, SUM(num)</span><br><span class="line">FROM books</span><br><span class="line">GROUP BY note WITH ROLLUP;</span><br><span class="line"></span><br><span class="line">#19、统计每一种note的数量 ，并合计总量</span><br><span class="line"></span><br><span class="line">-- 使用with ROLLUP + ifnull判断优化显示</span><br><span class="line">SELECT IFNULL(note, &#x27;合计总量&#x27;) &quot;note&quot;, COUNT(num)</span><br><span class="line">FROM books</span><br><span class="line">GROUP BY note WITH ROLLUP;</span><br><span class="line"></span><br><span class="line">#20、统计库存量前三名的图书</span><br><span class="line">SELECT *</span><br><span class="line">FROM books</span><br><span class="line">ORDER BY num DESC</span><br><span class="line">LIMIT 3;</span><br><span class="line"></span><br><span class="line">#21、找出最早出版的一本书</span><br><span class="line">SELECT *</span><br><span class="line">FROM books</span><br><span class="line">ORDER BY pubdate ASC</span><br><span class="line">LIMIT 1;</span><br><span class="line"></span><br><span class="line">#22、找出novel中价格最高的一本书</span><br><span class="line">SELECT *</span><br><span class="line">FROM books</span><br><span class="line">ORDER BY price DESC</span><br><span class="line">LIMIT 1;</span><br><span class="line"></span><br><span class="line">#23、找出书名中字数最多的一本书。不含空格</span><br><span class="line">SELECT *</span><br><span class="line">FROM books</span><br><span class="line">ORDER BY CHAR_LENGTH(REPLACE(`name`, &#x27; &#x27;, &#x27;&#x27;)) DESC</span><br><span class="line">LIMIT 1;</span><br><span class="line"></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io">yuezi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/11.%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9/">https://yuezi2048.github.io/2024/10/13/2.Areas🌐/back-end-java/2.MySQL/基础篇/11.数据的增删改/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://yuezi2048.github.io" target="_blank">yuezi</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%9F%BA%E7%A1%80%E7%AF%87/">基础篇</a></div><div class="post-share"><div class="social-share" data-image="/img/touxiang.jpg" data-sites="qq,wechat"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/08.%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0/" title="08.聚合函数"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">08.聚合函数</div></div><div class="info-2"><div class="info-item-1">八、聚合函数1. 聚合函数1.1 聚合函数概述聚合函数：一组函数返回一个值，作用于一组数据 	 聚合函数语法 	  注：聚合函数不能嵌套调用。比如不能出现类似“AVG(SUM(字段名称))”形式的调用。  1.2 常见聚合函数类型聚合函数类型  AVG()  SUM() MAX()  MIN()  **COUNT() ** 方差 标准差 中位数等等…  # 1. 常见的聚集函数# 1.1 AVG / SUM( 空值也会过滤掉 )SELECT AVG(salary), SUM(salary), AVG(salary) * 107FROM employees;-- 用于数值类型求，以下操作没有意义SELECT SUM(last_name), SUM(hire_date)FROM employees;# 1.2 MAX / MIN(数值、字符串、日期类型)SELECT MAX(salary), MIN(salary)FROM employees;-- 字符串和日期可以比较大小，以下操作是可以SELECT MAX(last_name), MIN(last_name)...</div></div></div></a><a class="pagination-related" href="/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/07.%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0/" title="07.单行函数"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">07.单行函数</div></div><div class="info-2"><div class="info-item-1">七、单行函数1. 函数理解1.1 函数的作用函数的作用是什么呢？  它可以把我们经常使用的代码封装起来，需要的时候直接调用即可。这样既提高了代码效率，又提高了可维护性。 在 SQL 中我们也可以使用函数对检索出来的数据进行函数操作。使用这些函数，可以极大地提高用户对数据库的管理效率。    	 从函数定义的角度出发，我们可以将函数分成内置函数和自定义函数。  在 SQL 语言中，同样也包括了内置函数和自定义函数。内置函数是系统内置的通用函数，而自定义函数是我们根据自己的需要编写的， 本章及下一章讲解的是 SQL 的内置函数。  1.2 不同DBMS函数的差异我们在使用 SQL 语言的时候，不是直接和这门语言打交道，而是通过它使用不同的数据库软件，即 DBMS。  DBMS 之间的差异性很大，远大于同一个语言不同版本之间的差异。  实际上，只有很少的函数是被 DBMS 同时支持的。  比如，大多数 DBMS 使用（||）或者（+）来做拼接符，而在 MySQL 中的字符串拼接函数为concat()。   大部分 DBMS 会有自己特定的函数，这就意味着采用 SQL...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/08/14/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/00.%E5%9F%BA%E7%A1%80%E7%AF%87%E5%86%85%E5%AE%B9%E6%A1%86%E6%9E%B6/" title="00.基础篇内容框架"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-14</div><div class="info-item-2">00.基础篇内容框架</div></div><div class="info-2"><div class="info-item-1">MySQL数据库基础篇分为5个篇章： 1. 数据库概述与MySQL安装篇  第01章：数据库概述 第02章：MySQL环境搭建  2. SQL之SELECT使用篇  第03章：基本的SELECT语句 第04章：运算符 第05章：排序与分页 第06章：多表查询 第07章：单行函数 第08章：聚合函数 第09章：子查询  3. SQL之DDL、DML、DCL使用篇  第10章：创建和管理表 第11章：数据处理之增删改 第12章：MySQL数据类型精讲 第13章：约束  4. 其它数据库对象篇（开发用到了再学）  第14章：视图 第15章：存储过程与函数 第16章：变量、流程控制与游标 第17章：触发器  5. MySQL8 新特性篇（开发用到了再学）  第18章：MySQL8其它新特性  ps：普通开发往往积累单点技术、比如 CRUD、锁类型、索引的数据结构… 而对于技术骨干、架构师则往往需要对底层原理吃透：  数据库事务 ACID...</div></div></div></a><a class="pagination-related" href="/2024/08/14/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E8%BF%B0/" title="01.数据库概述"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-14</div><div class="info-item-2">01.数据库概述</div></div><div class="info-2"><div class="info-item-1">一、数据库概述1. 为什么要数据库 数据的持久化：将数据保存到硬盘上，可供可掉电式的存储设备使用，大多使用关系数据库实现（也可以通过文件I&#x2F;O、XML实现）  	 2. DB 和 DBMS2.1 概述 数据库DB：存储数据的仓库，本质上是一个文件系统，保存一系列有组织的数据 数据库管理系统DBMS：管理和操纵数据库的大型软件，从而建立、使用和维护数据库。用户可以使用DBMS查询数据库的数据 结构化查询语言SQL：用于数据库交互的语言  其中，DBMS可以管理多个DB，开发中，通常针对每个应用创建一个数据库，并在一个数据库中创建多个表，从而保存实体用户的数据 	 2.2 常见DBMS常见的DBMS 参考数据库最新排名:https://db-engines.com/en/ranking 	 发展趋势：https://db-engines.com/en/ranking_trend 	 Oracle 1979 年，Oracle 2 诞生，它是第一个商用的 RDBMS（关系型数据库管理系统）。随着 Oracle 软件的名气越来越大，公司也改名叫 Oracle...</div></div></div></a><a class="pagination-related" href="/2025/05/25/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/02.MySQL%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="02.MySQL环境搭建"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-25</div><div class="info-item-2">02.MySQL环境搭建</div></div><div class="info-2"><div class="info-item-1">二、MySQL环境搭建1. 清除原有MySQL环境Step1：停止MySQL服务 	 Step2：软件卸载  亦可通过mysql-installer-community-8.0.26.0.msi卸载，此时安装目录也会被移除  	 Step3：残余文件清理 如果再次安装不成功，可以卸载后对残余文件进行清理后再安装。 （1）服务目录：mysql服务的安装目录 （2）数据目录：默认在C:\ProgramData\MySQL 注意：请在卸载前做好数据备份 在操作完以后，需要重启计算机，然后进行安装即可。如果仍然安装失败，需要继续操作如下步骤4。 Step4：清理注册表 在系统的搜索框中输入regedit HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Services\Eventlog\Application\MySQL服务 目录删除HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Services\MySQL服务...</div></div></div></a><a class="pagination-related" href="/2024/08/16/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/03.%E5%9F%BA%E6%9C%ACSELECT%E8%AF%AD%E5%8F%A5/" title="03.基本SELECT语句"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-16</div><div class="info-item-2">03.基本SELECT语句</div></div><div class="info-2"><div class="info-item-1">三、基本SELECT语句1. SQL概述1.1 SQL背景 1946 年，世界上第一台电脑诞生，如今，借由这台电脑发展起来的互联网已经自成江湖。在这几十年里，无数的技术、产业在这片江湖里沉浮，有的方兴未艾，有的已经几幕兴衰。但在这片浩荡的波动里，有一门技术从未消失，甚至“老当益壮”，那就是 SQL。  45 年前，也就是 1974 年，IBM 研究员发布了一篇揭开数据库技术的论文《SEQUEL：一门结构化的英语查询语言》，直到今天这门结构化的查询语言并没有太大的变化，相比于其他语言，SQL 的半衰期可以说是非常长了。   不论是前端工程师，还是后端算法工程师，都一定会和数据打交道，都需要了解如何又快又准确地提取自己想要的数据。更别提数据分析师了，他们的工作就是和数据打交道，整理不同的报告，以便指导业务决策。  SQL（Structured Query...</div></div></div></a><a class="pagination-related" href="/2025/04/24/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/04.%E8%BF%90%E7%AE%97%E7%AC%A6/" title="04.运算符"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-24</div><div class="info-item-2">04.运算符</div></div><div class="info-2"><div class="info-item-1">四、运算符1. 算数运算符算术运算符主要用于数学运算，其可以连接运算符前后的两个数值或表达式，对数值或表达式进行加（+）、减（-）、乘（*）、除（&#x2F;）和取模（%）运算。 1.1 加减法# 算数运算符：+ - * / div % mod SELECT 100, 100 + 0, 100 - 0, 100 + 50, 100 + 50 - 30, 100 + 35.5, 100 - 35.5FROM DUAL;+-----+---------+---------+----------+--------------+------------+------------+| 100 | 100 + 0 | 100 - 0 | 100 + 50 | 100 + 50 -30 | 100 + 35.5 | 100 - 35.5 |+-----+---------+---------+----------+--------------+------------+------------+| 100 |     100 |     100 |      150 |         ...</div></div></div></a><a class="pagination-related" href="/2025/05/28/2.Areas%F0%9F%8C%90/back-end-java/2.MySQL/%E5%9F%BA%E7%A1%80%E7%AF%87/05.%E6%8E%92%E5%BA%8F%E5%92%8C%E5%88%86%E9%A1%B5/" title="05.排序和分页"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-28</div><div class="info-item-2">05.排序和分页</div></div><div class="info-2"><div class="info-item-1">五、排序和分页1. 排序1.1 单列排序 使用 ORDER BY 子句排序 ASC（ascend）: 升序 DESC（descend）:降序   ORDER BY 子句在SELECT语句的结尾。 关注SELECT查询的顺序，实际场景：别名不能在where从句中使用，而可以在order by中使用  # 1. 一级排序# 如果没有使用排序操作，默认情况下查询返回的数据按照添加数据的顺序SELECT * FROM employees;-- 1.1 基本使用# 练习：按照salary从高到低显示数据(ORDER BY 通过什么来排序)# 升序:ASC(ascend) 降序：DESC(descend)SELECT employee_id, last_name, salaryFROM employeesORDER BY salary DESC;# 从低到高(没有显式写，默认升序)SELECT employee_id, last_name, salaryFROM employeesORDER BY salary ASC;-- 2. 别名# 使用列的别名进行排序SELECT...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">yuezi</div><div class="author-info-description">积微者速成</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">603</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">85</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yuezi2048"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://githubfast.com/yuezi2048" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_46345703" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="https://qm.qq.com/cgi-bin/qm/qr?k=dD62GIPTf5-iS4UdSfJRy7NHwsrCh3-j" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:joyLing@stumail.nwu.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">积微者速成</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="toc-text">十一、数据的增删改</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-text">1. 插入数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%96%B9%E5%BC%8F1%EF%BC%9AVALUES"><span class="toc-text">1.1 方式1：VALUES</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%96%B9%E5%BC%8F2%EF%BC%9A%E5%B0%86%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8F%92%E5%85%A5"><span class="toc-text">1.2 方式2：将查询结果插入</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE"><span class="toc-text">2. 更新数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-text">3. 删除数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-MySQL8%E6%96%B0%E7%89%B9%E6%80%A7%EF%BC%9A%E8%AE%A1%E7%AE%97%E5%88%97"><span class="toc-text">4. MySQL8新特性：计算列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-text">5. 综合案例</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/Excalidraw/Drawing%202024-11-01%2015.37.37.excalidraw/" title="Drawing 2024-11-01 15.37.37.excalidraw">Drawing 2024-11-01 15.37.37.excalidraw</a><time datetime="2025-10-31T04:19:26.621Z" title="发表于 2025-10-31 12:19:26">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/01.project/condefather/yupao/back-end/7.%E4%BC%98%E5%8C%96%E4%B8%BB%E9%A1%B5%E6%80%A7%E8%83%BD-%E4%BC%98%E5%8C%96%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE/" title="7.优化主页性能-优化批量导入数据">7.优化主页性能-优化批量导入数据</a><time datetime="2025-10-31T04:19:26.102Z" title="发表于 2025-10-31 12:19:26">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/02.%E9%9D%A2%E7%BB%8F%E8%AE%B0%E5%BD%95/MySQL/81.%E4%BB%80%E4%B9%88%E6%98%AF%E6%B8%B8%E6%A0%87Cursor%E5%88%86%E9%A1%B5_%E5%AF%B9%E6%AF%94%E4%BC%A0%E7%BB%9FLIMIT_OFFSET%E5%88%86%E9%A1%B5%E7%9A%84%E4%BC%98%E5%8A%BF%E6%98%AF%E4%BB%80%E4%B9%88/" title="81.什么是游标Cursor分页_对比传统LIMIT_OFFSET分页的优势是什么">81.什么是游标Cursor分页_对比传统LIMIT_OFFSET分页的优势是什么</a><time datetime="2025-10-31T04:14:27.000Z" title="发表于 2025-10-31 12:14:27">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/02.%E9%9D%A2%E7%BB%8F%E8%AE%B0%E5%BD%95/MySQL/80.%E5%85%A8%E9%87%8F%E5%90%8C%E6%AD%A5%E5%92%8C%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5%E5%90%84%E8%87%AA%E4%BC%98%E7%BC%BA%E7%82%B9/" title="80.全量同步和增量同步各自优缺点">80.全量同步和增量同步各自优缺点</a><time datetime="2025-10-31T04:13:32.000Z" title="发表于 2025-10-31 12:13:32">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/02.%E9%9D%A2%E7%BB%8F%E8%AE%B0%E5%BD%95/MySQL/79.%E4%BB%80%E4%B9%88%E6%98%AF%E6%89%B9%E9%87%8F%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93_%E7%9B%B8%E6%AF%94%E5%8D%95%E6%9D%A1%E6%8F%92%E5%85%A5%E4%BC%98%E5%8A%BF/" title="79.什么是批量数据入库_相比单条插入优势">79.什么是批量数据入库_相比单条插入优势</a><time datetime="2025-10-31T04:03:26.000Z" title="发表于 2025-10-31 12:03:26">2025-10-31</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/default.png);"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By yuezi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>
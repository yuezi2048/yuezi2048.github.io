<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>5. Servlet | yuezi</title><meta name="author" content="yuezi"><meta name="copyright" content="yuezi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ç¬¬äº”ç«  Servlet1. Servletç®€ä»‹é¦–å…ˆæ˜ç¡®åŠ¨æ€èµ„æºå’Œé™æ€èµ„æºçš„æ¦‚å¿µï¼ˆä¹°è›‹ç³•çš„ä¾‹å­ï¼Œç°æœ‰å’Œç°åšçš„åŒºåˆ«ï¼‰ é™æ€èµ„æºï¼šæ— éœ€é€šè¿‡ä»£ç è¿è¡Œç”Ÿæˆçš„èµ„æºï¼Œå³åœ¨è¿è¡Œå‰å°±å†™å¥½çš„èµ„æºï¼ŒåŒ…æ‹¬å‰ç«¯ä¸‰å¤§ä»¶ã€imgç­‰å¤šåª’ä½“æ–‡ä»¶ åŠ¨æ€èµ„æºï¼šéœ€è¦é€šè¿‡ä»£ç è¿è¡Œç”Ÿæˆçš„èµ„æºï¼Œå³ç¨‹åºè¿è¡Œå‰æ— æ³•ç¡®å®šçš„æ•°æ®ï¼Œéœ€è¦è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆï¼ŒåŒ…æ‹¬Servletã€Thymeleaf  æ³¨ï¼šåŠ¨æ€èµ„æºæ˜¯å¼ºè°ƒè¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆæ•°æ®ï¼Œè€Œä¸æ˜¯è§†å›¾ä¸Šçš„åŠ¨ç”»æ•ˆæœ">
<meta property="og:type" content="article">
<meta property="og:title" content="5. Servlet">
<meta property="og:url" content="https://yuezi2048.github.io/2024/10/02/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/5.%20Servlet/index.html">
<meta property="og:site_name" content="yuezi">
<meta property="og:description" content="ç¬¬äº”ç«  Servlet1. Servletç®€ä»‹é¦–å…ˆæ˜ç¡®åŠ¨æ€èµ„æºå’Œé™æ€èµ„æºçš„æ¦‚å¿µï¼ˆä¹°è›‹ç³•çš„ä¾‹å­ï¼Œç°æœ‰å’Œç°åšçš„åŒºåˆ«ï¼‰ é™æ€èµ„æºï¼šæ— éœ€é€šè¿‡ä»£ç è¿è¡Œç”Ÿæˆçš„èµ„æºï¼Œå³åœ¨è¿è¡Œå‰å°±å†™å¥½çš„èµ„æºï¼ŒåŒ…æ‹¬å‰ç«¯ä¸‰å¤§ä»¶ã€imgç­‰å¤šåª’ä½“æ–‡ä»¶ åŠ¨æ€èµ„æºï¼šéœ€è¦é€šè¿‡ä»£ç è¿è¡Œç”Ÿæˆçš„èµ„æºï¼Œå³ç¨‹åºè¿è¡Œå‰æ— æ³•ç¡®å®šçš„æ•°æ®ï¼Œéœ€è¦è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆï¼ŒåŒ…æ‹¬Servletã€Thymeleaf  æ³¨ï¼šåŠ¨æ€èµ„æºæ˜¯å¼ºè°ƒè¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆæ•°æ®ï¼Œè€Œä¸æ˜¯è§†å›¾ä¸Šçš„åŠ¨ç”»æ•ˆæœ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yuezi2048.github.io/img/touxiang.jpg">
<meta property="article:published_time" content="2024-10-02T14:43:21.000Z">
<meta property="article:modified_time" content="2024-10-02T14:43:21.000Z">
<meta property="article:author" content="yuezi">
<meta property="article:tag" content="4.JavaWeb">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yuezi2048.github.io/img/touxiang.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "5. Servlet",
  "url": "https://yuezi2048.github.io/2024/10/02/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/5.%20Servlet/",
  "image": "https://yuezi2048.github.io/img/touxiang.jpg",
  "datePublished": "2024-10-02T14:43:21.000Z",
  "dateModified": "2024-10-02T14:43:21.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "yuezi",
      "url": "https://yuezi2048.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://yuezi2048.github.io/2024/10/02/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/5.%20Servlet/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?bfb48b678d82bea9f9cc9d59227767e4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"FPH6F2TOJL","apiKey":"06d9ea26c803ba912b4d8e13404ed34d","indexName":"blog","hitsPerPage":6,"languages":{"input_placeholder":"æœç´¢","hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œè€—æ—¶ ${time} æ¯«ç§’"}},
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":350,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '5. Servlet',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/backgound.css"><meta name="generator" content="Hexo 8.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">785</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">66</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">91</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> åšæ–‡</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºç¬”è€…</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/default.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">yuezi</span></a><a class="nav-page-title" href="/"><span class="site-name">5. Servlet</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> åšæ–‡</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºç¬”è€…</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">5. Servlet</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2024-10-02T14:43:21.000Z" title="å‘è¡¨äº 2024-10-02 22:43:21">2024-10-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2024-10-02T14:43:21.000Z" title="æ›´æ–°äº 2024-10-02 22:43:21">2024-10-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/">2.AreasğŸŒ</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/">back-end-java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/4-JavaWeb/">4.JavaWeb</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">16k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>70åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="ç¬¬äº”ç« -Servlet"><a href="#ç¬¬äº”ç« -Servlet" class="headerlink" title="ç¬¬äº”ç«  Servlet"></a>ç¬¬äº”ç«  Servlet</h1><h2 id="1-Servletç®€ä»‹"><a href="#1-Servletç®€ä»‹" class="headerlink" title="1. Servletç®€ä»‹"></a>1. Servletç®€ä»‹</h2><p>é¦–å…ˆæ˜ç¡®<code>åŠ¨æ€èµ„æº</code>å’Œ<code>é™æ€èµ„æº</code>çš„æ¦‚å¿µï¼ˆä¹°è›‹ç³•çš„ä¾‹å­ï¼Œç°æœ‰å’Œç°åšçš„åŒºåˆ«ï¼‰</p>
<p>é™æ€èµ„æºï¼šæ— éœ€é€šè¿‡ä»£ç è¿è¡Œç”Ÿæˆçš„èµ„æºï¼Œå³åœ¨è¿è¡Œå‰å°±å†™å¥½çš„èµ„æºï¼ŒåŒ…æ‹¬å‰ç«¯ä¸‰å¤§ä»¶ã€imgç­‰å¤šåª’ä½“æ–‡ä»¶</p>
<p>åŠ¨æ€èµ„æºï¼šéœ€è¦é€šè¿‡ä»£ç è¿è¡Œç”Ÿæˆçš„èµ„æºï¼Œå³ç¨‹åºè¿è¡Œå‰æ— æ³•ç¡®å®šçš„æ•°æ®ï¼Œéœ€è¦è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆï¼ŒåŒ…æ‹¬Servletã€Thymeleaf</p>
<blockquote>
<p>æ³¨ï¼šåŠ¨æ€èµ„æºæ˜¯å¼ºè°ƒè¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆæ•°æ®ï¼Œè€Œä¸æ˜¯è§†å›¾ä¸Šçš„åŠ¨ç”»æ•ˆæœæˆ–è€…æ˜¯ç®€å•çš„äººæœºäº¤äº’æ•ˆæœ</p>
</blockquote>
<p>æ¥ä¸‹æ¥å¼•å‡ºæˆ‘ä»¬çš„åŠ¨æ€èµ„æºâ€”â€”<code>Servlet</code></p>
<ul>
<li>Servletï¼ˆ<code>Server applet</code>ï¼‰æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯ï¼ˆTomcatï¼‰çš„Javaå°ç¨‹åºï¼Œç”±sunå…¬å¸å®šä¹‰åŠ¨æ€èµ„æºè§„èŒƒï¼Œä»£ç å±‚é¢ä¸ŠServletå°±æ˜¯ä¸€ä¸ª<code>æ¥å£</code></li>
<li>ä½œç”¨<ul>
<li>æ¥æ”¶ã€å¤„ç†ç”¨æˆ·ç«¯è¯·æ±‚ï¼Œå¹¶å“åº”ç»™æµè§ˆå™¨ç›¸å…³çš„<code>åŠ¨æ€èµ„æº</code>ã€‚å› æ­¤Servletå¸¸è¢«å½“åšControlleræ§åˆ¶å™¨<ul>
<li>Servletè¿è¡Œåœ¨æœåŠ¡ç«¯ï¼Œéœ€è¦ä¾é WEBé¡¹ç›®ï¼Œå¹¶ä¸”åœ¨Tomcatè¿™æ ·çš„æœåŠ¡å®¹å™¨ä¸­è¿è¡Œ</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ä¸ºä½•è¦å­˜åœ¨è¿™æ ·ä¸€ä¸ªç»„ä»¶ï¼Ÿç”¨ç”Ÿæ´»ä¾‹å­æ¥è¯´æ˜</p>
<ul>
<li>æˆ‘ä»¬ä¸èƒ½å®Œå…¨é€šè¿‡Javaç±»æ¥æ¥æ”¶å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªè¿™æ ·èƒ½å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å¹¶ä½œå‡ºå“åº”çš„è§„èŒƒ<code>Servlet</code></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240901192902326.png" alt="image-20240901192902326">	</p>
<p>å‰åç«¯è¯·æ±‚å“åº”ä¸<code>HttpServletRequest</code>å’Œ<code>HttpServletResponse</code>ä¹‹é—´çš„å¯¹åº”å…³ç³»</p>
<ul>
<li>è¯·æ±‚æ—¶ï¼Œè¯·æ±‚æŠ¥æ–‡åˆ°Servletå®¹å™¨é‡Œå°±æ¶ˆåŒ–æˆä¸€ä¸ªHttpServletRequestç±»ï¼Œä¾›serviceæ–¹æ³•ä½¿ç”¨</li>
<li>è€Œserviceæ–¹æ³•æ„å»ºå¥½HttpServletResponseåï¼ŒServletå®¹å™¨å°†å…¶æ„å»ºä¸ºä¸€ä¸ªæŠ¥æ–‡å†å“åº”å›ç»™å‰ç«¯</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240901193133727.png" alt="image-20240901193133727">	</p>
<h2 id="2-Servletå¼€å‘æµç¨‹-éªŒè¯æ³¨å†Œæ¡ˆä¾‹"><a href="#2-Servletå¼€å‘æµç¨‹-éªŒè¯æ³¨å†Œæ¡ˆä¾‹" class="headerlink" title="2. Servletå¼€å‘æµç¨‹(éªŒè¯æ³¨å†Œæ¡ˆä¾‹)"></a>2. Servletå¼€å‘æµç¨‹(éªŒè¯æ³¨å†Œæ¡ˆä¾‹)</h2><blockquote>
<p>æ ¹æ®ä¸Šé¢çš„æ¼”ç¤ºå›¾ï¼Œç«‹é©¬é€šè¿‡ServletæŠ€æœ¯å®ç°ä¸€ä¸ªå°ç›®æ ‡ï¼š</p>
<p><strong>å®¢æˆ·ç«¯æ³¨å†Œæ—¶å‘é€è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œæºå¸¦æ•°æ®usernameï¼ŒæœåŠ¡ç«¯æ£€æŸ¥usernameæ˜¯å¦ä¸ºatguiguï¼Œæ˜¯è¿”å›yesï¼Œä¸æ˜¯è¿”å›noï¼Œå¹¶å°†è¯¥å†…å®¹ä½œä¸ºæŠ¥æ–‡å“åº”å‘é€ç»™å®¢æˆ·ç«¯</strong></p>
</blockquote>
<ul>
<li>Step1ï¼šé¦–å…ˆåˆ›å»ºä¸€ä¸ªmoduleï¼ŒæŒ‰ç…§æˆ‘ä¹‹å‰å†™çš„å…³äºTomcatçš„å†…å®¹æ­å»ºå¥½WEBé¡¹ç›®ç¯å¢ƒ</li>
<li>Step2ï¼šå¼€å‘UserServletï¼Œç”¨äºä½œä¸ºUserç›¸å…³çš„Controller<ul>
<li>Servletç»§æ‰¿<code>HttpServlet</code>ç±»ï¼Œå¹¶é‡å†™serviceæ–¹æ³•ç”¨äºå¤„ç†ç”¨æˆ·è¯·æ±‚</li>
<li>å…¶ä¸­<code>HttpServletRequest</code>å’Œ<code>HttpServletResponse </code>ä»£è¡¨è¯·æ±‚å’Œå“åº”å¯¹è±¡</li>
<li>Servletå¯¹è±¡çš„<code>ç”Ÿå‘½å‘¨æœŸ</code>(åˆ›å»º,åˆå§‹åŒ–,å¤„ç†æœåŠ¡,é”€æ¯)æ˜¯ç”±tomcatç®¡ç†çš„,æ— éœ€æˆ‘ä»¬è‡ªå·±new</li>
<li>HttpServletRequest HttpServletResponse ä¸¤ä¸ªå¯¹è±¡ä¹Ÿæ˜¯æœ‰tomcatè´Ÿè´£è½¬æ¢,åœ¨è°ƒç”¨serviceæ–¹æ³•æ—¶ä¼ å…¥ç»™æˆ‘ä»¬ç”¨çš„</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.Servlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servletå¼€å‘æµç¨‹</span></span><br><span class="line"><span class="comment"> * 1. åˆ›å»ºjavaWebé¡¹ç›®ï¼Œæ·»åŠ tomcatä¸ºé¡¹ç›®çš„ä¾èµ–ï¼ˆdata structureä¸­è®¾ç½®ï¼‰</span></span><br><span class="line"><span class="comment"> * 2. é‡å†™serviceæ–¹æ³•service(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line"><span class="comment"> * 3. åœ¨serviceä¸­å®šä¹‰ä¸šåŠ¡å¤„ç†ä»£ç </span></span><br><span class="line"><span class="comment"> * 4. web.xmlä¸­é…ç½®servletå¯¹åº”çš„è¯·æ±‚æ˜ å°„è·¯å¾„</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * é—®é¢˜</span></span><br><span class="line"><span class="comment"> * 1. servlet-api.jar å¯¼å…¥é—®é¢˜</span></span><br><span class="line"><span class="comment"> *      servlet-apiç¼–ç æ—¶éœ€è¦ï¼Œè€ŒæœåŠ¡å™¨è¿è¡Œçš„æ—¶å€™ç”±Tmocatæä¾›å³å¯</span></span><br><span class="line"><span class="comment"> *      å› æ­¤æˆ‘ä»¬JavaWebé¡¹ç›®æ„å»ºbuildçš„æ—¶å€™æ— éœ€æºå¸¦Servlet-api jaråŒ…ï¼ˆä½œç”¨åŸŸprovidedç¼–è¯‘ä½¿ç”¨ ä½†æ„å»ºä¸è½½å…¥ï¼‰</span></span><br><span class="line"><span class="comment"> * 2. Content-Type å“åº”å¤´é—®é¢˜</span></span><br><span class="line"><span class="comment"> *      MIMEç±»å‹å“åº”å¤´â€”â€”â€”â€”åª’ä½“ç±»å‹ï¼Œæ–‡ä»¶ç±»å‹ï¼Œå“åº”çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment"> *      MIMEç±»å‹ç”¨äºå‘Šè¯‰å®¢æˆ·ç«¯å“åº”çš„æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå®¢æˆ·ç«¯æ ¹æ®ç±»å‹æ¥è§£æå“åº”ä½“ï¼ˆé»˜è®¤text/htmlï¼‰</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 1. ä»requestå¯¹è±¡ä¸­è¯·æ±‚ä»»ä½•ä¿¡æ¯ï¼ˆusernameå‚æ•°ï¼‰</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);<span class="comment">// æ ¹æ®å‚æ•°åè·å¾—å‚æ•°å€¼ï¼ˆæ— è®ºget/postï¼Œåªè¦æ˜¯é”®å€¼å¯¹å°±å¯ä»¥ï¼‰</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. å¤„ç†ä¸šåŠ¡</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">info</span> <span class="operator">=</span> <span class="string">&quot;&lt;h1&gt;yes&lt;/h1&gt;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="string">&quot;atguigu&quot;</span>.equals(username)) &#123;</span><br><span class="line">            info = <span class="string">&quot;&lt;h1&gt;no&lt;/h1&gt;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. å°†å“åº”çš„æ•°æ®æ”¾å…¥responseä¸­</span></span><br><span class="line">        <span class="comment">// åº”å½“è®¾ç½®Content-Typeå“åº”å¤´</span></span><br><span class="line"><span class="comment">//        resp.setHeader(&quot;Content-Type&quot;, &quot;text/html&quot;);</span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter(); <span class="comment">// å‘å“åº”ä½“å†™å…¥æ‰“å°å­—ç¬¦ä¸²çš„å­—ç¬¦æµ</span></span><br><span class="line">        writer.write(info);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>Step3ï¼šå› ä¸ºServletä½œä¸ºåŠ¨æ€èµ„æºå¹¶ä¸æ˜¯å®é™…å­˜åœ¨çš„æ–‡ä»¶ï¼Œå› æ­¤è¦è·å–åˆ°è¯¥èµ„æºï¼Œéœ€è¦é…ç½®<code>è¯·æ±‚æ˜ å°„è·¯å¾„</code>åˆ°web.xmlï¼ˆåç»­å¯é€šè¿‡æ³¨è§£å®Œæˆè¯¥æ“ä½œï¼‰è¦ç‚¹<ul>
<li>é…ç½®<code>servlet</code>å…ƒç´ <ul>
<li><code>servlet-name</code>ï¼šServletçš„åˆ«åï¼Œç”¨äºåç»­åœ¨<code>servlet-mapping</code>æ ‡ç­¾å®šä½è¯·æ±‚æ˜ å°„è·¯å¾„</li>
<li><code>servlet-class</code> ï¼šå‘ŠçŸ¥Tomcatéœ€è¦å®ä¾‹åŒ–çš„ç±»ï¼Œå¥½è®©Tomcatåå°„å‡ºæ¥</li>
</ul>
</li>
<li>é…ç½®<code>servlet-mapping</code>å…ƒç´ <ul>
<li><code>servlet-name</code>ï¼šåŒ¹é…servletä¸­çš„åˆ«å</li>
<li><code>url-pattern</code>ï¼šå®šä¹‰servletçš„è¯·æ±‚<code>æ˜ å°„è·¯å¾„</code>ï¼Œæ”¯æŒé€šé…å†™æ³•ï¼š<ul>
<li>&#x2F;        è¡¨ç¤ºé€šé…æ‰€æœ‰èµ„æº,ä¸åŒ…æ‹¬jspæ–‡ä»¶</li>
<li>&#x2F;*      è¡¨ç¤ºé€šé…æ‰€æœ‰èµ„æº,åŒ…æ‹¬jspæ–‡ä»¶</li>
<li>&#x2F;a&#x2F;*     åŒ¹é…æ‰€æœ‰ä»¥aå‰ç¼€çš„æ˜ å°„è·¯å¾„</li>
<li>*.action åŒ¹é…æ‰€æœ‰ä»¥actionä¸ºåç¼€çš„æ˜ å°„è·¯å¾„</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ³¨ï¼šä¸€ä¸ªservletå¯ä»¥æœ‰å¤šä¸ªurl-patternï¼Œä½†å¤šä¸ªservletä¸èƒ½äº«æœ‰åŒä¸€ä¸ªurl-pattern</p>
</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240901201633095.png" alt="image-20240901201633095">	</p>
<p>æ³¨ï¼š<code>è¯·æ±‚ä¸Šä¸‹æ–‡è·¯å¾„å’Œç£ç›˜çš„è·¯å¾„</code>ä¹‹é—´çš„å…³ç³»ï¼Œå†æ¬¡å¼ºè°ƒã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240901202955551.png" alt="image-20240901202955551">	</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        é…ç½®Servletï¼Œå¹¶èµ·ä¸€ä¸ªåˆ«å</span></span><br><span class="line"><span class="comment">        servlet-classç”¨äºå‘ŠçŸ¥tomcatéœ€è¦å®ä¾‹åŒ–çš„Servletç±»(åå°„æŠ€æœ¯)</span></span><br><span class="line"><span class="comment">        servlet-nameç”¨äºå…³è”è¯·æ±‚çš„æ˜ å°„è·¯å¾„</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>userServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.atguigu.servlet.UserServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>userServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/userServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        ä¸€ä¸ªservlet-nameå¯ä»¥åŒæ—¶å¯¹åº”å¤šä¸ªurl-pattern</span></span><br><span class="line"><span class="comment">        ä¸€ä¸ªservletæ ‡ç­¾å¯ä»¥å¯¹åº”å¤šä¸ªservlet-mappingæ ‡ç­¾</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        url-pattern</span></span><br><span class="line"><span class="comment">            1. ç²¾ç¡®åŒ¹é…</span></span><br><span class="line"><span class="comment">                /servlet1</span></span><br><span class="line"><span class="comment">            2. æ¨¡ç³ŠåŒ¹é…</span></span><br><span class="line"><span class="comment">                *ä½œä¸ºé€šé…ç¬¦ï¼Œ*åœ¨å“ªé‡Œï¼Œå“ªé‡Œå°±æ˜¯æ¨¡ç³Šçš„</span></span><br><span class="line"><span class="comment">                /       åŒ¹é…å…¨éƒ¨ï¼Œä¸åŒ…å«jspæ–‡ä»¶</span></span><br><span class="line"><span class="comment">                /*      åŒ¹é…å…¨éƒ¨ï¼ŒåŒ…å«jspæ–‡ä»¶</span></span><br><span class="line"><span class="comment">                /a/*    åŒ¹é…å‰ç¼€åç¼€æ¨¡ç³Šï¼ˆä»¥aå¼€å¤´çš„ï¼‰</span></span><br><span class="line"><span class="comment">                *.action åŒ¹é…åç¼€ï¼Œå‰ç¼€æ¨¡ç³Šï¼ˆå‰é¢çš„æ–œçº¿è¦å»æ‰ å¦åˆ™åŒ¹é…å…¨éƒ¨ï¼‰</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;servlet&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-name&gt;servlet1&lt;/servlet-name&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-class&gt;com.atguigu.servlet.Servlet1&lt;/servlet-class&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/servlet&gt;--&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--    &lt;servlet-mapping&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-name&gt;servlet1&lt;/servlet-name&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;url-pattern&gt;/s1&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/servlet-mapping&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;servlet-mapping&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-name&gt;servlet1&lt;/servlet-name&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ç²¾ç¡®åŒ¹é…--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;url-pattern&gt;/servlet1&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ¨¡ç³ŠåŒ¹é…ï¼Œ/ä¸åŒ…å«jsp, /*å…¨éƒ¨--&gt;</span>	</span><br><span class="line"><span class="comment">&lt;!--        &lt;url-pattern&gt;/&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;url-pattern&gt;/a/*&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/servlet-mapping&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li>Step4ï¼šç¼–å†™formè¡¨å•æäº¤è¯·æ±‚ï¼Œå› ä¸ºå¼‚æ­¥è¯·æ±‚çš„çŸ¥è¯†æš‚æ—¶æ²¡æœ‰è§£é”ï¼Œé€šè¿‡è·³è½¬ç•Œé¢æ¥æ¼”ç¤º</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">     get: http://127.0.0.1:8080/userServlet?username=zhangsan</span></span><br><span class="line"><span class="comment">     post: è¯·æ±‚ä½“ä¸­ username=zhangsan</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;userServlet&quot;</span>&gt;</span></span><br><span class="line">        ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ ¡éªŒ&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li>Step5ï¼šdebugæµ‹è¯•æœåŠ¡ç«¯æ˜¯å¦æ­£å¸¸å¤„ç†ä¸šåŠ¡ï¼Œå‰ç«¯æ˜¯å¦è¿”å›æ•°æ®</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240901202920601.png" alt="image-20240901202920601">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240901202910082.png" alt="image-20240901202910082">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240901202930340.png" alt="image-20240901202930340">	</p>
<h2 id="3-Servletæ³¨è§£"><a href="#3-Servletæ³¨è§£" class="headerlink" title="3. Servletæ³¨è§£"></a>3. Servletæ³¨è§£</h2><h3 id="3-1-WebServletæºç "><a href="#3-1-WebServletæºç " class="headerlink" title="3.1 @WebServletæºç "></a>3.1 @WebServletæºç </h3><p>å®˜æ–¹JAVAEEAPIæ–‡æ¡£ä¸‹è½½åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/javaee/javaeetechnologies.html#javaee8">Java EE - Technologies (oracle.com)</a> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> jakarta.servlet.annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Documented;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> Servlet 3.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Target(&#123; ElementType.TYPE &#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> WebServlet &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The name of the servlet</span></span><br><span class="line"><span class="comment">     * ç›¸å½“äº servlet-name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the name of the servlet</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The URL patterns of the servlet</span></span><br><span class="line"><span class="comment">     * å¦‚æœåªé…ç½®ä¸€ä¸ªurl-pattern ,åˆ™é€šè¿‡è¯¥å±æ€§å³å¯,å’ŒurlPatternså±æ€§äº’æ–¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the URL patterns of the servlet</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String[] value() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The URL patterns of the servlet</span></span><br><span class="line"><span class="comment">     * å¦‚æœè¦é…ç½®å¤šä¸ªurl-pattern ,éœ€è¦é€šè¿‡è¯¥å±æ€§,å’Œvalueå±æ€§äº’æ–¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the URL patterns of the servlet</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String[] urlPatterns() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The load-on-startup order of the servlet</span></span><br><span class="line"><span class="comment">     * é…ç½®Servletæ˜¯å¦åœ¨é¡¹ç›®åŠ è½½æ—¶å®ä¾‹åŒ–</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the load-on-startup order of the servlet</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">loadOnStartup</span><span class="params">()</span> <span class="keyword">default</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The init parameters of the servlet</span></span><br><span class="line"><span class="comment">     * é…ç½®åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the init parameters of the servlet</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    WebInitParam[] initParams() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Declares whether the servlet supports asynchronous operation mode.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@code</span> true&#125; if the servlet supports asynchronous operation mode</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> jakarta.servlet.ServletRequest#startAsync</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> jakarta.servlet.ServletRequest#startAsync( jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">asyncSupported</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The small-icon of the servlet</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the small-icon of the servlet</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String <span class="title function_">smallIcon</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The large-icon of the servlet</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the large-icon of the servlet</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String <span class="title function_">largeIcon</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The description of the servlet</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the description of the servlet</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String <span class="title function_">description</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The display name of the servlet</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the display name of the servlet</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    String <span class="title function_">displayName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-2-WebServletä½¿ç”¨"><a href="#3-2-WebServletä½¿ç”¨" class="headerlink" title="3.2 @WebServletä½¿ç”¨"></a>3.2 @WebServletä½¿ç”¨</h3><p>é€šè¿‡@WebServletæ³¨è§£æ›¿æ¢Servleté…ç½®ï¼Œé…ç½®ä¿¡æ¯åŒ…å«</p>
<ul>
<li>åˆ«å<code>name</code></li>
<li>æ˜ å°„è·¯å¾„<code>value</code>ï¼ˆå•ä¸ªï¼‰ï¼Œ<code>urlPatterns</code>ï¼ˆå¤šä¸ªï¼‰</li>
<li>åˆå§‹å‚æ•°<code>initParams</code></li>
<li>åˆå§‹åŒ–Servletæ—¶ç¬¬nä¸ªåŠ è½½å®ä¾‹åŒ–<code>loadonStartup</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebServlet(</span></span><br><span class="line"><span class="meta">        name = &quot;userServlet&quot;,</span></span><br><span class="line"><span class="meta">        //value = &quot;/user&quot;,</span></span><br><span class="line"><span class="meta">        urlPatterns = &#123;&quot;/userServlet1&quot;,&quot;/userServlet2&quot;,&quot;/userServlet&quot;&#125;,</span></span><br><span class="line"><span class="meta">        initParams = &#123;@WebInitParam(name = &quot;encoding&quot;,value = &quot;UTF-8&quot;)&#125;,</span></span><br><span class="line"><span class="meta">        loadOnStartup = 6</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServlet</span>  <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">encoding</span> <span class="operator">=</span> getServletConfig().getInitParameter(<span class="string">&quot;encoding&quot;</span>);</span><br><span class="line">        System.out.println(encoding);</span><br><span class="line">		<span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-Servletç”Ÿå‘½å‘¨æœŸ"><a href="#4-Servletç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="4. Servletç”Ÿå‘½å‘¨æœŸ"></a>4. Servletç”Ÿå‘½å‘¨æœŸ</h2><h3 id="4-1-ç”Ÿå‘½å‘¨æœŸç®€ä»‹"><a href="#4-1-ç”Ÿå‘½å‘¨æœŸç®€ä»‹" class="headerlink" title="4.1 ç”Ÿå‘½å‘¨æœŸç®€ä»‹"></a>4.1 ç”Ÿå‘½å‘¨æœŸç®€ä»‹</h3><ul>
<li>Servletå¯¹è±¡<code>ç”Ÿå‘½å‘¨æœŸ</code>ï¼šåº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡é™¤äº†ç©ºé—´ä¸Šçš„å±‚æ¬¡å…³ç³»ï¼Œåœ¨æ—¶é—´ä¸Šä¼š<strong>éšç€ç¨‹åºè¿è¡Œçš„ä¸åŒé˜¶æ®µè€Œå±•ç°å‡ºä¸åŒçš„çŠ¶æ€å’Œè¡Œä¸º</strong><ul>
<li>ç†è§£ï¼šå¯¹è±¡åœ¨å®¹å™¨ä¸­ä»å¼€å§‹åˆ°é”€æ¯çš„è¿‡ç¨‹</li>
</ul>
</li>
<li>Servlet<code>å®¹å™¨</code>ï¼šServletå¯¹è±¡é€šè¿‡Servletå®¹å™¨åˆ›å»ºï¼Œç”Ÿå‘½å‘¨æœŸç›¸å…³æ–¹æ³•å‡é€šè¿‡å®¹å™¨å®ç°ï¼ˆç›®å‰ä½¿ç”¨<code>Tomcat</code>ï¼‰ï¼Œåœ¨ä»Šåå­¦ä¹ ä¸­ï¼Œå¾ˆå¤šå¯¹è±¡ä¼šäº¤ç”±ç»™å®¹å™¨æˆ–è€…æ¡†æ¶æ¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºï¼Œè°ƒç”¨ï¼Œå¼€å‘äººå‘˜ä¼šå°†æ›´å¤šç²¾åŠ›æ”¾åœ¨ä¸šåŠ¡æµç¨‹ï¼Œè€Œä¸æ˜¯å…·ä½“å®ç°ä¸Š</li>
<li>ç”Ÿå‘½å‘¨æœŸç›¸å…³æ–¹æ³•å’Œæ‰§è¡Œæƒ…å†µå¦‚ä¸‹ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>ç”Ÿå‘½å‘¨æœŸ</th>
<th>å¯¹åº”æ–¹æ³•</th>
<th>æ‰§è¡Œæ—¶æœº</th>
<th>æ‰§è¡Œæ¬¡æ•°</th>
</tr>
</thead>
<tbody><tr>
<td>æ„é€ å¯¹è±¡</td>
<td>æ„é€ å™¨</td>
<td>ç¬¬ä¸€æ¬¡è¯·æ±‚æˆ–è€…å®¹å™¨å¯åŠ¨</td>
<td>1</td>
</tr>
<tr>
<td>åˆå§‹åŒ–</td>
<td>init()</td>
<td>æ„é€ å®Œæ¯•å</td>
<td>1</td>
</tr>
<tr>
<td>å¤„ç†æœåŠ¡</td>
<td>service(HttpServletRequest req,HttpServletResponse resp)</td>
<td>æ¯æ¬¡è¯·æ±‚</td>
<td>å¤šæ¬¡</td>
</tr>
<tr>
<td>é”€æ¯</td>
<td>destory()</td>
<td>å®¹å™¨å…³é—­</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id="4-2-ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æµ‹è¯•"><a href="#4-2-ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æµ‹è¯•" class="headerlink" title="4.2 ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æµ‹è¯•"></a>4.2 ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// å»ºè®®loadOnStartupä»6å¼€å§‹å†™ é¿å…å’Œconfç›®å½•ä¸‹å®šä¹‰å¥½çš„å†²çª</span></span><br><span class="line"> <span class="meta">@WebServlet(value = &quot;/servletLifeCircle&quot;, loadOnStartup = 6)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletLifeCircle</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServletLifeCircle</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletLifeCircle constructor&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletLifeCircle init&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @Override</span></span><br><span class="line"><span class="comment">//    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span></span><br><span class="line"><span class="comment">//            i++;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;ServletLifeCircle service&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¯·æ±‚ä¸šåŠ¡é€»è¾‘ start...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletLifeCircle destroy&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>logæ—¥å¿—é‡è¦å¥æŸ„</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">04-Sep-2024 10:59:54.317 ä¿¡æ¯ [main] org.apache.catalina.startup.Catalina.start [178]æ¯«ç§’åæœåŠ¡å™¨å¯åŠ¨</span><br><span class="line">Connected to server</span><br><span class="line">[2024-09-04 10:59:54,835] Artifact demo02-servlet01:Web exploded: Artifact is being deployed, please <span class="built_in">wait</span>...</span><br><span class="line"></span><br><span class="line">ServletLifeCircle constructor</span><br><span class="line">ServletLifeCircle init</span><br><span class="line">    </span><br><span class="line">[D:\application\apache-tomcat-10.1.28\webapps\manager]çš„éƒ¨ç½²å·²åœ¨[128]æ¯«ç§’å†…å®Œæˆ</span><br><span class="line">è¯·æ±‚ä¸šåŠ¡é€»è¾‘ start...</span><br><span class="line">    </span><br><span class="line">D:\application\apache-tomcat-10.1.28\bin\catalina.bat stop</span><br><span class="line">04-Sep-2024 11:00:25.228 ä¿¡æ¯ [main] org.apache.catalina.core.StandardServer.await é€šè¿‡å…³é—­ç«¯å£æ¥æ”¶åˆ°æœ‰æ•ˆçš„å…³é—­å‘½ä»¤ã€‚æ­£åœ¨åœæ­¢æœåŠ¡å™¨å®ä¾‹ã€‚</span><br><span class="line">ServletLifeCircle destroy</span><br><span class="line">Disconnected from server</span><br></pre></td></tr></table></figure>





<h3 id="4-3-ä½¿ç”¨ç»“è®º"><a href="#4-3-ä½¿ç”¨ç»“è®º" class="headerlink" title="4.3 ä½¿ç”¨ç»“è®º"></a>4.3 ä½¿ç”¨ç»“è®º</h3><ol>
<li>Servletåœ¨å®¹å™¨ä¸­æ˜¯<code>å•ä¾‹</code>çš„</li>
<li>å®¹å™¨å¯ä»¥å¤„ç†ç”¨æˆ·<code>å¹¶å‘</code>è¯·æ±‚ï¼Œæ¯ä¸ªè¯·æ±‚åœ¨å®¹å™¨ä¸­ä¼šå¼€å¯ä¸€ä¸ªçº¿ç¨‹</li>
<li>Servletçš„æˆå‘˜å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹æ ˆä¸­æ˜¯<code>å…±äº«</code>çš„ï¼Œå› æ­¤<code>ä¸å»ºè®®ä¿®æ”¹</code>æˆå‘˜å˜é‡ï¼ˆåŠ é”ä¼šå½±å“æœåŠ¡å™¨æ€§èƒ½ï¼‰</li>
<li><code>load-on-startup</code>è¡¨ç¤ºå®ä¾‹åŒ–çš„é¡ºåºï¼Œè™½ç„¶é‡å¤äº†å®¹å™¨ä¼šè‡ªè¡Œè§£å†³ï¼Œä½†è¦é¿å…é‡å¤ï¼Œå»ºè®®ä»6å¼€å§‹ï¼Œ1-5æ˜¯å®ä¾‹åŒ–servletè‡ªèº«å®šä¹‰çš„</li>
<li><code>default-servlet </code>å®é™…ä¸Šå°±æ˜¯æ‰€æœ‰servletæ²¡æœ‰åŒ¹é…ä¸Šï¼Œæ‰¾é™æ€èµ„æºï¼Œé€šè¿‡I&#x2F;Oè¯»å…¥respå†è¿”å›ç»™è¯·æ±‚ç«¯</li>
</ol>
<h2 id="5-Servletæºç è¿½æº¯å’Œç»“è®º"><a href="#5-Servletæºç è¿½æº¯å’Œç»“è®º" class="headerlink" title="5. Servletæºç è¿½æº¯å’Œç»“è®º"></a>5. Servletæºç è¿½æº¯å’Œç»“è®º</h2><h3 id="5-1-ç»§æ‰¿ç»“æ„"><a href="#5-1-ç»§æ‰¿ç»“æ„" class="headerlink" title="5.1 ç»§æ‰¿ç»“æ„"></a>5.1 ç»§æ‰¿ç»“æ„</h3><p>ç»§æ‰¿ç»“æ„å›¾</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904104519317.png" alt="image-20240904104519317">	</p>
<h3 id="5-2-æºç åˆ†æ"><a href="#5-2-æºç åˆ†æ" class="headerlink" title="5.2 æºç åˆ†æ"></a>5.2 æºç åˆ†æ</h3><p>é¡¶çº§<code>Servletæ¥å£</code></p>
<ul>
<li>æ˜æ˜¾åœ°å‘Šè¯‰äº†æˆ‘ä»¬ç”Ÿå‘½å‘¨æœŸæ‰€éœ€è¦çš„æ–¹æ³•è§„èŒƒ</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line">   <span class="comment">// æ„é€ å®Œæ¯•åç”±Tomcatè‡ªåŠ¨è°ƒç”¨å®Œæˆåˆå§‹åŒ–åŠŸèƒ½çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig var1)</span> <span class="keyword">throws</span> ServletException;</span><br><span class="line">   <span class="comment">// è·å¾—ServletConfigå¯¹è±¡</span></span><br><span class="line">    ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span>;</span><br><span class="line">   <span class="comment">// æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå‘ç”¨æˆ·å“åº”ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest var1, ServletResponse var2)</span> <span class="keyword">throws</span> ServletException, IOException;</span><br><span class="line">   <span class="comment">// è¿”å›Servletå­—ç¬¦ä¸²å½¢å¼æè¿°ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line">    String <span class="title function_">getServletInfo</span><span class="params">()</span>;</span><br><span class="line">   <span class="comment">// Servletåœ¨å›æ”¶å‰è°ƒç”¨çš„é”€æ¯æ–¹æ³•ï¼Œå¾€å¾€ç”¨äºåšèµ„æºé‡Šæ”¾ç­‰å·¥ä½œ</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å®ç°ç±»<code>GenericServlet</code>ï¼ˆä¾§é‡serviceä»¥å¤–çš„æ–¹æ³•å¤„ç†ï¼‰</p>
<ul>
<li>ä¸»è¦æ˜¯ä¼ å…¥ä¸€äº›é…ç½®ä¿¡æ¯ä»¥ä¾¿åˆå§‹åŒ–ï¼Œå¹¶è®©å¼€å‘è€…å¯ä»¥é‡å†™<code>init()</code>å’Œ<code>destroy()</code>æ–¹æ³•åœ¨åŸæœ‰åŸºç¡€ä¸Šæ‰©å±•åˆå§‹åŒ–å’Œé”€æ¯çš„åŠ¨ä½œï¼ˆé‡Šæ”¾èµ„æºç­‰ï¼‰</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">GenericServlet</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span>, ServletConfig, Serializable &#123;</span><br><span class="line">    <span class="comment">// å¹³åº¸å®ç°ï¼šå°†æŠ½è±¡æ–¹æ³•é‡å†™ä¸ºæ™®é€šæ–¹æ³•ï¼Œå†…éƒ¨æ²¡æœ‰æ–¹æ³•ä½“</span></span><br><span class="line">    <span class="comment">// å¥½å¤„ï¼šå¯ä»¥ä¸è¦æ±‚é‡å†™æ‰€æœ‰æ¥å£æ–¹æ³•ï¼Œå¯é€šè¿‡ç»§æ‰¿è¯¥ç±»è‡ªåŠ¨å®ç°è¯¥ç±»</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// tomcatè°ƒç”¨initæ–¹æ³•æ—¶è¯»å–é…ç½®ä¿¡æ¯ï¼Œè¿›å…¥ServletConfigå¯¹è±¡ï¼Œå°†è¯¥å¯¹è±¡ä¼ å…¥initæ–¹æ³•</span></span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">transient</span> ServletConfig config;</span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="comment">// configå¯¹è±¡å­˜å‚¨ä¸ºå½“å‰å±æ€§</span></span><br><span class="line">         <span class="built_in">this</span>.config = config;</span><br><span class="line">        <span class="comment">// è°ƒç”¨é‡è½½çš„initæ–¹æ³•ï¼ˆå¥½å¤„ï¼Œå¼€å‘è€…æŒ‰éœ€é‡å†™åˆå§‹åŒ–çš„è¡Œä¸ºï¼Œè€Œæ— éœ€å®šä¹‰configç­‰ç›¸å…³apiï¼‰</span></span><br><span class="line">         <span class="built_in">this</span>.init();</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡è½½åˆå§‹åŒ–çš„initæ–¹æ³•ï¼Œæ˜¯æˆ‘ä»¬å¾…é‡å†™çš„æ–¹æ³•</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›servletConfig</span></span><br><span class="line">     <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.config;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é’ˆå¯¹serviceæ–¹æ³•å†æ¬¡æŠ½è±¡ç”³æ˜</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest var1, ServletResponse var2)</span> <span class="keyword">throws</span> ServletException, IOException;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>



<p><code>HttpServlet</code>ï¼ˆä¾§é‡serviceçš„å¤„ç†ï¼‰</p>
<ul>
<li>ç›´æ¥è°ƒç”¨æœ¬ç±»serviceæ–¹æ³•çš„å¤„ç†æ–¹å¼ï¼šç›´æ¥æŠ¥405</li>
<li>å› æ­¤æˆ‘ä»¬ä¸€èˆ¬ç»§æ‰¿è¯¥ç±»ï¼Œé‡å†™<code>service</code>æ–¹æ³•ï¼ˆæˆ–<code>doXxx</code>æ–¹æ³•ï¼‰</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">HttpServlet</span> <span class="keyword">extends</span> <span class="title class_">GenericServlet</span> &#123;</span><br><span class="line">    <span class="comment">// å‚æ•°çˆ¶è½¬å­ï¼Œè°ƒç”¨é‡è½½çš„serviceæ–¹æ³•</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest req, ServletResponse res)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å‚æ•°çš„çˆ¶è½¬å­ï¼Œæœ‰æ›´ä¸°å¯Œçš„æ–¹æ³•</span></span><br><span class="line">         request = (HttpServletRequest)req;</span><br><span class="line">         response = (HttpServletResponse)res;</span><br><span class="line">        <span class="comment">// è°ƒç”¨é‡è½½çš„serviceæ–¹æ³•</span></span><br><span class="line">         <span class="built_in">this</span>.service(request, response);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// è·å–è¯·æ±‚æ–¹å¼</span></span><br><span class="line">         <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> req.getMethod(); <span class="comment">// GET POST PUT DELETE OPTIONS...</span></span><br><span class="line">        <span class="comment">// æ ¹æ®è¯·æ±‚æ–¹å¼è°ƒç”¨å¯¹åº”çš„do...</span></span><br><span class="line">         <span class="keyword">if</span> (method.equals(<span class="string">&quot;GET&quot;</span>)) &#123;</span><br><span class="line">            lastModified = <span class="built_in">this</span>.getLastModified(req);</span><br><span class="line">            <span class="built_in">this</span>.doGet(req, resp);</span><br><span class="line">         &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;HEAD&quot;</span>)) &#123;</span><br><span class="line">             lastModified = <span class="built_in">this</span>.getLastModified(req);</span><br><span class="line">             <span class="built_in">this</span>.maybeSetLastModified(resp, lastModified);</span><br><span class="line">             <span class="built_in">this</span>.doHead(req, resp);</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;POST&quot;</span>)) &#123;</span><br><span class="line">             <span class="built_in">this</span>.doPost(req, resp);</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;PUT&quot;</span>)) &#123;</span><br><span class="line">            <span class="built_in">this</span>.doPut(req, resp);</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;DELETE&quot;</span>)) &#123;</span><br><span class="line">            <span class="built_in">this</span>.doDelete(req, resp);</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;OPTIONS&quot;</span>)) &#123;</span><br><span class="line">            <span class="built_in">this</span>.doOptions(req, resp);</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(<span class="string">&quot;TRACE&quot;</span>)) &#123;</span><br><span class="line">            <span class="built_in">this</span>.doTrace(req, resp);</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             resp.sendError(<span class="number">501</span>, errMsg);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">         <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> lStrings.getString(<span class="string">&quot;http.method_get_not_supported&quot;</span>);</span><br><span class="line">         <span class="comment">// æ•…æ„å“åº”405</span></span><br><span class="line">         resp.sendError(<span class="number">405</span>, msg);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">         <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> lStrings.getString(<span class="string">&quot;http.method_post_not_supported&quot;</span>);</span><br><span class="line"></span><br><span class="line">         <span class="comment">// æ•…æ„å“åº”405</span></span><br><span class="line">        resp.sendError(<span class="number">405</span>, msg);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>



<p>å¼€å‘è€…è‡ªå®šä¹‰Servlet</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">         <span class="comment">// æ¥æ”¶ç”¨æˆ·è¯·æ±‚ä¿¡æ¯åšå‡ºå“åº”</span></span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>



<h3 id="5-3-ç»“è®º"><a href="#5-3-ç»“è®º" class="headerlink" title="5.3 ç»“è®º"></a>5.3 ç»“è®º</h3><p>å¾—åˆ°ï¼š</p>
<ol>
<li>å¦‚æœå®ç°ç±»æ²¡æœ‰é‡å†™Serviceæ–¹æ³•ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œè¿”å›405</li>
<li>å­ç±»çš„å®ç°ç±»åŒæ ·ä¹Ÿå¯ä»¥å®šä¹‰doGet() doPost()æ–¹æ³•å¯¹ç‰¹å®šç±»å‹çš„è¯·æ±‚æ–¹å¼åšä¸šåŠ¡é€»è¾‘çš„åˆ¤æ–­(æ¨è)</li>
</ol>
<p> æˆ‘ä»¬è¦æ˜ç¡®çš„ç»“è®ºï¼š</p>
<ol>
<li>éƒ¨åˆ†ç¨‹åºå‘˜æ¨èdoGet() doPost()å¤„ç†è¯·æ±‚ï¼Œç†ç”±ï¼šå¦‚æœç›´æ¥é‡å†™serviceæ–¹æ³•ï¼Œçˆ¶ç±»serviceæ–¹æ³•å¤„ç†åŠŸèƒ½å¤±æ•ˆ</li>
<li>ç›®å‰ç›´æ¥é‡å†™serviceæ²¡é—®é¢˜çš„ï¼ˆlast_modifiedç­‰æ²¡æœ‰å½±å“åˆ°ä¸šåŠ¡ï¼‰</li>
<li>åç»­ä½¿ç”¨Spring MVCæ¡†æ¶åï¼Œæ— éœ€ç»§æ‰¿HttpServletï¼Œå¤„ç†è¯·æ±‚çš„æ–¹æ³•ä¹Ÿæ— éœ€æ˜¯doXxx(), service()</li>
<li>doGetå’Œ doPost æ–¹æ³•ä¸­å¦‚æœå®šä¹‰çš„æ–¹æ³•éƒ½ä¸€æ ·ï¼Œè®©ä¸€ä¸ªæ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªå³å¯</li>
</ol>
<p>éœ€æŒæ¡çš„æŠ€èƒ½ï¼šç»§æ‰¿HttpServletåï¼Œè¦ä¹ˆé‡å†™<code>Service</code>æ–¹æ³•ï¼Œè¦ä¹ˆé‡å†™<code>doGet/doPost</code></p>
<p>è¿™ä¸ªå›¾è§£æŒºç‰›çš„ï¼Œæ¶µç›–äº†ä¸Šè¿°å¤§éƒ¨åˆ†Servletè¦ç‚¹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904111007214.png" alt="image-20240904111007214">	</p>
<h2 id="6-ServletConfigå’ŒServletContext"><a href="#6-ServletConfigå’ŒServletContext" class="headerlink" title="6. ServletConfigå’ŒServletContext"></a>6. ServletConfigå’ŒServletContext</h2><h3 id="6-1-ServletConfig"><a href="#6-1-ServletConfig" class="headerlink" title="6.1 ServletConfig"></a>6.1 ServletConfig</h3><ul>
<li><code>ServletConfig</code>ï¼šServletåˆå§‹åŒ–é…ç½®å‚æ•°çš„å¯¹è±¡ï¼Œæ¯ä¸ªServletéƒ½æœ‰è‡ªå·±ä¸“å±çš„ä¸€ä¸ªServletConfig</li>
<li>å®¹å™¨ä¼šå®ä¾‹åŒ–ServletConfigï¼Œé€šè¿‡ç”Ÿå‘½å‘¨æœŸçš„initæ–¹æ³•ä¼ å…¥ç»™Servletä½œä¸ºå±æ€§</li>
<li>æˆ‘ä»¬å¯ä»¥åœ¨å®šä¹‰Servletçš„æ—¶å€™ä¼ å…¥è‡ªå®šä¹‰é…ç½®å‚æ•°<code>init-param</code>ï¼ˆæ¯ä¸ªServletéƒ½éœ€å•ç‹¬å®šä¹‰ï¼‰</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904111905843.png" alt="image-20240904111905843">	</p>
<p>è·å–ç›¸å…³å†…å®¹çš„APIå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>getServletName()</td>
<td>è·å–&lt;servlet-name&gt;HelloServlet&lt;&#x2F;servlet-name&gt;å®šä¹‰çš„Servletåç§°</td>
</tr>
<tr>
<td>getServletConfig()</td>
<td>è·å–ServletConfigå¯¹è±¡</td>
</tr>
<tr>
<td>getInitParameter()</td>
<td>è·å–é…ç½®Servletæ—¶è®¾ç½®çš„ã€åˆå§‹åŒ–å‚æ•°ã€ï¼Œæ ¹æ®åå­—è·å–å€¼</td>
</tr>
<tr>
<td>getInitParameterNames()</td>
<td>è·å–æ‰€æœ‰åˆå§‹åŒ–å‚æ•°åç»„æˆçš„Enumerationå¯¹è±¡</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletConfig;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	--------servlet Config å‚æ•°--------</span></span><br><span class="line"><span class="comment">    keyA: valueA</span></span><br><span class="line"><span class="comment">    keyA: valueA</span></span><br><span class="line"><span class="comment">    keyB: valueB</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--------servlet Config å‚æ•°--------&quot;</span>);</span><br><span class="line">        <span class="type">ServletConfig</span> <span class="variable">servletConfig</span> <span class="operator">=</span> getServletConfig();</span><br><span class="line">        <span class="comment">// æ ¹æ®å‚æ•°åè·å–å‚æ•°å€¼</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">keyA</span> <span class="operator">=</span> servletConfig.getInitParameter(<span class="string">&quot;keyA&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;keyA: &quot;</span> + keyA);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æ‰€æœ‰çš„åˆå§‹å‚æ•°çš„åå­— iterator</span></span><br><span class="line">        <span class="comment">// hasMoreElements åˆ¤æ–­æœ‰æ²¡æœ‰ä¸‹ä¸€ä¸ªå‚æ•°ï¼Œå¦‚æœæœ‰è¿”å›true å¦åˆ™è¿”å›false</span></span><br><span class="line">        <span class="comment">// nextElement     1. å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼› 2. å‘ä¸‹ç§»åŠ¨æ¸¸æ ‡</span></span><br><span class="line">        Enumeration&lt;String&gt; initParameterNames = servletConfig.getInitParameterNames();</span><br><span class="line">        <span class="keyword">while</span> (initParameterNames.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">pName</span> <span class="operator">=</span> initParameterNames.nextElement();</span><br><span class="line">            System.out.println(pName + <span class="string">&quot;: &quot;</span> + servletConfig.getInitParameter(pName));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›¸å…³é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œå…ˆä½¿ç”¨xmlæ ¼å¼è¯´æ˜ä¸¤ä¸ªServletä¹‹é—´çš„ç‹¬ç«‹æ€§ï¼ŒServlet2çš„ä»£ç å°±ç•¥äº†ï¼Œcopyä¸€ä¸‹Servlet1å³å¯</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;6.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>servlet1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.atguigu.com.atguigu.servlet.Servlet1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é…ç½®servletçš„åˆå§‹å‚æ•° --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>keyA<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>valueA<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>keyB<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>valueB<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>servlet1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servlet1<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ¯ä¸€ä¸ªservletConfigä¹‹é—´éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå³éœ€è¦å•ç‹¬å†å®šä¹‰ä¸€æ¬¡ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;servlet&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-name&gt;servlet2&lt;/servlet-name&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-class&gt;com.atguigu.com.atguigu.servlet.Servlet2&lt;/servlet-class&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &amp;lt;!&amp;ndash; é…ç½®servletçš„åˆå§‹å‚æ•° &amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;init-param&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;param-name&gt;keyC&lt;/param-name&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;param-value&gt;valueC&lt;/param-value&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;/init-param&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        &lt;init-param&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;param-name&gt;keyD&lt;/param-name&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;param-value&gt;valueD&lt;/param-value&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;/init-param&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/servlet&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;servlet-mapping&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-name&gt;servlet2&lt;/servlet-name&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;url-pattern&gt;/servlet2&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/servlet-mapping&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="6-2-ServletContext"><a href="#6-2-ServletContext" class="headerlink" title="6.2 ServletContext"></a>6.2 ServletContext</h3><ul>
<li><code>ServletContext</code>å¯¹è±¡ï¼Œä¸€èˆ¬ç§°å‘¼ä¸º<code>ä¸Šä¸‹æ–‡å¯¹è±¡</code>&#x2F;åº”ç”¨åŸŸå¯¹è±¡ï¼ˆåé¢ä¼šè¯´åˆ°<code>åŸŸå¯¹è±¡</code>çš„æ¦‚å¿µï¼‰</li>
<li>å®¹å™¨ä¼šä¸ºappåˆ›å»º<code>ç‹¬ç«‹ä¸”å”¯ä¸€</code>çš„ServletContextå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸ºæ‰€æœ‰Servletå…±äº«ï¼Œå¹¶ä¸ºå…¶æä¾›åˆå§‹<code>é…ç½®å‚æ•°</code></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904112338937.png" alt="image-20240904112338937">		</p>
<p>åœ¨åŸæ¥Servlet1åŸºç¡€ä¸Šè¯´æ˜</p>
<ul>
<li>å¾ˆå¤šç¨‹åºå‘˜å–œæ¬¢å°†ServletContext()å¯¹è±¡çœ‹ä½œæ˜¯æ•´ä¸ªåº”ç”¨å±‚çš„<code>åŸŸå¯¹è±¡application</code>ï¼ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨åŸæ¥çš„é…ç½®ä¸Šè¿›ä¸€æ­¥æ“ä½œå…ƒç´ å’Œå±æ€§ï¼‰</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletConfig;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	--------servlet Context å‚æ•°--------</span></span><br><span class="line"><span class="comment">    true</span></span><br><span class="line"><span class="comment">    true</span></span><br><span class="line"><span class="comment">    encoding: UTF-8</span></span><br><span class="line"><span class="comment">    org.apache.catalina.resources: null</span></span><br><span class="line"><span class="comment">    org.apache.catalina.webappVersion: null</span></span><br><span class="line"><span class="comment">    org.apache.tomcat.InstanceManager: null</span></span><br><span class="line"><span class="comment">    org.apache.tomcat.util.threads.ScheduledThreadPoolExecutor: null</span></span><br><span class="line"><span class="comment">    org.apache.catalina.jsp_classpath: null</span></span><br><span class="line"><span class="comment">    jakarta.servlet.context.tempdir: null</span></span><br><span class="line"><span class="comment">    jakarta.websocket.server.ServerContainer: null</span></span><br><span class="line"><span class="comment">    org.apache.jasper.compiler.TldCache: null</span></span><br><span class="line"><span class="comment">    org.apache.tomcat.JarScanner: null</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;--------servlet Context å‚æ•°--------&quot;</span>);</span><br><span class="line">        <span class="comment">// è·å–ServletContext</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext1</span> <span class="operator">=</span> getServletContext();</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext2</span> <span class="operator">=</span> servletConfig.getServletContext();</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext3</span> <span class="operator">=</span> req.getServletContext();</span><br><span class="line">        System.out.println(servletContext1 == servletContext2);</span><br><span class="line">        System.out.println(servletContext2 == servletContext3);</span><br><span class="line">        <span class="type">String</span> <span class="variable">encoding</span> <span class="operator">=</span> servletContext1.getInitParameter(<span class="string">&quot;encoding&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;encoding: &quot;</span> + encoding);</span><br><span class="line"></span><br><span class="line">        Enumeration&lt;String&gt; pNames = servletContext1.getAttributeNames();</span><br><span class="line">        <span class="keyword">while</span> (pNames.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">pName</span> <span class="operator">=</span> pNames.nextElement();</span><br><span class="line">            System.out.println(pName + <span class="string">&quot;: &quot;</span> + servletContext1.getInitParameter(pName));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾ˆå¤šç¨‹åºå‘˜å–œæ¬¢å°†ServletContextå¯¹è±¡å–åä¸ºapplicationä½œä¸ºæ•´ä¸ªåº”ç”¨å±‚çš„åŸŸå¯¹è±¡</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> getServletContext();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½œä¸ºåŸŸå¯¹è±¡ï¼Œä¸€å®šä¼šæœ‰çš„api</span></span><br><span class="line">        <span class="comment">// void setAttribute(String key, Object value)</span></span><br><span class="line">        servletContext1.setAttribute(<span class="string">&quot;ka&quot;</span>, <span class="string">&quot;va&quot;</span>); <span class="comment">// å‘åŸŸä¸­å¢åŠ æ•°æ®</span></span><br><span class="line">        servletContext1.setAttribute(<span class="string">&quot;ka&quot;</span>, <span class="string">&quot;vaa&quot;</span>); <span class="comment">// å‘åŸŸä¸­ä¿®æ”¹æ•°æ®</span></span><br><span class="line">        <span class="comment">// Object getAttribute(String key)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">ka</span> <span class="operator">=</span> (String) servletContext1.getAttribute(<span class="string">&quot;ka&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// void removeAttribute(String key)</span></span><br><span class="line">       servletContext1.removeAttribute(<span class="string">&quot;ka&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>xmlé…ç½®æ–‡ä»¶ï¼ˆé…ç½®Servletçš„å‚æ•°å°±ä¸å†èµ˜è¿°äº†ï¼‰</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;6.0&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>username<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>zhangsan<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="6-3-ServletContextå…¶ä»–é‡è¦API"><a href="#6-3-ServletContextå…¶ä»–é‡è¦API" class="headerlink" title="6.3 ServletContextå…¶ä»–é‡è¦API"></a>6.3 ServletContextå…¶ä»–é‡è¦API</h3><p>è·å–è·¯å¾„</p>
<ul>
<li>è·å–èµ„æºçš„<code>çœŸå®è·¯å¾„</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;èµ„æºåœ¨webç›®å½•ä¸­çš„è·¯å¾„&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>çœŸå®è·¯å¾„ï¼Œæˆ‘ä»¬ä¸€èˆ¬åœ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œè·¯å¾„ä¼šåŠ¨æ€æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°è·å–èµ„æºçœŸå®è·¯å¾„æ¥ä¿è¯èµ„æºå‡†ç¡®å®šä½åˆ°ç›¸åº”çš„webèµ„æºç›®å½•</li>
</ul>
<ul>
<li>è·å–é¡¹ç›®çš„<code>ä¸Šä¸‹æ–‡è·¯å¾„</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">contextPath</span> <span class="operator">=</span> servletContext.getContextPath();</span><br></pre></td></tr></table></figure>

<ul>
<li><code>é¡¹ç›®éƒ¨ç½²åç§°</code>ï¼Œä¹Ÿå«é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œè¯¥è·¯å¾„ä¹Ÿæœ‰å¯èƒ½ä¼šå˜åŒ–ï¼Œé€šè¿‡è·å–è¯¥è·¯å¾„æ¥è§£å†³åç»­<code>åç«¯æ¸²æŸ“é¡µé¢ã€è¯·æ±‚è½¬å‘å’Œç›¸åº”é‡å®šå‘çš„è·¯å¾„é—®é¢˜</code></li>
</ul>
<p>åº”ç”¨åŸŸå¯¹è±¡ç›¸å…³API</p>
<ul>
<li><code>åŸŸå¯¹è±¡</code>: ä¸€äº›ç”¨äºå­˜å‚¨æ•°æ®å’Œä¼ é€’æ•°æ®çš„å¯¹è±¡,ä¼ é€’æ•°æ®ä¸åŒçš„èŒƒå›´,æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸åŒçš„åŸŸ,ä¸åŒçš„åŸŸå¯¹è±¡ä»£è¡¨ä¸åŒçš„åŸŸ,å…±äº«æ•°æ®çš„èŒƒå›´ä¹Ÿä¸åŒ</li>
<li><code>ServletContext</code>ä»£è¡¨åº”ç”¨,æ‰€ä»¥ServletContextåŸŸä¹Ÿå«ä½œåº”ç”¨åŸŸ,æ˜¯webappä¸­æœ€å¤§çš„åŸŸ,å¯ä»¥åœ¨æœ¬åº”ç”¨å†…å®ç°æ•°æ®çš„å…±äº«å’Œä¼ é€’</li>
<li>webappä¸­çš„ä¸‰å¤§åŸŸå¯¹è±¡,åˆ†åˆ«æ˜¯<code>åº”ç”¨åŸŸ,ä¼šè¯åŸŸ,è¯·æ±‚åŸŸ</code></li>
<li>åç»­ä¼šç»Ÿä¸€è¯´ä¸‰å¤§åŸŸå¯¹è±¡ï¼Œå…¶ä¸­ä»–ä»¬å…±åŒæ‹¥æœ‰çš„APIå¦‚ä¸‹</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>void setAttribute(String key,Object value);</td>
<td>å‘åŸŸä¸­å­˜å‚¨&#x2F;ä¿®æ”¹æ•°æ®</td>
</tr>
<tr>
<td>Object getAttribute(String key);</td>
<td>è·å¾—åŸŸä¸­çš„æ•°æ®</td>
</tr>
<tr>
<td>void removeAttribute(String key);</td>
<td>ç§»é™¤åŸŸä¸­çš„æ•°æ®</td>
</tr>
</tbody></table>
<ul>
<li>ç»™å‡ºä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼šå‘èµ„æºç›®å½•ä¸‹çš„uploadæ–‡ä»¶å¤¹ä¸Šä¼ æ–‡ä»¶ï¼ˆI&#x2F;Oæµå¾—å¤ä¹ ä¸€ä¸‹äº†ï¼‰</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.atguigu.com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    C:\Users\ljy\Documents\Programs\IDEA\atguigu\javaweb\web-all\out\artifacts\demo03_servletConfig_serveletContext_war_exploded\upload</span></span><br><span class="line"><span class="comment">    /demo03_servletConfig_serveletContext_war_exploded</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servlet3&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet3</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å‘uploadç›®å½•å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œç”±äºæ˜¯è¦éƒ¨ç½²ä¸Šå»çš„ï¼Œè¿™é‡Œä»…ä¸ºå·¥ç¨‹æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å¾—åˆ°çœŸå®ç£ç›˜è·¯å¾„ï¼Œè€ŒServletContextå¯ä»¥å®ç°è¿™ä¸ª</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> getServletContext();</span><br><span class="line">        <span class="comment">// è·å¾—æŒ‡å‘é¡¹ç›®éƒ¨ç½²ä½ç½®ä¸‹çš„æŸä¸ªç›®å½•ç£ç›˜çœŸå®è·¯å¾„çš„api</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;upload&quot;</span>);</span><br><span class="line">        System.out.println(path);</span><br><span class="line"><span class="comment">//        FileOutputStream fos = new FileOutputStream(path + &quot;/a.txt&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŒæ—¶ä¹Ÿå¯ä»¥è·å¾—é¡¹ç›®éƒ¨ç½²çš„ä¸Šä¸‹æ–‡è·¯å¾„ï¼ˆé¡¹ç›®çš„urlè®¿é—®è·¯å¾„ï¼‰</span></span><br><span class="line">        <span class="comment">// åç»­æˆ‘ä»¬ä¼šå­¦ä¹ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ç›¸å¯¹å’Œç»å¯¹è·¯å¾„å»å¯»æ‰¾ç›®æ ‡èµ„æº(ç»å¯¹è·¯å¾„æ¯”è¾ƒå›ºå®šï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªçµæ´»çš„å†™æ³•)</span></span><br><span class="line">        <span class="comment">// servlet1  /demo03/servlet1</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">contextPath</span> <span class="operator">=</span> servletContext.getContextPath(); <span class="comment">// è·å–é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„ï¼ˆé¡¹ç›®çš„è®¿é—®è·¯å¾„ï¼‰</span></span><br><span class="line">        System.out.println(contextPath);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="7-HttpServletRequest"><a href="#7-HttpServletRequest" class="headerlink" title="7. HttpServletRequest"></a>7. HttpServletRequest</h2><h3 id="7-1-æ¦‚è¿°"><a href="#7-1-æ¦‚è¿°" class="headerlink" title="7.1 æ¦‚è¿°"></a>7.1 æ¦‚è¿°</h3><ul>
<li><code>HttpServletRequest</code>æ˜¯ä¸€ä¸ªæ¥å£ï¼Œçˆ¶æ¥å£æ˜¯<code>ServletRequest</code></li>
<li><code>HttpServletRequest</code>æ˜¯Tomcatå°†è¯·æ±‚æŠ¥æ–‡è‡ªåŠ¨å°è£…çš„å¯¹è±¡ï¼Œè°ƒç”¨<code>serviceæ–¹æ³•</code>æ—¶ä¼ å…¥</li>
<li>é€šè¿‡HttpServletRequestå¯¹è±¡å¯ä»¥è·å–åˆ°<code>å®¢æˆ·ç«¯è¯·æ±‚</code>ä¸­çš„ç›¸å…³ä¿¡æ¯</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904214606096.png" alt="image-20240904214606096">	</p>
<h3 id="7-2-ç›¸å…³API"><a href="#7-2-ç›¸å…³API" class="headerlink" title="7.2 ç›¸å…³API"></a>7.2 ç›¸å…³API</h3><ul>
<li>è·å–è¯·æ±‚è¡Œä¿¡æ¯ç›¸å…³(æ–¹å¼,è¯·æ±‚çš„url,åè®®åŠç‰ˆæœ¬)</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>StringBuffer getRequestURL();</td>
<td>è·å–å®¢æˆ·ç«¯è¯·æ±‚çš„url</td>
</tr>
<tr>
<td>String getRequestURI();</td>
<td>è·å–å®¢æˆ·ç«¯è¯·æ±‚é¡¹ç›®ä¸­çš„å…·ä½“èµ„æº</td>
</tr>
<tr>
<td>int getServerPort();</td>
<td>è·å–å®¢æˆ·ç«¯å‘é€è¯·æ±‚æ—¶çš„ç«¯å£</td>
</tr>
<tr>
<td>int getLocalPort();</td>
<td>è·å–æœ¬åº”ç”¨åœ¨æ‰€åœ¨å®¹å™¨çš„ç«¯å£</td>
</tr>
<tr>
<td>int getRemotePort();</td>
<td>è·å–å®¢æˆ·ç«¯ç¨‹åºçš„ç«¯å£</td>
</tr>
<tr>
<td>String getScheme();</td>
<td>è·å–è¯·æ±‚åè®®</td>
</tr>
<tr>
<td>String getProtocol();</td>
<td>è·å–è¯·æ±‚åè®®åŠç‰ˆæœ¬å·</td>
</tr>
<tr>
<td>String getMethod();</td>
<td>è·å–è¯·æ±‚æ–¹å¼</td>
</tr>
</tbody></table>
<ul>
<li>è·å¾—è¯·æ±‚å¤´ä¿¡æ¯ç›¸å…³</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>String getHeader(String headerName);</td>
<td>æ ¹æ®å¤´åç§°è·å–è¯·æ±‚å¤´</td>
</tr>
<tr>
<td>Enumeration<String> getHeaderNames();</td>
<td>è·å–æ‰€æœ‰çš„è¯·æ±‚å¤´åå­—</td>
</tr>
<tr>
<td>String getContentType();</td>
<td>è·å–content-typeè¯·æ±‚å¤´</td>
</tr>
</tbody></table>
<ul>
<li>è·å¾—è¯·æ±‚å‚æ•°ç›¸å…³</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>String getParameter(String parameterName);</td>
<td>æ ¹æ®è¯·æ±‚å‚æ•°åè·å–è¯·æ±‚å•ä¸ªå‚æ•°å€¼</td>
</tr>
<tr>
<td>String[] getParameterValues(String parameterName);</td>
<td>æ ¹æ®è¯·æ±‚å‚æ•°åè·å–è¯·æ±‚å¤šä¸ªå‚æ•°å€¼æ•°ç»„</td>
</tr>
<tr>
<td>Enumeration<String> getParameterNames();</td>
<td>è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°å</td>
</tr>
<tr>
<td>Map&lt;String, String[]&gt; getParameterMap();</td>
<td>è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°çš„é”®å€¼å¯¹é›†åˆ</td>
</tr>
<tr>
<td>BufferedReader getReader() throws IOException;</td>
<td>è·å–è¯»å–è¯·æ±‚ä½“çš„å­—ç¬¦è¾“å…¥æµ</td>
</tr>
<tr>
<td>ServletInputStream getInputStream() throws IOException;</td>
<td>è·å–è¯»å–è¯·æ±‚ä½“çš„å­—èŠ‚è¾“å…¥æµ</td>
</tr>
<tr>
<td>int getContentLength();</td>
<td>è·å¾—è¯·æ±‚ä½“é•¿åº¦çš„å­—èŠ‚æ•°</td>
</tr>
</tbody></table>
<ul>
<li>å…¶ä»–API</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>String getServletPath();</td>
<td>è·å–è¯·æ±‚çš„Servletçš„æ˜ å°„è·¯å¾„</td>
</tr>
<tr>
<td>ServletContext getServletContext();</td>
<td>è·å–ServletContextå¯¹è±¡</td>
</tr>
<tr>
<td>Cookie[] getCookies();</td>
<td>è·å–è¯·æ±‚ä¸­çš„æ‰€æœ‰cookie</td>
</tr>
<tr>
<td>HttpSession getSession();</td>
<td>è·å–Sessionå¯¹è±¡</td>
</tr>
<tr>
<td>void setCharacterEncoding(String encoding) ;</td>
<td>è®¾ç½®è¯·æ±‚ä½“å­—ç¬¦é›†</td>
</tr>
</tbody></table>
<blockquote>
<p> æ³¨ï¼šURIæ˜¯é¡¹ç›®å†…çš„èµ„æºè·¯å¾„ï¼ŒURLæ˜¯é¡¹ç›®èµ„æºçš„å®Œæ•´è·¯å¾„</p>
</blockquote>
<h3 id="7-3-APIæµ‹è¯•"><a href="#7-3-APIæµ‹è¯•" class="headerlink" title="7.3 APIæµ‹è¯•"></a>7.3 APIæµ‹è¯•</h3><p><strong>ç¬¬ä¸€ç»„ï¼ˆè¯·æ±‚å¤´ è¯·æ±‚ä½“ç›¸å…³ï¼‰</strong></p>
<p>è¾“å‡º</p>
<blockquote>
<p>GET<br>http<br>HTTP&#x2F;1.1<br>&#x2F;demo03_servletConfig_serveletContext_war_exploded&#x2F;servlet4<br><a target="_blank" rel="noopener" href="http://localhost:8080/demo03_servletConfig_serveletContext_war_exploded/servlet4">http://localhost:8080/demo03_servletConfig_serveletContext_war_exploded/servlet4</a><br>8080<br>8080<br>35644<br>Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;avif,image&#x2F;webp,image&#x2F;apng,<em>&#x2F;</em>;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3;q&#x3D;0.7<br>host:  localhost:8080<br>connection:  keep-alive<br>sec-ch-ua:  â€œChromiumâ€;v&#x3D;â€128â€, â€œNot;A&#x3D;Brandâ€;v&#x3D;â€24â€, â€œGoogle Chromeâ€;v&#x3D;â€128â€<br>sec-ch-ua-mobile:  ?0<br>sec-ch-ua-platform:  â€œWindowsâ€<br>upgrade-insecure-requests:  1<br>user-agent:  Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;128.0.0.0 Safari&#x2F;537.36<br>accept:  text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,image&#x2F;avif,image&#x2F;webp,image&#x2F;apng,<em>&#x2F;</em>;q&#x3D;0.8,application&#x2F;signed-exchange;v&#x3D;b3;q&#x3D;0.7<br>sec-fetch-site:  none<br>sec-fetch-mode:  navigate<br>sec-fetch-user:  ?1<br>sec-fetch-dest:  document<br>accept-encoding:  gzip, deflate, br, zstd<br>accept-language:  zh-CN,zh;q&#x3D;0.9<br>cookie:  username-localhost-8888&#x3D;â€2|1:0|10:1724759932|23:username-localhost-8888|44:NDFmNDQ5NThiYjYyNGQwODhhMGNlZDRlY2M2NDRhOTY&#x3D;|46fb35176fe15fb76e70d9a08234baf1d7312b5dae1964abc190e75c756357f2â€</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servlet4&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet4</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// è¡Œç›¸å…³ GET/POST URI http/1.1</span></span><br><span class="line">        System.out.println(req.getMethod()); <span class="comment">// è·å–è¯·æ±‚æ–¹å¼</span></span><br><span class="line">        System.out.println(req.getScheme()); <span class="comment">// è·å–è¯·æ±‚åè®®</span></span><br><span class="line">        System.out.println(req.getProtocol()); <span class="comment">// è·å–è¯·æ±‚åè®®åŠç‰ˆæœ¬å·</span></span><br><span class="line">        System.out.println(req.getRequestURI()); <span class="comment">// URI: é¡¹ç›®å†…çš„èµ„æºè·¯å¾„</span></span><br><span class="line">        System.out.println(req.getRequestURL()); <span class="comment">// URL: é¡¹ç›®å†…èµ„æºçš„å®Œæ•´è·¯å¾„</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * URI: ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ /demo03/a.html                   interface URI()             æ˜¯èµ„æºå®šä½çš„è¦æ±‚è§„èŒƒ  åŠ¨ç‰©ç±»</span></span><br><span class="line"><span class="comment">         * URL: ç»Ÿä¸€èµ„æºå®šä½ç¬¦ http://ip:port/demo03/a.html     class URL implements URI&#123;&#125;  ä¸€ä¸ªå…·ä½“çš„èµ„æºè·¯å¾„   å“ºä¹³åŠ¨ç‰©ç±»</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(req.getLocalPort()); <span class="comment">// è·å–æœ¬åº”ç”¨å®¹å™¨çš„ç«¯å£å·                  8080</span></span><br><span class="line">        System.out.println(req.getServerPort()); <span class="comment">// è·å–å®¢æˆ·ç«¯è¯·æ±‚æ—¶çš„ç«¯å£å·ï¼ˆä»£ç†ä¼šç”¨åˆ°ï¼‰   8888</span></span><br><span class="line">        System.out.println(req.getRemotePort()); <span class="comment">// è·å–å®¢æˆ·ç«¯è½¯ä»¶çš„ç«¯å£å·                 4325ï¼ˆæµè§ˆå™¨è¿›ç¨‹ï¼‰</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤´ç›¸å…³ k:v</span></span><br><span class="line">        <span class="comment">// æ ¹æ®åå­—è·å–æŸä¸ªè¯·æ±‚å¤´</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">accept</span> <span class="operator">=</span> req.getHeader(<span class="string">&quot;Accept&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Accept: &quot;</span> + accept);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœä¸çŸ¥é“æœ‰ä»€ä¹ˆåå­—ï¼Œå¯ä»¥è·å–æ‰€æœ‰k</span></span><br><span class="line">        Enumeration&lt;String&gt; headerNames = req.getHeaderNames();</span><br><span class="line">        <span class="keyword">while</span> (headerNames.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">headerName</span> <span class="operator">=</span> headerNames.nextElement();</span><br><span class="line">            System.out.println(headerName + <span class="string">&quot;:  &quot;</span> + req.getHeader(headerName));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>ç¬¬äºŒç»„ï¼ˆè¯·æ±‚å‚æ•°ç›¸å…³ï¼‰</strong></p>
<p>è¾“å‡º</p>
<blockquote>
<p>admin<br>password</p>
<p>[1, 2, 3]</p>
<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<p>username&#x3D;admin<br>password&#x3D;password</p>
<p>hobby&#x3D;[1, 2, 3]</p>
<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p>
<p>username &#x3D; admin<br>password &#x3D; password<br>hobby &#x3D; [1, 2, 3]</p>
</blockquote>
<blockquote>
<p>æ³¨1ï¼šå¦‚æœæ˜¯è¦<code>è¾“å‡ºæ‰€æœ‰çš„k-v</code>ï¼Œå­—å…¸çš„å€¼æˆ‘ä»¬é»˜è®¤éƒ½å®šä¹‰ä¸ºString[]ï¼Œå†æ ¹æ®æ•°ç»„çš„é•¿åº¦å†åšè¿›ä¸€æ­¥å¤„ç†ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡è·å–æ‰€æœ‰mapé›†åˆçš„APIï¼‰</p>
<p>æ³¨2ï¼šå¦‚æœæ˜¯<code>éé”®å€¼å¯¹</code>ï¼Œå¦‚JSON æ–‡ä»¶ï¼Œéœ€è¦æŒ‰ç…§æƒ…å†µä½¿ç”¨å­—ç¬¦è¾“å…¥æµæˆ–å­—èŠ‚è¾“å…¥æµæ¥è¯»å–ï¼Œåé¢çš„æ“ä½œè§I&#x2F;Oç›¸å…³çŸ¥è¯†</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletInputStream;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servlet5&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet5</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// æ¥å—è¯·æ±‚ä¸­ã€é”®å€¼å¯¹ã€‘ç±»å‹çš„å‚æ•°(è¯·æ±‚è¡Œå’Œè¯·æ±‚ä½“ä¸­éƒ½å¯ä»¥)</span></span><br><span class="line">        <span class="comment">// æ ¹æ®å‚æ•°åè·å–å•ä¸ªå‚æ•°å€¼</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(username);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        System.out.println(password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ®å‚æ•°åè·å–å¤šä¸ªå‚æ•°å€¼</span></span><br><span class="line">        String[] hobbies = req.getParameterValues(<span class="string">&quot;hobby&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.toString(hobbies));</span><br><span class="line">        System.out.println(<span class="string">&quot;============================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æ‰€æœ‰å‚æ•°å</span></span><br><span class="line">        Enumeration&lt;String&gt; parameterNames = req.getParameterNames();</span><br><span class="line">        <span class="keyword">while</span> (parameterNames.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">parameterName</span> <span class="operator">=</span> parameterNames.nextElement();</span><br><span class="line">            String[] parameterValues = req.getParameterValues(parameterName); <span class="comment">// ç»Ÿä¸€ç”¨å¤šä¸ªé•¿åº¦å¤„ç†</span></span><br><span class="line">            <span class="keyword">if</span> (parameterValues.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                System.out.println(parameterName + <span class="string">&quot;=&quot;</span> + Arrays.toString(parameterValues));</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(parameterName + <span class="string">&quot;=&quot;</span> + parameterValues[<span class="number">0</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;============================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯ä»¥è¿”å›æ‰€æœ‰mapé›†åˆ k å‚æ•°åï¼Œv å‚æ•°å€¼</span></span><br><span class="line">        Map&lt;String, String[]&gt; parameterMap = req.getParameterMap();</span><br><span class="line">        Set&lt;Map.Entry&lt;String, String[]&gt;&gt; entries = parameterMap.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, String[]&gt; entry : entries) &#123;</span><br><span class="line">            System.out.print(entry.getKey() + <span class="string">&quot; = &quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (entry.getValue().length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                System.out.println(Arrays.toString(entry.getValue()));</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(entry.getValue()[<span class="number">0</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            è¯·æ±‚</span></span><br><span class="line"><span class="comment">                è¯·æ±‚è¡Œ     æ–¹å¼ URI http/1.1</span></span><br><span class="line"><span class="comment">                è¯·æ±‚å¤´</span></span><br><span class="line"><span class="comment">                è¯·æ±‚ä½“</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            formè¡¨å•</span></span><br><span class="line"><span class="comment">                getï¼šå‚æ•°ä»¥é”®å€¼å¯¹çš„å½¢å¼æ”¾åœ¨URLåï¼Œä¸æ”¾åœ¨è¯·æ±‚ä½“é‡Œï¼Œä½†æ˜¯GETè¯·æ±‚ä¹Ÿå¯ä»¥æœ‰è¯·æ±‚ä½“</span></span><br><span class="line"><span class="comment">                post</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            è·å¾—è¯·æ±‚ä½“ä¸­éé”®å€¼å¯¹æ•°æ®</span></span><br><span class="line"><span class="comment">                JSONä¸²ï¼ˆå­—ç¬¦è¾“å…¥æµï¼‰</span></span><br><span class="line"><span class="comment">                æ–‡ä»¶ï¼ˆå­—èŠ‚è¾“å…¥æµï¼‰</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">// ä»è¯·æ±‚ä½“ä¸­è·å–å­—ç¬¦è¾“å…¥æµ</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> req.getReader();</span><br><span class="line">        <span class="type">ServletInputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> req.getInputStream();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="8-HttpServletResponse"><a href="#8-HttpServletResponse" class="headerlink" title="8. HttpServletResponse"></a>8. HttpServletResponse</h2><h3 id="8-1-æ¦‚è¿°"><a href="#8-1-æ¦‚è¿°" class="headerlink" title="8.1 æ¦‚è¿°"></a>8.1 æ¦‚è¿°</h3><ul>
<li><code>HttpServletResponse</code>æ˜¯ä¸€ä¸ªæ¥å£,å…¶çˆ¶æ¥å£æ˜¯<code>ServletResponse</code></li>
</ul>
<ul>
<li>åŒæ ·åœ°ï¼ŒHttpServletResponseæ˜¯Tomcaté¢„å…ˆåˆ›å»ºçš„ï¼Œåœ¨è°ƒç”¨serviceæ–¹æ³•ä¼ å…¥</li>
<li>HttpServletResponseä»£è¡¨çš„æ˜¯å®¢æˆ·ç«¯çš„å“åº”ï¼Œè¯¥å¯¹è±¡ä¼šè½¬åŒ–æˆå“åº”æŠ¥æ–‡å‘é€ç»™å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥å¯¹è±¡<code>è®¾ç½®å“åº”ä¿¡æ¯</code></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904220100850.png" alt="image-20240904220100850">	</p>
<h3 id="8-2-ç›¸å…³API"><a href="#8-2-ç›¸å…³API" class="headerlink" title="8.2 ç›¸å…³API"></a>8.2 ç›¸å…³API</h3><ul>
<li>è®¾ç½®å“åº”è¡Œç›¸å…³</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>void setStatus(int  code);</td>
<td>è®¾ç½®å“åº”çŠ¶æ€ç </td>
</tr>
</tbody></table>
<ul>
<li>è®¾ç½®å“åº”å¤´ç›¸å…³</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>void setHeader(String headerName, String headerValue);</td>
<td>è®¾ç½®&#x2F;ä¿®æ”¹å“åº”å¤´é”®å€¼å¯¹</td>
</tr>
<tr>
<td>void setContentType(String contentType);</td>
<td>è®¾ç½®content-typeå“åº”å¤´åŠå“åº”å­—ç¬¦é›†(è®¾ç½®MIMEç±»å‹)</td>
</tr>
</tbody></table>
<ul>
<li>è®¾ç½®å“åº”ä½“ç›¸å…³</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>PrintWriter getWriter() throws IOException;</td>
<td>è·å¾—å‘å“åº”ä½“æ”¾å…¥ä¿¡æ¯çš„å­—ç¬¦è¾“å‡ºæµ</td>
</tr>
<tr>
<td>ServletOutputStream getOutputStream() throws IOException;</td>
<td>è·å¾—å‘å“åº”ä½“æ”¾å…¥ä¿¡æ¯çš„å­—èŠ‚è¾“å‡ºæµ</td>
</tr>
<tr>
<td>void setContentLength(int length);</td>
<td>è®¾ç½®å“åº”ä½“çš„å­—èŠ‚é•¿åº¦,å…¶å®å°±æ˜¯åœ¨è®¾ç½®content-lengthå“åº”å¤´</td>
</tr>
</tbody></table>
<ul>
<li>å…¶ä»–API</li>
</ul>
<table>
<thead>
<tr>
<th>API</th>
<th>åŠŸèƒ½è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>void sendError(int code, String message) throws IOException;</td>
<td>å‘å®¢æˆ·ç«¯å“åº”é”™è¯¯ä¿¡æ¯çš„æ–¹æ³•,éœ€è¦æŒ‡å®šå“åº”ç å’Œå“åº”ä¿¡æ¯</td>
</tr>
<tr>
<td>void addCookie(Cookie cookie);</td>
<td>å‘å“åº”ä½“ä¸­å¢åŠ cookie</td>
</tr>
<tr>
<td>void setCharacterEncoding(String encoding);</td>
<td>è®¾ç½®å“åº”ä½“å­—ç¬¦é›†</td>
</tr>
</tbody></table>
<blockquote>
<p>MIMEç±»å‹</p>
</blockquote>
<ul>
<li>MIMEç±»å‹,å¯ä»¥ç†è§£ä¸ºæ–‡æ¡£ç±»å‹,ç”¨æˆ·è¡¨ç¤ºä¼ é€’çš„æ•°æ®æ˜¯å±äºä»€ä¹ˆç±»å‹çš„æ–‡æ¡£</li>
<li>æµè§ˆå™¨å¯ä»¥æ ¹æ®MIMEç±»å‹å†³å®šè¯¥ç”¨ä»€ä¹ˆæ ·çš„æ–¹å¼è§£ææ¥æ”¶åˆ°çš„å“åº”ä½“æ•°æ®</li>
<li>å¯ä»¥è¿™æ ·ç†è§£: å‰åç«¯äº¤äº’æ•°æ®æ—¶,å‘Šè¯‰å¯¹æ–¹å‘ç»™å¯¹æ–¹çš„æ˜¯ html&#x2F;css&#x2F;js&#x2F;å›¾ç‰‡&#x2F;å£°éŸ³&#x2F;è§†é¢‘&#x2F;â€¦ â€¦</li>
<li>tomcat&#x2F;conf&#x2F;web.xmlä¸­é…ç½®äº†å¸¸è§æ–‡ä»¶çš„æ‹“å±•åå’ŒMIMIEç±»å‹çš„å¯¹åº”å…³ç³»</li>
<li>å¸¸è§çš„MIMEç±»å‹ä¸¾ä¾‹å¦‚ä¸‹</li>
</ul>
<table>
<thead>
<tr>
<th>æ–‡ä»¶æ‹“å±•å</th>
<th>MIMEç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>.html</td>
<td>text&#x2F;html</td>
</tr>
<tr>
<td>.css</td>
<td>text&#x2F;css</td>
</tr>
<tr>
<td>.js</td>
<td>application&#x2F;javascript</td>
</tr>
<tr>
<td>.png &#x2F;.jpeg&#x2F;.jpg&#x2F;â€¦ â€¦</td>
<td>image&#x2F;jpeg</td>
</tr>
<tr>
<td>.mp3&#x2F;.mpe&#x2F;.mpeg&#x2F; â€¦ â€¦</td>
<td>audio&#x2F;mpeg</td>
</tr>
<tr>
<td>.mp4</td>
<td>video&#x2F;mp4</td>
</tr>
<tr>
<td>.m1v&#x2F;.m1v&#x2F;.m2v&#x2F;.mpe&#x2F;â€¦ â€¦</td>
<td>video&#x2F;mpeg</td>
</tr>
</tbody></table>
<h3 id="8-3-æµ‹è¯•"><a href="#8-3-æµ‹è¯•" class="headerlink" title="8.3 æµ‹è¯•"></a>8.3 æµ‹è¯•</h3><p>Servlet6å“åº”æ•°æ®å¦‚ä¸‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904221246005.png" alt="image-20240904221246005">	</p>
<blockquote>
<p>HTTP&#x2F;1.1 200<br>Content-Type: text&#x2F;html;charset&#x3D;UTF-8<br>Content-Length: 14<br>Date: Wed, 04 Sep 2024 14:07:02 GMT<br>Keep-Alive: timeout&#x3D;20<br>Connection: keep-alive</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servlet6&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet6</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">info</span> <span class="operator">=</span> <span class="string">&quot;&lt;h1&gt;hello&lt;/h1&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”è¡Œç›¸å…³API HTTP/1.1 200/404/405/500</span></span><br><span class="line">        resp.setStatus(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å¤´ç›¸å…³API</span></span><br><span class="line"><span class="comment">//        resp.setHeader(&quot;aaa&quot;, &quot;valueA&quot;);</span></span><br><span class="line"><span class="comment">//        resp.setHeader(&quot;Content-Type&quot;, &quot;text/html&quot;);</span></span><br><span class="line">        resp.setHeader(<span class="string">&quot;Content-Length&quot;</span>, <span class="string">&quot;1234&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        resp.setContentLength(info.getBytes().length); <span class="comment">// å¯ä»¥é€šè¿‡å˜é‡æ¥è®¡ç®—å¾—å‡º</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”ä½“å†…å®¹API</span></span><br><span class="line">        <span class="comment">// è·å¾—å‘å“åº”ä½“è¾“å…¥æ–‡æœ¬å­—ç¬¦è¾“å‡ºæµ</span></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        <span class="comment">// printå¯ä»¥æ‰“å°object writeæ²¡æœ‰</span></span><br><span class="line">        writer.write(info);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—å‘å“åº”ä½“è¾“å…¥äºŒè¿›åˆ¶ä¿¡æ¯çš„å­—èŠ‚è¾“å‡ºæµ</span></span><br><span class="line">        <span class="comment">// ServletOutputStream outputStream = resp.getOutputStream();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="9-è¯·æ±‚è½¬å‘å’Œå“åº”é‡å®šå‘"><a href="#9-è¯·æ±‚è½¬å‘å’Œå“åº”é‡å®šå‘" class="headerlink" title="9. è¯·æ±‚è½¬å‘å’Œå“åº”é‡å®šå‘"></a>9. è¯·æ±‚è½¬å‘å’Œå“åº”é‡å®šå‘</h2><h3 id="9-1-æ¦‚å¿µ"><a href="#9-1-æ¦‚å¿µ" class="headerlink" title="9.1 æ¦‚å¿µ"></a>9.1 æ¦‚å¿µ</h3><p>ä»€ä¹ˆæ˜¯<code>è¯·æ±‚è½¬å‘</code>å’Œ<code>å“åº”é‡å®šå‘</code>ï¼Ÿ</p>
<ul>
<li>è¯·æ±‚è½¬å‘æ˜¯é€šè¿‡<code>HttpServletRequest</code>å®ç°</li>
<li>å“åº”é‡å®šå‘æ˜¯é€šè¿‡<code>HttpServletResponse</code>å®ç°</li>
<li>ç›®çš„éƒ½æ˜¯ä¸ºäº†<strong>é—´æ¥è®¿é—®webèµ„æºå’Œæ§åˆ¶é¡µé¢è·³è½¬</strong>ï¼ˆä¸Šè¯¾ç»™å‡ºäº†å¼ ä¸‰å€Ÿé’±çš„ä¾‹å­ï¼Œæˆ‘çš„ç†è§£ï¼šè¯·æ±‚è½¬å‘å°±æ˜¯ä»£ç†è½¬å‘ï¼Œå“åº”é‡å®šå‘æ˜¯ç±»ä¼¼äºDNSçš„è¿­ä»£æŸ¥è¯¢çš„è¿‡ç¨‹ï¼‰</li>
</ul>
<p>åé¢æµ‹è¯•ç”¨çš„ä»£ç æ¡†æ¶å¦‚ä¸‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904222623608.png" alt="image-20240904222623608">	</p>
<h3 id="9-2-è¯·æ±‚è½¬å‘"><a href="#9-2-è¯·æ±‚è½¬å‘" class="headerlink" title="9.2 è¯·æ±‚è½¬å‘"></a>9.2 è¯·æ±‚è½¬å‘</h3><p><code>è¯·æ±‚è½¬å‘</code>å›¾è§£</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904221755166.png" alt="image-20240904221755166">	</p>
<p>è¯·æ±‚è½¬å‘ç‰¹ç‚¹ï¼ˆèƒŒè¯µï¼‰</p>
<ul>
<li>è¯·æ±‚è½¬å‘æ˜¯é€šè¿‡HttpServletRequestå¯¹è±¡çš„<code>requestDispatcher</code>å®ç°çš„</li>
<li>è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨å†…éƒ¨çš„è¡Œä¸ºï¼Œå¯¹å®¢æˆ·ç«¯æ˜¯å±è”½çš„</li>
<li>å®¢æˆ·ç«¯åªå‘é€äº†ä¸€æ¬¡è¯·æ±‚ï¼Œå®¢æˆ·ç«¯çš„åœ°å€æ ä¿æŒä¸å˜</li>
<li>æœåŠ¡ç«¯åªäº§ç”Ÿä¸€å †è¯·æ±‚å’Œå“åº”çš„å¯¹è±¡ï¼Œè¯·æ±‚è½¬å‘æ—¶ä¼šå°†è¯·æ±‚å’Œå“åº”å¯¹è±¡ä¼ é€’ç»™ä¸‹ä¸€ä¸ªèµ„æº</li>
<li>è¯·æ±‚è½¬å‘å¯ä»¥è½¬å‘ServletåŠ¨æ€èµ„æºï¼Œä¹Ÿå¯ä»¥æ˜¯é™æ€èµ„æºå®ç°é¡µé¢è·³è½¬</li>
<li>ç›®æ ‡èµ„æºå¯ä»¥æ˜¯WEB-INFä¸‹å—ä¿æŠ¤èµ„æºï¼Œè¯¥æ–¹å¼æ˜¯è®¿é—®WEB-INFä¸‹ç›®å½•çš„ã€å”¯ä¸€ã€‘æ–¹å¼</li>
<li>ä½†ä¸å¯ä»¥è®¿é—®æœ¬é¡¹ç›®ä»¥å¤–çš„å¤–éƒ¨èµ„æº</li>
</ul>
<p>æµ‹è¯•</p>
<p>å®¢æˆ·ç«¯ServletA</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.RequestDispatcher;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servletA&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        è¯·æ±‚è½¬å‘ ç‰¹ç‚¹ï¼šè¦èƒŒå‡ºæ¥</span></span><br><span class="line"><span class="comment">        1. è¯·æ±‚è½¬å‘æ˜¯é€šè¿‡HttpServletRequestå¯¹è±¡å®ç°çš„</span></span><br><span class="line"><span class="comment">        2. è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨å†…éƒ¨è¡Œä¸ºï¼Œå¯¹å®¢æˆ·ç«¯æ˜¯å±è”½çš„</span></span><br><span class="line"><span class="comment">        3. å®¢æˆ·ç«¯åªäº§ç”Ÿä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡ç«¯åªäº§ç”Ÿä¸€å¯¹requestå’Œresponseå¯¹è±¡</span></span><br><span class="line"><span class="comment">        4. å®¢æˆ·ç«¯çš„åœ°å€æ æ˜¯ä¸å˜çš„</span></span><br><span class="line"><span class="comment">        5. è¯·æ±‚çš„å‚æ•°æ˜¯å¯ä»¥ç»§ç»­ä¼ é€’çš„ï¼ˆå› ä¸ºè½¬å‘å™¨ä¼ é€’äº†reqå’Œrespï¼‰</span></span><br><span class="line"><span class="comment">        6. ç›®æ ‡èµ„æºé™¤äº†æ˜¯ServletåŠ¨æ€èµ„æºï¼Œä¹Ÿå¯ä»¥æ˜¯htmlç­‰é™æ€èµ„æº</span></span><br><span class="line"><span class="comment">        7. ç›®æ ‡èµ„æºå¯ä»¥æ˜¯WEB-INFä¸‹çš„å—ä¿æŠ¤èµ„æºï¼Œè¯¥æ–¹å¼æ˜¯è®¿é—®WEB-INFèµ„æºçš„ã€å”¯ä¸€ã€‘æ–¹å¼</span></span><br><span class="line"><span class="comment">        8. è¯·æ±‚è½¬å‘ä¸å¯ä»¥è®¿é—®å¤–éƒ¨èµ„æº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletA run...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">money</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;money&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletA money: &quot;</span> + money);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¯·æ±‚è½¬å‘ç»™ServletB</span></span><br><span class="line">        <span class="comment">// æ ¹æ®ç›®æ ‡èµ„æºè·¯å¾„ å®šä¹‰è¯·æ±‚è½¬å‘å™¨</span></span><br><span class="line"><span class="comment">//        RequestDispatcher requestDispatcher = req.getRequestDispatcher(&quot;servletB&quot;);</span></span><br><span class="line"><span class="comment">//        RequestDispatcher requestDispatcher = req.getRequestDispatcher(&quot;a.html&quot;);</span></span><br><span class="line"><span class="comment">//        requestDispatcher requestDispatcher = req.getRequestDispatcher(&quot;http://www.atguigu.com&quot;); // ä¸å¯ä»¥è®¿é—®å¤–éƒ¨èµ„æº</span></span><br><span class="line">        <span class="type">RequestDispatcher</span> <span class="variable">requestDispatcher</span> <span class="operator">=</span> req.getRequestDispatcher(<span class="string">&quot;WEB-INF/b.html&quot;</span>); <span class="comment">// å—ä¿æŠ¤èµ„æºæ˜¯å¯ä»¥é€šè¿‡è¯·æ±‚è½¬å‘è·å–çš„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®©è¯·æ±‚è½¬å‘å™¨åšå‡ºè½¬å‘åŠ¨ä½œ</span></span><br><span class="line">        requestDispatcher.forward(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>æœåŠ¡ç«¯ServletB</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servletB&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletB run...&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">money</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;money&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletB money: &quot;</span> + money);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>æµ‹è¯•ç»“æœ</strong></p>
<p>è¯·æ±‚URLï¼š<a target="_blank" rel="noopener" href="http://localhost:8080/demo04_forward_redirect1_war_exploded/servletA?money=100">http://localhost:8080/demo04_forward_redirect1_war_exploded/servletA?money=100</a></p>
<p>å“åº”ï¼šWEB-INFç›®å½•ä¸‹çš„b.htmlæ­£å¸¸æ˜¾ç¤ºï¼Œä½†åœ°å€æ æ²¡æœ‰å˜åŒ–</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904222505113.png" alt="image-20240904222505113">	</p>
<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<blockquote>
<p>ServletA runâ€¦<br>ServletA money: 100</p>
</blockquote>
<h3 id="9-3-å“åº”é‡å®šå‘"><a href="#9-3-å“åº”é‡å®šå‘" class="headerlink" title="9.3 å“åº”é‡å®šå‘"></a>9.3 å“åº”é‡å®šå‘</h3><p><code>å“åº”é‡å®šå‘</code>å›¾è§£</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240904222934797.png" alt="image-20240904222934797"></p>
<p>å“åº”é‡å®šå‘ç‰¹ç‚¹ï¼ˆèƒŒè¯µï¼‰</p>
<ul>
<li>é‡å®šå‘æ˜¯é€šè¿‡HttpServletResponseå¯¹è±¡çš„<code>sendRedirect</code>æ–¹æ³•å®ç°çš„ï¼ˆçŠ¶æ€ç statusä¸º302 + é‡å®šå‘é“¾æ¥locationï¼‰</li>
<li>å“åº”é‡å®šå‘æ˜¯ç»™æœåŠ¡ç«¯æç¤º302å’Œè·¯å¾„åï¼Œç”±ç”¨æˆ·ç«¯é‡æ–°å‘èµ·è¯·æ±‚çš„è¡Œä¸º</li>
<li>å®¢æˆ·ç«¯è‡³å°‘å‘é€äº†ä¸¤æ¬¡è¯·æ±‚ï¼Œå®¢æˆ·ç«¯çš„åœ°å€æ å‘ç”Ÿå˜åŒ–</li>
<li>æœåŠ¡ç«¯äº§ç”Ÿå¤šæ¬¡è¯·æ±‚å’Œå“åº”å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ä¸ä¼šä¼ é€’ç»™ä¸‹ä¸€ä¸ªèµ„æº</li>
<li>é‡å®šå‘å¯ä»¥æ˜¯ServletåŠ¨æ€èµ„æºï¼Œä¹Ÿå¯ä»¥æ˜¯é™æ€èµ„æºå®ç°é¡µé¢è·³è½¬</li>
<li>é‡å®šå‘ä¸å¯ä»¥è®¿é—®WEB-INFç›®å½•ä¸‹å—ä¿æŠ¤èµ„æº</li>
<li>ä½†å¯ä»¥è®¿é—®æœ¬é¡¹ç›®ä»¥å¤–çš„å¤–éƒ¨èµ„æº</li>
</ul>
<p>åœ¨ä¸€èˆ¬çš„é¡µé¢è·³è½¬åœºæ™¯ä¸­ï¼ˆé™¤äº†å‚æ•°ä¼ é€’å’Œè®¿é—®WEB-INFçš„åœºæ™¯ï¼‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯è€ƒè™‘å“åº”é‡å®šå‘çš„æ–¹å¼</p>
<p><strong>å®¢æˆ·ç«¯ServletC</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servletC&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletC</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        å“åº”é‡å®šå‘ç»“è®ºï¼ˆèƒŒè¯µï¼‰</span></span><br><span class="line"><span class="comment">        1. é‡å®šå‘æ˜¯é€šè¿‡HttpServletResponseå¯¹è±¡å®ç°</span></span><br><span class="line"><span class="comment">        2. å“åº”é‡å®šå‘æ˜¯æœåŠ¡ç«¯æç¤ºä¸‹ï¼Œå®¢æˆ·ç«¯çš„è¡Œä¸º</span></span><br><span class="line"><span class="comment">        3. å®¢æˆ·ç«¯çš„åœ°å€æ æ˜¯å˜åŒ–çš„</span></span><br><span class="line"><span class="comment">        4. å®¢æˆ·ç«¯è‡³å°‘å‘é€ä¸¤æ¬¡è¯·æ±‚ï¼Œå³äº§ç”Ÿäº†å¤šæ¬¡è¯·æ±‚</span></span><br><span class="line"><span class="comment">        5. è¯·æ±‚äº§ç”Ÿäº†å¤šæ¬¡ï¼Œåç«¯å°±ä¼šæœ‰å¤šä¸ªrequestå¯¹è±¡ï¼Œæ­¤æ—¶è¯·æ±‚ä¸­çš„å‚æ•°ä¸ä¼šç»§ç»­ä¼ é€’</span></span><br><span class="line"><span class="comment">        6. ç›®æ ‡èµ„æºå¯ä»¥æ˜¯è§†å›¾é™æ€èµ„æº</span></span><br><span class="line"><span class="comment">        7. æ— æ³•è®¿é—®WEB-INFç›®å½•ä¸‹çš„å—ä¿æŠ¤èµ„æº</span></span><br><span class="line"><span class="comment">        8. ä½†å¯ä»¥è®¿é—®å¤–éƒ¨èµ„æº</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        é‡ç‚¹ï¼šé™¤äº†å‚æ•°ä¼ é€’ã€è®¿é—®å¤–éƒ¨èµ„æºå’ŒWEB-INFçš„åœºæ™¯ä¸‹ä¸èƒ½ç”¨é‡å®šå‘ï¼Œæ§åˆ¶ä¸€èˆ¬çš„ã€é¡µé¢è·³è½¬ã€‘ ä¼˜å…ˆä½¿ç”¨é‡å®šå‘</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// æ¥æ”¶ç”¨æˆ·è¯·æ±‚</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ServletCå—·å—· run ...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ServletC get money: &quot;</span> + req.getParameter(<span class="string">&quot;money&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å“åº”é‡å®šå‘</span></span><br><span class="line"><span class="comment">//        resp.setStatus(302);</span></span><br><span class="line"><span class="comment">//        resp.setHeader(&quot;location&quot;, &quot;servletD&quot;);</span></span><br><span class="line"><span class="comment">//        resp.sendRedirect(&quot;servletD&quot;); // 1. è®¾ç½®å“åº”çŠ¶æ€ç 302ï¼›2. åŒæ—¶è®¾ç½®locationå“åº”å¤´</span></span><br><span class="line"><span class="comment">//        resp.sendRedirect(&quot;a.html&quot;);</span></span><br><span class="line"><span class="comment">//        resp.sendRedirect(&quot;WEB-INF/b.html&quot;); // ä¸å¯ä»¥è®¿é—®WEB-INFå—ä¿æŠ¤èµ„æºï¼ˆç›¸å½“äºè®©æµè§ˆå™¨è®¿é—®WEB-INFèµ„æºï¼‰</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;http://www.atguigu.com&quot;</span>); <span class="comment">// ä½†å¯ä»¥è®¿é—®å¤–éƒ¨èµ„æº</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><strong>æœåŠ¡ç«¯ServletD</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servletD&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletD</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletD run...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ServletD get money: &quot;</span> + req.getParameter(<span class="string">&quot;money&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>æµ‹è¯•ç»“æœ</p>
<p>è¯·æ±‚URLï¼š<a target="_blank" rel="noopener" href="http://localhost:8080/demo04_forward_redirect1_war_exploded/servletC?money=100">http://localhost:8080/demo04_forward_redirect1_war_exploded/servletC?money=100</a></p>
<p>å“åº”æŠ¥æ–‡ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">HTTP/1.1 302</span><br><span class="line">Location: http://www.atguigu.com</span><br><span class="line">Content-Length: 0</span><br><span class="line">Date: Wed, 04 Sep 2024 14:27:25 GMT</span><br><span class="line">Keep-Alive: timeout=20</span><br><span class="line">Connection: keep-alive</span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶å°æ—¥å¿—</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ServletCå—·å—· run ...</span><br><span class="line">ServletC get money: 100</span><br></pre></td></tr></table></figure>



<p>æœ€ç»ˆæ˜¾ç¤ºçš„æ˜¯<a target="_blank" rel="noopener" href="http://www.atguigu.comçš„ç•Œé¢/">www.atguigu.comçš„ç•Œé¢</a></p>
<h2 id="10-ä¹±ç å’Œè·¯å¾„é—®é¢˜æ€»ç»“"><a href="#10-ä¹±ç å’Œè·¯å¾„é—®é¢˜æ€»ç»“" class="headerlink" title="10. ä¹±ç å’Œè·¯å¾„é—®é¢˜æ€»ç»“"></a>10. ä¹±ç å’Œè·¯å¾„é—®é¢˜æ€»ç»“</h2><h3 id="10-1-ä¹±ç é—®é¢˜"><a href="#10-1-ä¹±ç é—®é¢˜" class="headerlink" title="10.1 ä¹±ç é—®é¢˜"></a>10.1 ä¹±ç é—®é¢˜</h3><p>ä¹±ç é—®é¢˜æœ¬è´¨ä¸Šæ˜¯<code>å­—ç¬¦é›†</code>é—®é¢˜ï¼Œæœ‰ä¸¤ç§æƒ…å†µ</p>
<ul>
<li>ç¼–ç å’Œè§£ç ä¸æ˜¯åŒä¸€ä¸ªå­—ç¬¦é›†</li>
<li>ä½¿ç”¨äº†ä¸æ”¯æŒçš„å­—ç¬¦é›†</li>
</ul>
<p>å­—ç¬¦é›†çš„å…¼å®¹æ€§å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°<code>ASCII</code>ä½œä¸ºæœ€åŸºç¡€çš„ç¼–ç ï¼Œåˆ°å“ªé‡Œéƒ½ä¸ä¼šä¹±ç </p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240905215520907.png" alt="image-20240905215520907">	</p>
<blockquote>
<p>ç¬¬ä¸€ç§æƒ…å†µï¼šHTML<strong>å‰ç«¯</strong>ï¼š</p>
</blockquote>
<p>è§†å›¾æ–‡ä»¶ä¼šåœ¨å¤´æ ‡ç­¾å£°æ˜æµè§ˆå™¨ç”¨ä»€ä¹ˆå­—ç¬¦é›†æ¥è§£æå½“å‰æ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ideaä¸­ç¼–ç ä¸­ï¼Œ<code>Global Encoding</code> å…¨å±€å­—ç¬¦é›†,<code>Project Encoding</code> é¡¹ç›®å­—ç¬¦é›†, <code>Properties Files</code> å±æ€§é…ç½®æ–‡ä»¶å­—ç¬¦é›†ï¼Œå…¶ä¸­å…¨å±€è¦å’ŒHTMLä¸€è‡´</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240906193021241.png" alt="image-20240906193021241">	</p>
<blockquote>
<p><strong>ç¬¬äºŒç§ï¼šTomcatä¹±ç </strong></p>
</blockquote>
<p><code>tomcat/conf/logging.properties</code>ä¸­,æ‰€æœ‰çš„UTF-8ä¸ºGBKå³å¯</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240906193141751.png" alt="image-20240906193141751" style="zoom:67%;" />	



<p>åœ¨soutæ§åˆ¶å°æ‰“å°æ—¶ï¼Œå¦‚æœå‡ºç°ä¹±ç ï¼Œæ˜¯å› ä¸ºJVMè™šæ‹Ÿæœºåœ¨ç±»åŠ è½½æ—¶çš„ç¼–ç å’Œç¼–è¯‘æ—¶çš„ç¼–ç ä¸ä¸€è‡´ï¼ˆå¦‚æœåœ¨æ²¡æœ‰ä¹±ç çš„é—®é¢˜ä¸‹ï¼Œä¸è¦éšä¾¿ä¿®æ”¹ï¼ŒçŸ¥é“æœ‰è¿™å›äº‹å³å¯ï¼‰</p>
<ul>
<li>æˆ‘ä»¬ä¿®æ”¹<code>JVMåŠ è½½classæ–‡ä»¶çš„å­—ç¬¦é›†</code>å’Œç¼–è¯‘æ—¶çš„å­—ç¬¦é›†å’Œä¸€è‡´å³å¯</li>
</ul>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240906193255178.png" alt="image-20240906193255178" style="zoom:80%;" />		



<blockquote>
<p><strong>ç¬¬ä¸‰ç§æƒ…å†µï¼šè¯·æ±‚ä¹±ç é—®é¢˜</strong></p>
</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240906193737958.png" alt="image-20240906193737958">	</p>
<p>å¯¹äº<code>GETè¯·æ±‚</code>ï¼šè¯·æ±‚æ—¶å°†å‚æ•°æ”¾å…¥URLä¸­ï¼ŒTomcatè§£ææ—¶è¦ä¸URLç¼–ç æ—¶ä¸€è‡´ï¼Œå› æ­¤ä¸¤ç§è§£å†³æ€è·¯</p>
<ul>
<li><code>URLç¼–ç </code>æŒ‡å®šï¼šç”±HTMLæ–‡ä»¶çš„å¤´æ ‡ç­¾metaçš„charsetå±æ€§ å®šä¹‰ï¼ˆæ¨èï¼‰</li>
<li><code>Tomcatè§£æ</code>ï¼šconf&#x2F;server.xmlä¸­ Connecteræ ‡ç­¾ æ·»åŠ  URIEncoding&#x3D;â€UTF-8â€  ï¼ˆä¸æ¨èï¼‰</li>
</ul>
<p>å¯¹äºPOSTè¯·æ±‚ï¼šè¯·æ±‚æ—¶å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­ï¼ŒTomcatè§£ææ—¶è¦ä¸è¯·æ±‚ä½“çš„ç¼–ç ä¸€è‡´ï¼Œå› æ­¤ç”±ä¸¤ç§è§£å†³æ€è·¯</p>
<ul>
<li><code>è¯·æ±‚ä½“ç¼–ç </code>æŒ‡å®šï¼šç”±HTMLæ–‡ä»¶çš„å¤´æ ‡ç­¾metaçš„charsetå±æ€§ å®šä¹‰ï¼ˆæ¨èï¼‰</li>
<li>Tomcatè§£æï¼š<code>req.setCharacter(&quot;UTF-8&quot;)</code>æ–¹æ³•æ¥åŒ¹é…è¯·æ±‚ä½“ç¼–ç ï¼ˆä¸æ¨èï¼‰</li>
</ul>
<blockquote>
<p><strong>ç¬¬å››ç§æƒ…å†µï¼šå“åº”ä¹±ç é—®é¢˜</strong></p>
</blockquote>
<p>å“åº”æ—¶ï¼Œæµè§ˆå™¨è§£æçš„ç¼–ç å’Œrespçš„ç¼–ç ä¸ä¸€è‡´ï¼Œå› æ­¤æœ‰ä¸¤ç§è§£å†³æ€è·¯</p>
<ul>
<li>æµè§ˆå™¨å¯¹è¯·æ±‚ä½¿ç”¨æŒ‡å®šå­—ç¬¦é›†ï¼ˆä¸æ¨èï¼‰</li>
<li>Tomcatè§£æï¼š<code>req.setCharacter(&quot;UTF-8&quot;)</code>æ–¹æ³•æ¥åŒ¹é…è¯·æ±‚ä½“ç¼–ç ï¼ˆä¸æ¨èï¼‰</li>
</ul>
<p>æ¨èçš„åšæ³•æ˜¯ä¸¤è€…ç»“åˆï¼š</p>
<ul>
<li>æœåŠ¡å™¨é€šè¿‡å“åº”å¯¹è±¡çš„<code>setCharacter</code>æ–¹æ³•å®šä¹‰å¥½è¯·æ±‚ä½“ç¼–ç ï¼ˆTomcat10ä»¥ä¸Šä¸ç”¨ é»˜è®¤UTF-8ï¼Œä½†å»ºè®®å…»æˆä¹ æƒ¯ï¼‰</li>
<li>ä½¿ç”¨è¯·æ±‚å¤´<code>Content-type</code>åé¢è·Ÿä¸Šå‘ŠçŸ¥æœåŠ¡å™¨è¦è§£æçš„å“åº”ä½“</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240906194301197.png" alt="image-20240906194301197">	</p>
<h3 id="10-2-è·¯å¾„é—®é¢˜"><a href="#10-2-è·¯å¾„é—®é¢˜" class="headerlink" title="10.2 è·¯å¾„é—®é¢˜"></a>10.2 è·¯å¾„é—®é¢˜</h3><p>é¦–å…ˆè¯´æ˜ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„</p>
<ul>
<li>ç›¸å¯¹è·¯å¾„<ul>
<li>ç›¸å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: <code>ä»¥å½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„ä¸ºå‡ºå‘ç‚¹</code>å»å¯»æ‰¾ç›®æ ‡èµ„æº</li>
<li>ç›¸å¯¹è·¯å¾„ä¸ä»¥ &#x2F; å¼€å¤´</li>
<li>åœ¨fileåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯ç£ç›˜è·¯å¾„ï¼Œåœ¨httpåè®®ä¸‹,ä½¿ç”¨çš„æ˜¯urlè·¯å¾„</li>
<li>ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨<code> ./</code>è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„,å¯ä»¥çœç•¥ä¸å†™</li>
<li>ç›¸å¯¹è·¯å¾„ä¸­å¯ä»¥ä½¿ç”¨<code>../</code>è¡¨ç¤ºå½“å‰èµ„æºæ‰€åœ¨è·¯å¾„çš„ä¸Šä¸€å±‚è·¯å¾„,éœ€è¦æ—¶è¦æ‰‹åŠ¨æ·»åŠ </li>
</ul>
</li>
<li>ç»å¯¹è·¯å¾„<ul>
<li>ç»å¯¹è·¯å¾„çš„è§„åˆ™æ˜¯: ä½¿ç”¨<code>ä»¥ä¸€ä¸ªå›ºå®šçš„è·¯å¾„åšå‡ºå‡ºå‘ç‚¹</code>å»å¯»æ‰¾ç›®æ ‡èµ„æº,å’Œå½“å‰èµ„æºæ‰€åœ¨çš„è·¯å¾„æ²¡æœ‰å…³ç³»</li>
<li>ç»å¯¹è·¯å¾„è¦ä»¥&#x2F; å¼€å¤´</li>
<li>ç»å¯¹è·¯å¾„çš„å†™æ³•ä¸­,ä¸ä»¥å½“å‰èµ„æºçš„æ‰€åœ¨è·¯å¾„ä¸ºå‡ºå‘ç‚¹,æ‰€ä»¥<code>ä¸ä¼šå‡ºç°  ./ å’Œ../</code></li>
<li>ä¸åŒçš„é¡¹ç›®å’Œä¸åŒçš„åè®®ä¸‹,ç»å¯¹è·¯å¾„çš„åŸºç¡€ä½ç½®å¯èƒ½ä¸åŒ,è¦é€šè¿‡æµ‹è¯•ç¡®å®š</li>
<li>ç»å¯¹è·¯å¾„çš„å¥½å¤„å°±æ˜¯:æ— è®ºå½“å‰èµ„æºä½ç½®åœ¨å“ª,å¯»æ‰¾ç›®æ ‡èµ„æºè·¯å¾„çš„å†™æ³•éƒ½ä¸€è‡´</li>
</ul>
</li>
<li>åº”ç”¨åœºæ™¯<ol>
<li>å‰ç«¯ä»£ç ä¸­,href src action ç­‰å±æ€§</li>
<li>è¯·æ±‚è½¬å‘å’Œé‡å®šå‘ä¸­çš„è·¯å¾„</li>
</ol>
</li>
</ul>
<h4 id="10-2-1-å‰ç«¯è·¯å¾„é—®é¢˜"><a href="#10-2-1-å‰ç«¯è·¯å¾„é—®é¢˜" class="headerlink" title="10.2.1 å‰ç«¯è·¯å¾„é—®é¢˜"></a>10.2.1 å‰ç«¯è·¯å¾„é—®é¢˜</h4><p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240906194611477.png" alt="image-20240906194611477">	</p>
<blockquote>
<p>ç›¸å¯¹è·¯å¾„1ï¼š<code>web/index.html</code>ä¸­å¼•å…¥<code>web/static/img/logo.png</code>ï¼ˆæ­£å¸¸è®¿é—®ï¼‰</p>
</blockquote>
<ul>
<li>ç›¸å¯¹è·¯å¾„è¡¨ç¤ºä»<a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/%E5%BC%80%E5%A7%8B%E6%8B%BC%E6%8E%A5%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%90%8E%E9%9D%A2%E7%9B%B4%E6%8E%A5%E8%B7%9F%E4%B8%8Astatic%E5%90%8E%E9%9D%A2%E7%9A%84%E9%83%A8%E5%88%86%E5%8D%B3%E5%8F%AF">http://localhost:8080/web03_war_exploded/å¼€å§‹æ‹¼æ¥ï¼Œå› æ­¤åé¢ç›´æ¥è·Ÿä¸Šstaticåé¢çš„éƒ¨åˆ†å³å¯</a></li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;static/img/logo.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>ç›¸å¯¹è·¯å¾„2ï¼š<code>web/a/b/c/test.html</code>ä¸­å¼•å…¥<code>web/static/img/logo.png</code>ï¼ˆå¤šçº§ç›®å½•è®¿é—®ï¼‰</p>
</blockquote>
<ul>
<li>ä»<a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/a/b/c/test.html%E5%BC%80%E5%A7%8B%E6%8B%BC%E6%8E%A5%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%90%8E%E9%9D%A2%E9%9C%80%E8%A6%81%E4%B8%89%E4%B8%AA%60../%60%E6%8A%B5%E6%B6%88%E5%89%8D%E9%9D%A2%E4%B8%89%E4%B8%AA%E7%9B%AE%E5%BD%95%EF%BC%8C%E5%86%8D%E8%B7%9F%E4%B8%8Astatic%E5%90%8E%E9%9D%A2%E7%9A%84%E9%83%A8%E5%88%86">http://localhost:8080/web03_war_exploded/a/b/c/test.htmlå¼€å§‹æ‹¼æ¥ï¼Œå› æ­¤åé¢éœ€è¦ä¸‰ä¸ª`../`æŠµæ¶ˆå‰é¢ä¸‰ä¸ªç›®å½•ï¼Œå†è·Ÿä¸Šstaticåé¢çš„éƒ¨åˆ†</a></li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ../ä»£è¡¨ä¸Šä¸€å±‚è·¯å¾„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../../../static/img/logo.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>ç›¸å¯¹è·¯å¾„3ï¼š<code>web/WEB-INF/views/view1.html</code>ä¸­å¼•å…¥<code>web/static/img/logo.png</code>ï¼ˆå—ä¿æŠ¤èµ„æºè®¿é—®ï¼‰</p>
</blockquote>
<ul>
<li>å—ä¿æŠ¤ç›®å½•ä¸‹èµ„æºï¼Œåªèƒ½é€šè¿‡Servlet<code>è¯·æ±‚è½¬å‘</code>è·å¾—ï¼Œæ­¤æ—¶æ‰¾çš„æ˜¯ç£ç›˜ç›®å½•ï¼Œä»webç›®å½•å¼€å§‹æ‹¼æ¥</li>
<li>å¯¹äºview1çš„ä»£ç ï¼Œä»<a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/view1Servlet%E5%BC%80%E5%A7%8B%E6%8B%BC%E6%8E%A5%EF%BC%8C%E5%9B%A0%E6%AD%A4%E8%B7%9F%E4%B8%8Astatic%E5%90%8E%E9%9D%A2%E7%9A%84%E9%83%A8%E5%88%86">http://localhost:8080/web03_war_exploded/view1Servletå¼€å§‹æ‹¼æ¥ï¼Œå› æ­¤è·Ÿä¸Šstaticåé¢çš„éƒ¨åˆ†</a></li>
</ul>
<p>View1Servelt.javaä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/view1Servlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">View1Servlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">RequestDispatcher</span> <span class="variable">requestDispatcher</span> <span class="operator">=</span> req.getRequestDispatcher(<span class="string">&quot;WEB-INF/views/view1.html&quot;</span>);</span><br><span class="line">        requestDispatcher.forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>view1.htmlä»£ç </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;static/img/logo.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>ç»å¯¹è·¯å¾„1ï¼š<code>web/index.html</code>ä¸­å¼•å…¥<code>web/static/img/logo.png</code>ï¼ˆæ­£å¸¸è®¿é—®ï¼‰</p>
</blockquote>
<ul>
<li>æ ¹ç›®å½•ä»<a target="_blank" rel="noopener" href="http://localhost:8080/%E5%BC%80%E5%A7%8B%E6%8B%BC%E6%8E%A5%EF%BC%8C%E9%9C%80%E8%A6%81%E5%8A%A0%E4%B8%8A%E8%B5%84%E6%BA%90%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E8%B7%AF%E5%BE%84%60web03_war_exploded%60">http://localhost:8080/å¼€å§‹æ‹¼æ¥ï¼Œéœ€è¦åŠ ä¸Šèµ„æºä¸Šä¸‹æ–‡çš„è·¯å¾„`web03_war_exploded`</a></li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç»å¯¹è·¯å¾„å†™æ³• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/web03_war_exploded/static/img/logo.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>ç»å¯¹è·¯å¾„2ï¼š<code>web/a/b/c/test.html</code>ä¸­å¼•å…¥<code>web/static/img/logo.png</code>ï¼ˆå¤šçº§ç›®å½•è®¿é—®ï¼‰</p>
</blockquote>
<ul>
<li>æ ¹ç›®å½•ä»<a target="_blank" rel="noopener" href="http://localhost:8080/%E5%BC%80%E5%A7%8B%E6%8B%BC%E6%8E%A5%EF%BC%8C%E9%9C%80%E8%A6%81%E5%8A%A0%E4%B8%8A%E8%B5%84%E6%BA%90%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E8%B7%AF%E5%BE%84%60web03_war_exploded%60%EF%BC%8C%E5%90%8E%E9%9D%A2%E8%B7%9F%E4%B8%8Astatic%E9%83%A8%E5%88%86%EF%BC%8C%E6%97%A0%E9%9C%80%E8%80%83%E8%99%91%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E4%BD%8D%E7%BD%AE">http://localhost:8080/å¼€å§‹æ‹¼æ¥ï¼Œéœ€è¦åŠ ä¸Šèµ„æºä¸Šä¸‹æ–‡çš„è·¯å¾„`web03_war_exploded`ï¼Œåé¢è·Ÿä¸Šstaticéƒ¨åˆ†ï¼Œæ— éœ€è€ƒè™‘å½“å‰ç›®å½•ä½ç½®</a></li>
<li>é¢„å‘Šï¼š<code>é‡å®šå‘</code>ç»å¯¹è·¯å¾„æ ¹ç›®å½•ä½ç½®ä¸è‡ªå¸¦ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œè€Œ<code>è¯·æ±‚è½¬å‘</code>å› ä¸ºåªèƒ½è®¿é—®å†…éƒ¨èµ„æºï¼Œå› æ­¤ä¼šè‡ªå¸¦ä¸Šä¸‹æ–‡è·¯å¾„</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç»å¯¹è·¯å¾„å†™æ³• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/web03_war_exploded/static/img/logo.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>ç»å¯¹è·¯å¾„æƒ…å†µ3:<code>web/WEB-INF/views/view1.html</code>ä¸­å¼•å…¥<code>web/static/img/logo.png</code>ï¼ˆå—ä¿æŠ¤èµ„æºè®¿é—®ï¼‰</p>
</blockquote>
<ul>
<li>è¿™é‡ŒåŒæ ·æ˜¯åªèƒ½é€šè¿‡Servlet<code>è¯·æ±‚è½¬å‘</code>è·å¾—å—ä¿æŠ¤èµ„æºï¼Œä»£ç è§ä¸Šé¢ç›¸å¯¹è·¯å¾„ï¼Œä¸å†èµ˜è¿°</li>
<li>æ ¹ç›®å½•ä»<a target="_blank" rel="noopener" href="http://localhost:8080/%E5%BC%80%E5%A7%8B%E6%8B%BC%E6%8E%A5%EF%BC%8C%E9%9C%80%E8%A6%81%E5%8A%A0%E4%B8%8A%E8%B5%84%E6%BA%90%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E8%B7%AF%E5%BE%84%60web03_war_exploded%60%EF%BC%8C%E5%90%8E%E9%9D%A2%E8%B7%9F%E4%B8%8Astatic%E9%83%A8%E5%88%86%EF%BC%8C%E6%97%A0%E9%9C%80%E8%80%83%E8%99%91%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E4%BD%8D%E7%BD%AE">http://localhost:8080/å¼€å§‹æ‹¼æ¥ï¼Œéœ€è¦åŠ ä¸Šèµ„æºä¸Šä¸‹æ–‡çš„è·¯å¾„`web03_war_exploded`ï¼Œåé¢è·Ÿä¸Šstaticéƒ¨åˆ†ï¼Œæ— éœ€è€ƒè™‘å½“å‰ç›®å½•ä½ç½®</a></li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/web03_war_exploded/static/img/logo.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h5 id="è·¯å¾„å­˜åœ¨çš„ç¼ºé™·å’Œæ”¹è¿›æ€è·¯"><a href="#è·¯å¾„å­˜åœ¨çš„ç¼ºé™·å’Œæ”¹è¿›æ€è·¯" class="headerlink" title="è·¯å¾„å­˜åœ¨çš„ç¼ºé™·å’Œæ”¹è¿›æ€è·¯"></a>è·¯å¾„å­˜åœ¨çš„ç¼ºé™·å’Œæ”¹è¿›æ€è·¯</h5><p>æˆ‘ä»¬å‘ç°<code>ç›¸å¯¹è·¯å¾„</code>å’Œ<code>ç»å¯¹è·¯å¾„</code>å­˜åœ¨ç¼ºé™·ï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li>ç›¸å¯¹è·¯å¾„åœ¨éƒ¨ç½²åˆ°ä¸åŒçš„ç¯å¢ƒä¸‹ï¼Œæ˜¯å¯èƒ½ä¼šåŠ¨æ€å˜åŒ–çš„ï¼Œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«çš„æƒ…å†µæ˜¯æœ‰çš„</li>
<li>è€Œç»å¯¹è·¯å¾„åˆéœ€åŠ ä¸Š<code>èµ„æºä¸Šä¸‹æ–‡è·¯å¾„</code>ï¼Œè€Œèµ„æºè·¯å¾„åˆæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œæ­¤æ—¶èµ„æºè·¯å¾„è‹¥å‘ç”Ÿäº†æ›´æ”¹ï¼Œä¿®æ”¹å å°†è¿èƒŒå¼€é—­åŸåˆ™</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨baseæ ‡ç­¾å®šä¹‰å…¬å…±æ ‡ç­¾ï¼Œ<code>ç›¸å¯¹è·¯å¾„åŒä¸€è½¬åŒ–ä¸ºç»å¯¹è·¯å¾„</code>ï¼ˆä¸å®Œç¾çš„æ–¹æ¡ˆï¼Œä¾æ—§å¯èƒ½è¦ä¿®æ”¹æºç ï¼‰</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å®šä¹‰ç›¸å¯¹è·¯å¾„çš„å…¬å…±å‰ç¼€,å°†ç›¸å¯¹è·¯å¾„è½¬åŒ–æˆäº†ç»å¯¹è·¯å¾„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">&quot;/web03_war_exploded/&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;static/img/logo.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>è§£å†³æ–¹æ¡ˆ2ï¼šé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„ç›´æ¥è®¾ç½®ä¸º<code>/</code>ï¼Œæ­¤æ—¶ç»å¯¹è·¯å¾„æ— éœ€å› ä¸ºä¸Šä¸‹æ–‡è·¯å¾„å˜åŒ–è€Œå‘ç”Ÿæ›´æ”¹ï¼ˆ<a target="_blank" rel="noopener" href="https://www.runoob.com/django/django-tutorial.html"><strong>Django</strong></a>æ¡†æ¶çš„åšæ³•ï¼‰</p>
<h4 id="10-2-2-é‡å®šå‘è·¯å¾„é—®é¢˜"><a href="#10-2-2-é‡å®šå‘è·¯å¾„é—®é¢˜" class="headerlink" title="10.2.2 é‡å®šå‘è·¯å¾„é—®é¢˜"></a>10.2.2 é‡å®šå‘è·¯å¾„é—®é¢˜</h4><p>ä»¥<a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/x/y/z/servletA%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0http://localhost:8080/web03_war_exploded/a/b/c/test.html%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%B8%BB%E8%A6%81%E5%8C%BA%E5%88%AB%E5%9C%A8%E4%BA%8E%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84%E7%9A%84%E5%9F%BA%E5%87%86%E4%B8%8A">http://localhost:8080/web03_war_exploded/x/y/z/servletAé‡å®šå‘åˆ°http://localhost:8080/web03_war_exploded/a/b/c/test.htmlä¸ºä¾‹ï¼Œä¸»è¦åŒºåˆ«åœ¨äºç»å¯¹è·¯å¾„çš„åŸºå‡†ä¸Š</a></p>
<blockquote>
<p>ç›¸å¯¹å†™æ³•</p>
</blockquote>
<ul>
<li>åœ¨å½“å‰èµ„æºæ‰€åœ¨è·¯å¾„(<a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/x/y/a/b/c/test/html),%E5%BD%A2%E6%88%90">http://localhost:8080/web03_war_exploded/x/y/z/)åæ‹¼æ¥(../../../a/b/c/test/html),å½¢æˆ</a></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/x/y/z/servletA&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletA</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// ç›¸å¯¹è·¯å¾„é‡å®šå‘åˆ°test.html</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;../../../a/b/c/test.html&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>ç»å¯¹å†™æ³•</p>
</blockquote>
<ul>
<li>åœ¨åŸºå‡†è·¯å¾„(<a href="http://localhost:8080)åé¢æ‹¼æ¥(/web03_war_exploded/a/b/c/test.html),å¾—åˆ°">http://localhost:8080)åé¢æ‹¼æ¥(/web03_war_exploded/a/b/c/test.html),å¾—åˆ°</a>( <a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/a/b/c/test.html">http://localhost:8080/web03_war_exploded/a/b/c/test.html</a>)</li>
<li>å¦‚æœå®šä¹‰äº†ç¼ºçœä¸Šä¸‹æ–‡è·¯å¾„ï¼Œåˆ™æ— éœ€è€ƒè™‘ä¸Šä¸‹æ–‡è·¯å¾„çš„é—®é¢˜ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç»å¯¹è·¯å¾„ä¸­,è¦å†™é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„</span></span><br><span class="line"><span class="comment">//resp.sendRedirect(&quot;/web03_war_exploded/a/b/c/test.html&quot;);</span></span><br><span class="line"><span class="comment">// é€šè¿‡ServletContextå¯¹è±¡åŠ¨æ€è·å–é¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„</span></span><br><span class="line"><span class="comment">//resp.sendRedirect(getServletContext().getContextPath()+&quot;/a/b/c/test.html&quot;);</span></span><br><span class="line"><span class="comment">// ç¼ºçœé¡¹ç›®ä¸Šä¸‹æ–‡è·¯å¾„æ—¶,ç›´æ¥ä»¥/å¼€å¤´å³å¯</span></span><br><span class="line">resp.sendRedirect(<span class="string">&quot;/a/b/c/test.html&quot;</span>);</span><br></pre></td></tr></table></figure>





<h4 id="10-2-3-è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜"><a href="#10-2-3-è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜" class="headerlink" title="10.2.3 è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜"></a>10.2.3 è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜</h4><p>ä»¥<a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/x/y/z/servletB%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0http://localhost:8080/web03_war_exploded/a/b/c/test.html%E4%B8%BA%E4%BE%8B">http://localhost:8080/web03_war_exploded/x/y/z/servletBé‡å®šå‘åˆ°http://localhost:8080/web03_war_exploded/a/b/c/test.htmlä¸ºä¾‹</a></p>
<blockquote>
<p>ç›¸å¯¹å†™æ³•</p>
</blockquote>
<ul>
<li>åŒä¸Šï¼Œå’Œé‡å®šå‘æ²¡åŒºåˆ«ï¼Œå°±æ˜¯ä»å½“å‰èµ„æºè·¯å¾„<a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/x/y/z/%E5%BC%80%E5%A7%8B%E6%89%BE">http://localhost:8080/web03_war_exploded/x/y/z/å¼€å§‹æ‰¾</a></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/x/y/servletB&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">RequestDispatcher</span> <span class="variable">requestDispatcher</span> <span class="operator">=</span> req.getRequestDispatcher(<span class="string">&quot;../../a/b/c/test.html&quot;</span>);</span><br><span class="line">        requestDispatcher.forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<blockquote>
<p>ç»å¯¹å†™æ³•</p>
</blockquote>
<ul>
<li>åœ¨åŸºå‡†è·¯å¾„(<a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/a/b/c/test.html),%E5%BE%97%E5%88%B0">http://localhost:8080/web03_war_exploded/a/b/c/test.html),å¾—åˆ°</a>( <a target="_blank" rel="noopener" href="http://localhost:8080/web03_war_exploded/a/b/c/test.html">http://localhost:8080/web03_war_exploded/a/b/c/test.html</a>)</li>
<li>å› ä¸ºè¯·æ±‚è½¬å‘åªèƒ½è®¿é—®å†…éƒ¨èµ„æºï¼Œå› æ­¤ä¸ç®¡æ˜¯å¦è®¾ç½®äº†ç¼ºçœä¸Šä¸‹æ–‡è·¯å¾„ï¼Œéƒ½æ— éœ€è€ƒè™‘<code>ä¸Šä¸‹æ–‡è·¯å¾„çš„é—®é¢˜</code>ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/x/y/servletB&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletB</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">RequestDispatcher</span> <span class="variable">requestDispatcher</span> <span class="operator">=</span> req.getRequestDispatcher(<span class="string">&quot;/a/b/c/test.html&quot;</span>);</span><br><span class="line">        requestDispatcher.forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="11-MVCç»“æ„æ¨¡å¼"><a href="#11-MVCç»“æ„æ¨¡å¼" class="headerlink" title="11. MVCç»“æ„æ¨¡å¼"></a>11. MVCç»“æ„æ¨¡å¼</h2><blockquote>
<p>MVCï¼ˆModel View Controllerï¼‰æ˜¯è½¯ä»¶å·¥ç¨‹çš„ä¸€ç§<code>è½¯ä»¶æ¶æ„æ¨¡å¼</code>ï¼Œåˆ†ä¸ºmodelã€viewã€Controllerä¸‰ä¸ªéƒ¨åˆ†ï¼Œå°†<code>ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€ç•Œé¢</code>å±•ç¤ºéš”ç¦»å¼€äº†ï¼Œåœ¨ä¸ªæ€§åŒ–ç•Œé¢çš„åŒæ—¶ï¼Œæ— éœ€é‡å†™ä¸šåŠ¡é€»è¾‘</p>
</blockquote>
<ul>
<li><p>Modelå±‚</p>
<ul>
<li>å­˜æ”¾<code>å®ä½“ç±»</code>å’Œå­˜å‚¨éæ•°æ®è¡¨åº“å®Œæ•´VOå¯¹è±¡</li>
<li>å­˜æ”¾å¯¹æ•°æ®è¿›è¡Œé€»è¾‘è¿ç®—çš„<code>ä¸šåŠ¡ä»£ç </code></li>
</ul>
</li>
<li><p>Viewå±‚</p>
<ul>
<li>å­˜æ”¾html css js</li>
<li>å‰åç«¯åˆ†ç¦»ï¼Œä¸€èˆ¬å‰ç«¯å·¥ç¨‹åŒ–ï¼Œè¡ç”Ÿä¸ºç‹¬ç«‹çš„å‰ç«¯é¡¹ç›®</li>
</ul>
</li>
<li><p>Controllerå±‚</p>
<ul>
<li>æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå¾—åˆ°è¯·æ±‚æ•°æ®</li>
<li>å°†æ•°æ®ç›¸åº”ç»™å®¢æˆ·ç«¯</li>
</ul>
</li>
</ul>
<ul>
<li><p>M:</p>
<ol>
<li>å®ä½“ç±»åŒ…(pojo &#x2F;entity &#x2F;bean) ä¸“é—¨å­˜æ”¾å’Œæ•°æ®åº“å¯¹åº”çš„å®ä½“ç±»å’Œä¸€äº›VOå¯¹è±¡</li>
<li>æ•°æ®åº“è®¿é—®åŒ…(dao&#x2F;mapper)  ä¸“é—¨å­˜æ”¾å¯¹æ•°æ®åº“ä¸åŒè¡¨æ ¼CURDæ–¹æ³•å°è£…çš„ä¸€äº›ç±»</li>
<li>æœåŠ¡åŒ…(service)                       ä¸“é—¨å­˜æ”¾å¯¹æ•°æ®è¿›è¡Œä¸šåŠ¡é€»è¾‘è¿ç®—çš„ä¸€äº›ç±»</li>
</ol>
</li>
<li><p>C:</p>
<ol>
<li>æ§åˆ¶å±‚åŒ…(controller)</li>
</ol>
</li>
<li><p>V:</p>
<ol>
<li>webç›®å½•ä¸‹çš„è§†å›¾èµ„æº html css js img ç­‰</li>
<li>å‰ç«¯å·¥ç¨‹åŒ–å,åœ¨åç«¯é¡¹ç›®ä¸­å·²ç»ä¸å­˜åœ¨</li>
</ol>
</li>
</ul>
<p>å‰åç«¯åˆ†ç¦»æ¨¡å¼ä¸ºä¾‹çš„å›¾ç¤ºã€‚</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240906210641545.png" alt="image-20240906210641545" style="zoom:80%;" />	



<h2 id="12-æ¡ˆä¾‹â€”â€”æ—¥ç¨‹ç®¡ç†ç¬¬äºŒæœŸ"><a href="#12-æ¡ˆä¾‹â€”â€”æ—¥ç¨‹ç®¡ç†ç¬¬äºŒæœŸ" class="headerlink" title="12. æ¡ˆä¾‹â€”â€”æ—¥ç¨‹ç®¡ç†ç¬¬äºŒæœŸ"></a>12. æ¡ˆä¾‹â€”â€”æ—¥ç¨‹ç®¡ç†ç¬¬äºŒæœŸ</h2><h3 id="12-1-DB"><a href="#12-1-DB" class="headerlink" title="12.1 DB"></a>12.1 DB</h3><p>æ•°æ®åº“æ­å»º</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SET</span> NAMES utf8mb4;</span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- åˆ›å»ºæ—¥ç¨‹è¡¨</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `sys_schedule`;</span><br><span class="line"><span class="keyword">CREATE TABLE</span> `sys_schedule`  (</span><br><span class="line">  `sid` <span class="type">int</span> <span class="keyword">NOT NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `uid` <span class="type">int</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `title` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">CHARACTER SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_0900_ai_ci <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `completed` <span class="type">int</span>(<span class="number">1</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY KEY</span> (`sid`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB AUTO_INCREMENT <span class="operator">=</span> <span class="number">1</span> <span class="keyword">CHARACTER SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_0900_ai_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- æ’å…¥æ—¥ç¨‹æ•°æ®</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- åˆ›å»ºç”¨æˆ·è¡¨</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `sys_user`;</span><br><span class="line"><span class="keyword">CREATE TABLE</span> `sys_user`  (</span><br><span class="line">  `uid` <span class="type">int</span> <span class="keyword">NOT NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `username` <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">CHARACTER SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_0900_ai_ci <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `user_pwd` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">CHARACTER SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_0900_ai_ci <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY KEY</span> (`uid`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  <span class="keyword">UNIQUE</span> INDEX `username`(`username`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB <span class="keyword">CHARACTER SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_0900_ai_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- æ’å…¥ç”¨æˆ·æ•°æ®</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT INTO</span> `sys_user` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;zhangsan&#x27;</span>, <span class="string">&#x27;e10adc3949ba59abbe56e057f20f883e&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `sys_user` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;e10adc3949ba59abbe56e057f20f883e&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="12-2-é¡¹ç›®æ¶æ„"><a href="#12-2-é¡¹ç›®æ¶æ„" class="headerlink" title="12.2 é¡¹ç›®æ¶æ„"></a>12.2 é¡¹ç›®æ¶æ„</h3><p>modelå’Œcontrollerç›¸å…³</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240906211508877.png" alt="image-20240906211508877">	</p>
<p>viewç›¸å…³ä»¥åŠç›¸å…³ä¾èµ–</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240906211527665.png" alt="image-20240906211527665">	</p>
<h3 id="12-3-å·¥å…·ç±»"><a href="#12-3-å·¥å…·ç±»" class="headerlink" title="12.3 å·¥å…·ç±»"></a>12.3 å·¥å…·ç±»</h3><p>JDBCé“¾æ¥ç›¸å…³</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSourceFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCUtil</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ThreadLocal&lt;Connection&gt; threadLocal =<span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> DataSource dataSource;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–è¿æ¥æ± </span></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        <span class="comment">// å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¯»å–.propertiesé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> JDBCUtil.class.getClassLoader().getResourceAsStream(<span class="string">&quot;jdbc.properties&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            properties.load(resourceAsStream);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            dataSource = DruidDataSourceFactory.createDataSource(properties);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*1 å‘å¤–æä¾›è¿æ¥æ± çš„æ–¹æ³•*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> DataSource <span class="title function_">getDataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*2 å‘å¤–æä¾›è¿æ¥çš„æ–¹æ³•*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> threadLocal.get();</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == connection) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                connection = dataSource.getConnection();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">            threadLocal.set(connection);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*å®šä¹‰ä¸€ä¸ªå½’è¿˜è¿æ¥çš„æ–¹æ³• (è§£é™¤å’ŒThreadLocalä¹‹é—´çš„å…³è”å…³ç³») */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">releaseConnection</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> threadLocal.get();</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> != connection) &#123;</span><br><span class="line">            threadLocal.remove();</span><br><span class="line">            <span class="comment">// æŠŠè¿æ¥è®¾ç½®å›è‡ªåŠ¨æäº¤çš„è¿æ¥</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                connection.setAutoCommit(<span class="literal">true</span>);</span><br><span class="line">                <span class="comment">// è‡ªåŠ¨å½’è¿˜åˆ°è¿æ¥æ± </span></span><br><span class="line">                connection.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>MD5åŠ å¯†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.util;</span><br><span class="line"><span class="keyword">import</span> java.security.MessageDigest;</span><br><span class="line"><span class="keyword">import</span> java.security.NoSuchAlgorithmException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">MD5Util</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">encrypt</span><span class="params">(String strSrc)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">char</span> hexChars[] = &#123; <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span> &#125;;</span><br><span class="line">            <span class="type">byte</span>[] bytes = strSrc.getBytes();</span><br><span class="line">            <span class="type">MessageDigest</span> <span class="variable">md</span> <span class="operator">=</span> MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>);</span><br><span class="line">            md.update(bytes);</span><br><span class="line">            bytes = md.digest();</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bytes.length;</span><br><span class="line">            <span class="type">char</span>[] chars = <span class="keyword">new</span> <span class="title class_">char</span>[j * <span class="number">2</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; bytes.length; i++) &#123;</span><br><span class="line">                <span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> bytes[i];</span><br><span class="line">                chars[k++] = hexChars[b &gt;&gt;&gt; <span class="number">4</span> &amp; <span class="number">0xf</span>];</span><br><span class="line">                chars[k++] = hexChars[b &amp; <span class="number">0xf</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(chars);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;MD5åŠ å¯†å‡ºé”™!!!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="12-4-pojoå±‚"><a href="#12-4-pojoå±‚" class="headerlink" title="12.4 pojoå±‚"></a>12.4 pojoå±‚</h3><p><strong>SysUser</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. å®ä½“ç±»çš„ç±»åå’Œè¡¨æ ¼åç§°åº”è¯¥å¯¹åº”ï¼ˆé©¼å³°å¼+è§åçŸ¥æ„ï¼‰</span></span><br><span class="line"><span class="comment"> * 2. å®ä½“ç±»å±æ€§åå’Œè¡¨æ ¼çš„åˆ—åè¦å¯¹åº”</span></span><br><span class="line"><span class="comment"> * 3. æ¯ä¸ªå±æ€§å¿…é¡»ç§æœ‰</span></span><br><span class="line"><span class="comment"> * 4. æ¯ä¸ªå±æ€§å¿…é¡»æœ‰getter setter</span></span><br><span class="line"><span class="comment"> * 5. ä¸€å®šæœ‰æ— å‚æ„é€ å™¨ï¼ˆTomcatå»ºè®®æ˜¾å¼åœ°å†™å‡ºæ¥ï¼‰</span></span><br><span class="line"><span class="comment"> * 6. åº”è¯¥å®ç°åºåˆ—åŒ–æ¥å£ï¼ˆç¼“å­˜ åˆ†å¸ƒå¼é¡¹ç›®æ•°æ®ä¼ é€’ï¼Œå¯èƒ½ä¼šå°†å¯¹è±¡åºåˆ—åŒ–ï¼‰</span></span><br><span class="line"><span class="comment"> * 7. åº”è¯¥é‡å†™ç±»çš„hashCodeå’Œequalsæ–¹æ³•</span></span><br><span class="line"><span class="comment"> * 8. toStringæ˜¯å¦é‡å†™ éƒ½å¯ä»¥</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨lombokå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆgetter setter å…¨å‚æ„é€  æ— å‚æ„é€  equals hashCode ä½¿ç”¨æ­¥éª¤</span></span><br><span class="line"><span class="comment"> *      1. æ£€æŸ¥æ˜¯å¦å®‰è£…lombokæ’ä»¶</span></span><br><span class="line"><span class="comment"> *      2. æ£€æŸ¥æ˜¯å¦å‹¾é€‰enable annotation processing</span></span><br><span class="line"><span class="comment"> *      3. å¯¼å…¥lombokä¾èµ–</span></span><br><span class="line"><span class="comment"> *      4. å®ä½“ç±»ä¸Šæ·»åŠ æ³¨è§£</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysUser</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer uid;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String userPwd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SysUser</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SysUser</span><span class="params">(Integer uid, String username, String userPwd)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.uid = uid;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">        <span class="built_in">this</span>.userPwd = userPwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getUid</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> uid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUid</span><span class="params">(Integer uid)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.uid = uid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUserPwd</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> userPwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserPwd</span><span class="params">(String userPwd)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userPwd = userPwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">SysUser</span> <span class="variable">sysUser</span> <span class="operator">=</span> (SysUser) o;</span><br><span class="line">        <span class="keyword">return</span> Objects.equals(uid, sysUser.uid) &amp;&amp; Objects.equals(username, sysUser.username) &amp;&amp; Objects.equals(userPwd, sysUser.userPwd);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(uid, username, userPwd);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;SysUser&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;uid=&quot;</span> + uid +</span><br><span class="line">                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, userPwd=&#x27;&quot;</span> + userPwd + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>SysScheduleï¼ˆä½¿ç”¨<code>lombok</code>ç®€åŒ–ä»£ç ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span> <span class="comment">// æ·»åŠ å…¨å‚æ„é€ </span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@Data</span> <span class="comment">// getter setter equals hashCode</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysSchedule</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer sid;</span><br><span class="line">    <span class="keyword">private</span> Integer uid;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> Integer completed;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="12-5-Daoå±‚"><a href="#12-5-Daoå±‚" class="headerlink" title="12.5 Daoå±‚"></a>12.5 Daoå±‚</h3><p>åŸºäºä¹‹å‰å­¦çš„Druidå®ç°ã€‚</p>
<p>SysUseræ¥å£æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.pojo.SysUser;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Data access Object</span></span><br><span class="line"><span class="comment"> * è¯¥ç±»ç”¨äºå®šä¹‰é’ˆå¯¹è¡¨æ ¼çš„crudæ–¹æ³•</span></span><br><span class="line"><span class="comment"> * DAOä¸€èˆ¬å®šä¹‰æ¥å£å’Œå®ç°ç±»</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SysUserDao</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘æ•°æ®åº“ä¸­å¢åŠ ä¸€æ¡SysUserå¯¹è±¡çš„ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sysUser è¦å¢åŠ çš„è®°å½•usernameå’ŒuserPwdå­—æ®µé€šè¿‡sysUserå®ä½“ç±»å¯¹è±¡æ¥æ”¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¢åŠ æˆåŠŸè¿”å›1ï¼Œå¢åŠ å¤±è´¥è¿”å›0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">addSysUser</span><span class="params">(SysUser sysUser)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®ç”¨æˆ·åè·å¾—ç”¨æˆ·å®Œæ•´ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> username è¦æŸ¥è¯¢çš„ç”¨æˆ·æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¦‚æœæ‰¾åˆ°äº†è¿”å›SysUserå¯¹è±¡ï¼Œå¦åˆ™è¿”å›NULL</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    SysUser <span class="title function_">findByUsername</span><span class="params">(String username)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>SysScheduleæ¥å£æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.pojo.SysSchedule;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SysScheduleDao</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯¥æ–¹æ³•ç”¨äºå‘æ•°æ®åº“ä¸­å¢åŠ ä¸€æ¡æ—¥ç¨‹è®°å½•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> schedule æ—¥ç¨‹æ•°æ®ä»¥SysScheduleå®ä½“ç±»å¯¹è±¡å½¢å¼å…¥å‚</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¢åŠ æˆåŠŸè¿”å›å½±å“æ•°æ®åº“è®°å½•çš„è¡Œæ•°ï¼Œè¡Œæ•°ä¸º0è¯´æ˜å¢åŠ å¤±è´¥ï¼Œè¡Œæ•°&gt;0è¯´æ˜å¢åŠ æˆåŠŸ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">addSchedule</span><span class="params">(SysSchedule schedule)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·çš„æ‰€æœ‰æ—¥ç¨‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å°†æ‰€æœ‰æ—¥ç¨‹æ”¾å…¥Listé›†åˆä¸­</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    List&lt;SysSchedule&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>SysUserå®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.dao.BaseDao;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.dao.SysUserDao;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.pojo.SysUser;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysUserDaoImpl</span> <span class="keyword">extends</span> <span class="title class_">BaseDao</span> <span class="keyword">implements</span> <span class="title class_">SysUserDao</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addSysUser</span><span class="params">(SysUser sysUser)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into sys_user values(DEFAULT, ?, ?)&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> baseUpdate(sql, sysUser.getUsername(), sysUser.getUserPwd());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> SysUser <span class="title function_">findByUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT uid, username, user_pwd &#x27;userPwd&#x27; FROM sys_user where username = ?&quot;</span>;</span><br><span class="line">        List&lt;SysUser&gt; sysUsers = baseQuery(SysUser.class, sql, username);</span><br><span class="line">        <span class="keyword">if</span> (sysUsers != <span class="literal">null</span> &amp;&amp; sysUsers.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> sysUsers.get(<span class="number">0</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>SysScheduleå®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.dao.BaseDao;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.dao.SysScheduleDao;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.pojo.SysSchedule;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä»‹ç»ä¸€ä¸‹å½“å‰ç±»</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysScheduleDaoImpl</span> <span class="keyword">extends</span> <span class="title class_">BaseDao</span> <span class="keyword">implements</span> <span class="title class_">SysScheduleDao</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addSchedule</span><span class="params">(SysSchedule schedule)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into sys_schedule(sid, uid, title, completed) values(?,?,?,?)&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> baseUpdate(sql, schedule.getSid(), schedule.getUid(), schedule.getTitle(), schedule.getCompleted());</span><br><span class="line">        <span class="keyword">return</span> rows;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;SysSchedule&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select sid, uid, title, completed from sys_schedule&quot;</span>;</span><br><span class="line">        List&lt;SysSchedule&gt; sysSchedules = baseQuery(SysSchedule.class, sql);</span><br><span class="line">        <span class="keyword">return</span> sysSchedules;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>BaseDaoå…¬å…±æ–¹æ³•å…·ä½“å®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.util.JDBCUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseDao</span> &#123;</span><br><span class="line">    <span class="comment">// å…¬å…±çš„æŸ¥è¯¢æ–¹æ³•  è¿”å›çš„æ˜¯å•ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T <span class="title function_">baseQueryObject</span><span class="params">(Class&lt;T&gt; clazz, String sql, Object ... args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> JDBCUtil.getConnection();</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">preparedStatement</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// å‡†å¤‡è¯­å¥å¯¹è±¡</span></span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            <span class="comment">// è®¾ç½®è¯­å¥ä¸Šçš„å‚æ•°</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">                preparedStatement.setObject(i + <span class="number">1</span>, args[i]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰§è¡Œ æŸ¥è¯¢</span></span><br><span class="line">            resultSet = preparedStatement.executeQuery();</span><br><span class="line">            <span class="keyword">if</span> (resultSet.next()) &#123;</span><br><span class="line">                t = (T) resultSet.getObject(<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> != resultSet) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    resultSet.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> != preparedStatement) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    preparedStatement.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            JDBCUtil.releaseConnection();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å…¬å…±çš„æŸ¥è¯¢æ–¹æ³•  è¿”å›çš„æ˜¯å¯¹è±¡çš„é›†åˆ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; List&lt;T&gt; <span class="title function_">baseQuery</span><span class="params">(Class clazz, String sql, Object ... args)</span>&#123;</span><br><span class="line">        List&lt;T&gt; list =<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> JDBCUtil.getConnection();</span><br><span class="line">        PreparedStatement preparedStatement=<span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// å‡†å¤‡è¯­å¥å¯¹è±¡</span></span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            <span class="comment">// è®¾ç½®è¯­å¥ä¸Šçš„å‚æ•°</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">                preparedStatement.setObject(i+<span class="number">1</span>,args[i]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰§è¡Œ æŸ¥è¯¢</span></span><br><span class="line">            resultSet = preparedStatement.executeQuery();</span><br><span class="line"></span><br><span class="line">            <span class="type">ResultSetMetaData</span> <span class="variable">metaData</span> <span class="operator">=</span> resultSet.getMetaData();</span><br><span class="line">            <span class="type">int</span> <span class="variable">columnCount</span> <span class="operator">=</span> metaData.getColumnCount();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å°†ç»“æœé›†é€šè¿‡åå°„å°è£…æˆå®ä½“ç±»å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">                <span class="comment">// ä½¿ç”¨åå°„å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">                <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span>clazz.getDeclaredConstructor().newInstance();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= columnCount; i++) &#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">columnName</span> <span class="operator">=</span> metaData.getColumnLabel(i);</span><br><span class="line">                    <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> resultSet.getObject(columnName);</span><br><span class="line">                    <span class="comment">// å¤„ç†datetimeç±»å‹å­—æ®µå’Œjava.util.Dataè½¬æ¢é—®é¢˜</span></span><br><span class="line">                    <span class="keyword">if</span>(value.getClass().equals(LocalDateTime.class))&#123;</span><br><span class="line">                        value= Timestamp.valueOf((LocalDateTime) value);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> clazz.getDeclaredField(columnName);</span><br><span class="line">                    field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                    field.set(obj,value);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                list.add((T)obj);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> !=resultSet) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    resultSet.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> != preparedStatement) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    preparedStatement.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            JDBCUtil.releaseConnection();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šç”¨çš„å¢åˆ æ”¹æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">baseUpdate</span><span class="params">(String sql,Object ... args)</span> &#123;</span><br><span class="line">        <span class="comment">// è·å–è¿æ¥</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> JDBCUtil.getConnection();</span><br><span class="line">        PreparedStatement preparedStatement=<span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// å‡†å¤‡è¯­å¥å¯¹è±¡</span></span><br><span class="line">            preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">            <span class="comment">// è®¾ç½®è¯­å¥ä¸Šçš„å‚æ•°</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">                preparedStatement.setObject(i+<span class="number">1</span>,args[i]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰§è¡Œ å¢åˆ æ”¹ executeUpdate</span></span><br><span class="line">            rows = preparedStatement.executeUpdate();</span><br><span class="line">            <span class="comment">// é‡Šæ”¾èµ„æº(å¯é€‰)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> != preparedStatement) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    preparedStatement.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            JDBCUtil.releaseConnection();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿”å›çš„æ˜¯å½±å“æ•°æ®åº“è®°å½•æ•°</span></span><br><span class="line">        <span class="keyword">return</span> rows;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="12-6-Cotrollerå±‚"><a href="#12-6-Cotrollerå±‚" class="headerlink" title="12.6 Cotrollerå±‚"></a>12.6 Cotrollerå±‚</h3><p>SysUseréƒ¨åˆ†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.pojo.SysUser;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.service.SysUserService;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.service.impl.SysUserServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.util.MD5Util;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/user/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysUserController</span> <span class="keyword">extends</span> <span class="title class_">BaseController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">SysUserService</span> <span class="variable">userService</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SysUserServiceImpl</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¥æ”¶ç”¨æˆ·ç™»å½•è¯·æ±‚çš„ä¸šåŠ¡æ–¹æ³•ï¼ˆå®Œæˆç™»å½•çš„ä¸šåŠ¡æ¥å£ï¼‰</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ServletException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 1. æ¥æ”¶ç”¨æˆ·åå¯†ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">userPwd</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;userPwd&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. è°ƒç”¨æœåŠ¡å±‚æ–¹æ³•ï¼Œæ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">        <span class="type">SysUser</span> <span class="variable">loginUser</span> <span class="operator">=</span> userService.findUserName(username);</span><br><span class="line">        <span class="keyword">if</span> (loginUser == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// ç”¨æˆ·åæœ‰è¯¯ï¼Œè·³è½¬åˆ°ç”¨æˆ·åæœ‰è¯¯æç¤ºé¡µ</span></span><br><span class="line">            response.sendRedirect(<span class="string">&quot;/loginUsernameError.html&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!MD5Util.encrypt(userPwd).equals(loginUser.getUserPwd())) &#123;</span><br><span class="line">            <span class="comment">// å¯†ç æœ‰è¯¯ï¼Œè·³è½¬åˆ°å¯†ç æœ‰è¯¯æç¤ºä¹Ÿ</span></span><br><span class="line">            response.sendRedirect(<span class="string">&quot;/loginUserPwdError.html&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// è·³è½¬æˆåŠŸï¼Œè·³è½¬åˆ°é¦–é¡µ</span></span><br><span class="line">            response.sendRedirect(<span class="string">&quot;/showSchedule.html&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¥æ”¶ç”¨æˆ·æ³¨å†Œè¯·æ±‚çš„ä¸šåŠ¡å¤„ç†æ–¹æ³•ï¼ˆæ¥å£ ä¸æ˜¯javaçš„æ¥å£ï¼‰</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> req</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> resp</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ServletException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">register</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 1.æ¥æ”¶ç”¨æˆ·æäº¤çš„å‚æ•°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">userPwd</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;userPwd&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. è°ƒç”¨serviceå±‚æ–¹æ³• å®Œæˆæ³¨å†ŒåŠŸèƒ½</span></span><br><span class="line">        <span class="comment">// å°†å‚æ•°å°è£…ä¸ºSysUserå¯¹è±¡ä¸­ å†è°ƒç”¨registeræ–¹æ³•æ—¶ä¼ å…¥ï¼ˆåç»­æ¡†æ¶ä¼šè‡ªåŠ¨å®Œæˆå°è£… ä¼ å‚ å…ˆå…»æˆä¹ æƒ¯ï¼‰</span></span><br><span class="line">        <span class="type">SysUser</span> <span class="variable">sysUser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SysUser</span>(<span class="literal">null</span>, username, userPwd);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> userService.register(sysUser);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. æ ¹æ®æ³¨å†Œç»“æœï¼ˆæˆåŠŸ or å¤±è´¥ï¼‰ï¼Œåšé¡µé¢è·³è½¬</span></span><br><span class="line">        <span class="keyword">if</span> (rows &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;/registerSuccess.html&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;/registerFail.html&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>SysScheduleéƒ¨åˆ†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¢åŠ æ—¥ç¨‹çš„è¯·æ±‚ /schedule/add</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æ—¥ç¨‹çš„è¯·æ±‚ /schedule/find</span></span><br><span class="line"><span class="comment"> * ä¿®æ”¹æ—¥ç¨‹çš„è¯·æ±‚ /schedule/update</span></span><br><span class="line"><span class="comment"> * åˆ é™¤æ—¥ç¨‹çš„è¯·æ±‚ /schedule/remove</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/schedule/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysScheduleController</span> <span class="keyword">extends</span> <span class="title class_">BaseController</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;add&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">find</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;find&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;update&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;remove&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>å…¬å…±éƒ¨åˆ†ä»£ç <code>BaseController</code>ï¼ˆæ ¹æ®URLçš„å‚æ•°æ¥æ‰§è¡Œå¯¹åº”çš„è¯·æ±‚ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseController</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> req.getRequestURI(); <span class="comment">// /schedule/add</span></span><br><span class="line">        String[] split = requestURI.split(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> split[split.length - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡åå°„ï¼Œä½¿ç”¨æ–¹æ³•åæ¥è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">        Class&lt;?&gt; aClass = <span class="built_in">this</span>.getClass();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Method</span> <span class="variable">declaredMethod</span> <span class="operator">=</span> aClass.getDeclaredMethod(methodName, HttpServletRequest.class, HttpServletResponse.class);</span><br><span class="line">            declaredMethod.setAccessible(<span class="literal">true</span>); <span class="comment">// æš´åŠ›ç ´è§£</span></span><br><span class="line">            declaredMethod.invoke(<span class="built_in">this</span>, req, resp);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="12-7-Serviceå±‚"><a href="#12-7-Serviceå±‚" class="headerlink" title="12.7 Serviceå±‚"></a>12.7 Serviceå±‚</h3><p>SysUserService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.pojo.SysUser;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯¥æ¥å£å®šä¹‰ä»¥sys_userä¸ºæ ¸å¿ƒçš„ä¸šåŠ¡å¤„ç†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SysUserService</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ³¨å†Œç”¨æˆ·çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sysUser åŒ…æ‹¬ç”¨æˆ·æ³¨å†Œçš„ç”¨æˆ·åå’Œæ˜æ–‡å¯†ç ä»¥SysUserå¯¹è±¡çš„å½¢å¼æ¥æ”¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ³¨å†ŒæˆåŠŸè¿”å›1ï¼Œè‘—çŒœæµ‹å¤±è´¥è¿”å›0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">register</span><span class="params">(SysUser sysUser)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®ç”¨æˆ·åè·å¾—å®Œæ•´ç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> username è¦æŸ¥è¯¢çš„ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¦‚æœæ‰¾åˆ°äº† è¿”å›SysUserå¯¹è±¡ï¼Œæ‰¾ä¸åˆ°è¿”å›NULL</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    SysUser <span class="title function_">findUserName</span><span class="params">(String username)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>SysUserServiceå®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.schedule.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.dao.SysUserDao;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.dao.impl.SysUserDaoImpl;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.pojo.SysUser;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.service.SysUserService;</span><br><span class="line"><span class="keyword">import</span> com.atguigu.schedule.util.MD5Util;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysUserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">SysUserService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">SysUserDao</span> <span class="variable">userDao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SysUserDaoImpl</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">register</span><span class="params">(SysUser sysUser)</span> &#123;</span><br><span class="line">        <span class="comment">// å°†ç”¨æˆ·çš„æ˜æ–‡å¯†ç è½¬åŒ–æˆå¯†æ–‡å¯†ç </span></span><br><span class="line">        sysUser.setUserPwd(MD5Util.encrypt(sysUser.getUserPwd()));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨Dao, å°†sysUserä¿¡æ¯å­˜å…¥æ•°æ®åº“(å¯ä»¥å°†Daoå¯¹è±¡å•ç‹¬å®šä¹‰åˆ°å¤–é¢å» newä¸€æ¬¡å°±è¡Œ)</span></span><br><span class="line">        <span class="keyword">return</span> userDao.addSysUser(sysUser);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> SysUser <span class="title function_">findUserName</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> userDao.findByUsername(username);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>SysScheduleéƒ¨åˆ†ï¼ˆå¾…å®ç°ï¼‰</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io">yuezi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io/2024/10/02/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/5.%20Servlet/">https://yuezi2048.github.io/2024/10/02/2.AreasğŸŒ/back-end-java/4.JavaWeb/5. Servlet/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://yuezi2048.github.io" target="_blank">yuezi</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/4-JavaWeb/">4.JavaWeb</a></div><div class="post-share"><div class="social-share" data-image="/img/touxiang.jpg" data-sites="qq,wechat"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/10/02/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/3.%20JavaScript/" title="3. JavaScript"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">3. JavaScript</div></div><div class="info-2"><div class="info-item-1">ç¬¬ä¸‰ç«  JavaScript1. JSç®€ä»‹1.1 JSèµ·æºå’Œç‰¹ç‚¹ JavaScriptï¼šç”±Netscape(ç½‘æ™¯)çš„LiveScriptå‘å±•è€Œæ¥çš„åŸºäºå¯¹è±¡çš„åŠ¨æ€ç±»å‹åŒºåˆ†å¤§å°å†™çš„å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€ï¼Œæœ€åˆç›®çš„æ˜¯ä¸ºäº†è§£å†³æœåŠ¡ç«¯è¯­è¨€ï¼Œä¸ºç”¨æˆ·æä¾›æµç•…çš„è®¿é—®é€Ÿåº¦ï¼Œè€Œå½“æ—¶æœåŠ¡ç«¯å¯¹æ•°æ®éªŒè¯æ…¢ï¼ŒNetscapeå…¬å¸çš„æµè§ˆå™¨Navigatoræä¾›äº†æ•°æ®éªŒè¯çš„åŸºæœ¬åŠŸèƒ½ ECMA-262æ˜¯æ­£å¼JavaScriptæ ‡å‡†ï¼ŒåŸºäº JavaScript (Netscape) å’ŒJScript (Microsoft)ï¼Œåœ¨1996å¹´å¼€å§‹ï¼Œ1997.7é‡‡çº³äº†é¦–ä¸ªç‰ˆæœ¬ JavaScriptæ­£å¼åç§°ä¸ºECMAScript JSåŒ…æ‹¬ECMAScriptã€DOMã€BOM  	 JSæ˜¯ä¸€ç§è¿è¡Œäºæµè§ˆå™¨ç«¯ä¸Šçš„å°è„šæœ¬è¯­å¥,å¯ä»¥å®ç°ç½‘é¡µå¦‚æ–‡æœ¬å†…å®¹åŠ¨,æ•°æ®åŠ¨æ€å˜åŒ–å’ŒåŠ¨ç”»ç‰¹æ•ˆç­‰ï¼Œ ç‰¹ç‚¹å¦‚ä¸‹  è„šæœ¬è¯­è¨€  è§£é‡Šå‹è„šæœ¬è¯­è¨€ï¼Œä¸åŒäºC&#x2F;C++ Java...</div></div></div></a><a class="pagination-related" href="/2024/10/03/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/9.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%8B%E7%AF%87_%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82_%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/" title="9.å‰ç«¯å·¥ç¨‹åŒ–ä¸‹ç¯‡_æ•°æ®è¯·æ±‚_çŠ¶æ€ç®¡ç†"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">9.å‰ç«¯å·¥ç¨‹åŒ–ä¸‹ç¯‡_æ•°æ®è¯·æ±‚_çŠ¶æ€ç®¡ç†</div></div><div class="info-2"><div class="info-item-1">9. Vue3æ•°æ®äº¤äº’axios9.0 å‰ç½®çŸ¥è¯†â€”â€”promise9.0.1 å›è°ƒå‡½æ•° æ™®é€šå‡½æ•°: æ­£å¸¸è°ƒç”¨çš„å‡½æ•°,ä¸€èˆ¬å‡½æ•°æ‰§è¡Œå®Œæ¯•åæ‰ä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€è¡Œä»£ç  å›è°ƒå‡½æ•°: ä¸€äº›ç‰¹æ®Šçš„å‡½æ•°,è¡¨ç¤ºæœªæ¥æ‰ä¼šæ‰§è¡Œçš„ä¸€äº›åŠŸèƒ½,åç»­ä»£ç ä¸ä¼šç­‰å¾…è¯¥å‡½æ•°æ‰§è¡Œå®Œæ¯•å°±å¼€å§‹æ‰§è¡Œäº†  function fun1() &#123;    console.log(&quot;fun1 invoked&quot;);&#125;// æµ‹è¯•æ™®é€šå‡½æ•°è°ƒç”¨;console.log(&quot;code1 invoked&quot;);fun1();console.log(&quot;code2 invoked&quot;);/*	æµ‹è¯•å›è°ƒå‡½æ•°ï¼Œä»¥setTimeoutä¸ºä¾‹	å›è°ƒå‡½æ•°æ˜¯ä¸€ç§åŸºäºäº‹ä»¶çš„ï¼Œè‡ªåŠ¨è°ƒç”¨å‡½æ•°	å›è°ƒå‡½æ•°çš„å…¶ä»–ä»£ç ä¸ä¼šç­‰å¾…å›è°ƒå‡½æ•°æ‰§è¡Œå®Œæ¯•	å›è°ƒå‡½æ•°æ˜¯ä¸€ç§æœªæ¥ä¼šæ‰§è¡Œçš„å‡½æ•°ï¼Œå›è°ƒå‡½æ•°ä»¥å¤–çš„å…¶ä»–ä»£ç 	ç”Ÿæ´»æ¡ˆä¾‹ï¼š		é‚»å®¶å°ç¾ï¼Œé‚£å¹´18å²		æ‰¿è¯ºï¼š10å¹´ä¹‹åï¼Œä»–æœªå¨¶ï¼Œä½ æœªå«ï¼ŒåŒ¿åå°±ç»“å©š &gt;&gt;&gt; function() &#123;&#125;			1. è¿›è¡Œä¸­   å…¶ä»–ä»£ç ç»§ç»­æ‰§è¡Œ			2....</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/09/01/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/1.%20JavaWeb%E6%A6%82%E8%BF%B0/" title="1. JavaWebæ¦‚è¿°"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-01</div><div class="info-item-2">1. JavaWebæ¦‚è¿°</div></div><div class="info-2"><div class="info-item-1">ç¬¬ä¸€ç«  Webæ¦‚è¿°1.1 JavaWebæ˜¯ä»€ä¹ˆ é€šè¿‡JavaæŠ€æœ¯è§£å†³Webäº’è”ç½‘é¢†åŸŸçš„æŠ€æœ¯æ ˆï¼ˆä½¿ç”¨JavaEEæŠ€æœ¯å¼€å‘ä¼ä¸šçº§äº’è”ç½‘é¡¹ç›®ï¼Œé¡¹ç›®è§„æ¨¡å’Œæ¶æ„æ¨¡å¼å’ŒJavaSEæœ‰å¾ˆå¤§åŒºåˆ«ï¼‰ å®¢æˆ·-æœåŠ¡å™¨æ¨¡å¼ å®¢æˆ·ç«¯ï¼šä¸ç”¨æˆ·äº¤äº’ï¼Œæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ï¼Œå‘æœåŠ¡å™¨å‘é€æ•°æ®å¹¶è¿”å›æœåŠ¡å™¨è¾“å‡ºçš„æ•°æ® æœåŠ¡å™¨ï¼šä»ç¡¬ä»¶å’Œè½¯ä»¶ä¸¤ä¸ªæ–¹é¢æè¿°(å¹¿ä¹‰å’Œç‹­ä¹‰) ç¡¬ä»¶ä¸Šï¼Œæ˜¯æ¯”æ™®é€šè®¡ç®—æœºè¿è¡Œæ›´å¿« è´Ÿè½½æ›´é«˜ ä»·æ ¼æ›´è´µï¼Œä¸€èˆ¬æ˜¯ç½‘ç»œä¸­çš„å¤§å‹å®¢æˆ·æœºæä¾›è®¡ç®—æœåŠ¡ è½¯ä»¶ä¸Šï¼Œæ˜¯å®‰è£…åœ¨è®¡ç®—æœºä¸Šçš„æŸä¸ªè¿›ç¨‹ï¼Œæ ¹æ®ä¸åŒçš„ä½œç”¨å¯ä»¥åˆ†ä¸ºä¸åŒçš„æœåŠ¡å™¨ï¼Œå¦‚DNS redis ftpæœåŠ¡å™¨ç­‰     åº”ç”¨ APP å¾®ä¿¡å°ç¨‹åº PCç«¯ç¨‹åº PCæµè§ˆå™¨ å¤–è®¾ï¼ˆå°ç±³éŸ³ç®± ç”µè¯æ‰‹è¡¨ POSæœºç­‰ï¼‰    1.2 JavaWebæŠ€æœ¯æ ˆå‰ç«¯ HTML CSS JS ES6 Nodejs npm vite vue3 router pinia axios element-plusâ€¦ åç«¯ HTTP xml Tomcat Servlet Request Response Cookie Session Filter Listener MySQL JDBC Druid...</div></div></div></a><a class="pagination-related" href="/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/10.%E9%98%B6%E6%AE%B5%E9%A1%B9%E7%9B%AE%E2%80%94%E2%80%94%E5%BE%AE%E5%A4%B4%E6%9D%A1/" title="10.é˜¶æ®µé¡¹ç›®â€”â€”å¾®å¤´æ¡"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-13</div><div class="info-item-2">10.é˜¶æ®µé¡¹ç›®â€”â€”å¾®å¤´æ¡</div></div><div class="info-2"><div class="info-item-1">10. é˜¶æ®µé¡¹ç›®â€”â€”å¾®å¤´æ¡1....</div></div></div></a><a class="pagination-related" href="/2024/09/26/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/2.%20HTML_CSS/" title="2. HTML_CSS"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-26</div><div class="info-item-2">2. HTML_CSS</div></div><div class="info-2"><div class="info-item-1">ç¬¬äºŒç«  HTML-CSS1. HTMLå…¥é—¨1.1 HTML_CSS_JSä½œç”¨ HTMLç”¨äºæ­å»ºç½‘ç«™ä¸»ä½“ CSSç”¨äºå¯¹é¡µé¢å…ƒç´ ç¾åŒ– JSç”¨äºå¯¹é¡µé¢å…ƒç´ åŠ¨æ€å¤„ç†  1.2 HTMLæ¦‚å¿µHTML  HTML(Hyper Test Markup Language è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€)ï¼Œæ­å»ºç½‘ç«™ç»“æ„ï¼Œæ˜¾ç¤ºç›¸å…³å…ƒç´  HTML5   HTML5 æŠ€æœ¯ç»“åˆäº† HTML4.01 çš„ç›¸å…³æ ‡å‡†å¹¶é©æ–°ï¼Œç¬¦åˆç°ä»£ç½‘ç»œå‘å±•è¦æ±‚ï¼Œåœ¨ 2008 å¹´æ­£å¼å‘å¸ƒã€‚HTML5 ç”±ä¸åŒçš„æŠ€æœ¯æ„æˆï¼Œå…¶åœ¨äº’è”ç½‘ä¸­å¾—åˆ°äº†éå¸¸å¹¿æ³›çš„åº”ç”¨ï¼Œæä¾›æ›´å¤šå¢å¼ºç½‘ç»œåº”ç”¨çš„æ ‡å‡†æœºã€‚ ä¸ä¼ ç»Ÿçš„æŠ€æœ¯ç›¸æ¯”ï¼ŒHTML5 çš„è¯­æ³•ç‰¹å¾æ›´åŠ æ˜æ˜¾ï¼Œå¹¶ä¸”ç»“åˆäº† SVG çš„å†…å®¹ã€‚è¿™äº›å†…å®¹åœ¨ç½‘é¡µä¸­ä½¿ç”¨å¯ä»¥æ›´åŠ ä¾¿æ·åœ°å¤„ç†å¤šåª’ä½“å†…å®¹ï¼Œè€Œä¸” HTML5ä¸­è¿˜ç»“åˆäº†å…¶ä»–å…ƒç´ ï¼Œå¯¹åŸæœ‰çš„åŠŸèƒ½è¿›è¡Œè°ƒæ•´å’Œä¿®æ”¹ï¼Œè¿›è¡Œæ ‡å‡†åŒ–å·¥ä½œã€‚ HTML5 åœ¨ 2012...</div></div></div></a><a class="pagination-related" href="/2024/10/02/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/3.%20JavaScript/" title="3. JavaScript"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-02</div><div class="info-item-2">3. JavaScript</div></div><div class="info-2"><div class="info-item-1">ç¬¬ä¸‰ç«  JavaScript1. JSç®€ä»‹1.1 JSèµ·æºå’Œç‰¹ç‚¹ JavaScriptï¼šç”±Netscape(ç½‘æ™¯)çš„LiveScriptå‘å±•è€Œæ¥çš„åŸºäºå¯¹è±¡çš„åŠ¨æ€ç±»å‹åŒºåˆ†å¤§å°å†™çš„å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€ï¼Œæœ€åˆç›®çš„æ˜¯ä¸ºäº†è§£å†³æœåŠ¡ç«¯è¯­è¨€ï¼Œä¸ºç”¨æˆ·æä¾›æµç•…çš„è®¿é—®é€Ÿåº¦ï¼Œè€Œå½“æ—¶æœåŠ¡ç«¯å¯¹æ•°æ®éªŒè¯æ…¢ï¼ŒNetscapeå…¬å¸çš„æµè§ˆå™¨Navigatoræä¾›äº†æ•°æ®éªŒè¯çš„åŸºæœ¬åŠŸèƒ½ ECMA-262æ˜¯æ­£å¼JavaScriptæ ‡å‡†ï¼ŒåŸºäº JavaScript (Netscape) å’ŒJScript (Microsoft)ï¼Œåœ¨1996å¹´å¼€å§‹ï¼Œ1997.7é‡‡çº³äº†é¦–ä¸ªç‰ˆæœ¬ JavaScriptæ­£å¼åç§°ä¸ºECMAScript JSåŒ…æ‹¬ECMAScriptã€DOMã€BOM  	 JSæ˜¯ä¸€ç§è¿è¡Œäºæµè§ˆå™¨ç«¯ä¸Šçš„å°è„šæœ¬è¯­å¥,å¯ä»¥å®ç°ç½‘é¡µå¦‚æ–‡æœ¬å†…å®¹åŠ¨,æ•°æ®åŠ¨æ€å˜åŒ–å’ŒåŠ¨ç”»ç‰¹æ•ˆç­‰ï¼Œ ç‰¹ç‚¹å¦‚ä¸‹  è„šæœ¬è¯­è¨€  è§£é‡Šå‹è„šæœ¬è¯­è¨€ï¼Œä¸åŒäºC&#x2F;C++ Java...</div></div></div></a><a class="pagination-related" href="/2024/09/15/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/4.%20XML_Tomcat_HTTP/" title="4. XML_Tomcat_HTTP"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-15</div><div class="info-item-2">4. XML_Tomcat_HTTP</div></div><div class="info-2"><div class="info-item-1">ç¬¬å››ç«  XML_Tomcat10_HTTP1. XML XMLï¼ˆEXtensible Markup Lanauage å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼‰ï¼ŒåŒå’ŒHTMLä¸€æ ·ï¼ŒåŸºæœ¬è¯­æ³•æ˜¯æ ‡ç­¾	 å¯æ‰©å±•ï¼šå«ä¹‰æ˜¯XMLå…è®¸è‡ªå®šä¹‰æ ¼å¼ åœ¨XMLè¯­æ³•è§„èŒƒåŸºç¡€ä¸Šï¼Œç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºã€æ¡†æ¶éƒ½ä¼šé€šè¿‡XMLçº¦æŸæ¥è§„å®šé…ç½®æ–‡ä»¶ä¸­å¯ä»¥å†™ä»€ä¹ˆä»¥åŠæ€ä¹ˆå†™ æˆ‘ä»¬åªéœ€åœ¨ç¬¬ä¸‰æ–¹APPæˆ–æ¡†æ¶ä¸Šå®šä¹‰å¥½çš„é…ç½®æ–‡ä»¶åŸºç¡€ä¸Šï¼Œæ ¹æ®éœ€æ±‚åŠ ä»¥ä¿®æ”¹å³å¯    	 1.1...</div></div></div></a><a class="pagination-related" href="/2025/05/06/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/6.%20Session_filter_listener/" title="6. Session_filter_listener"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-06</div><div class="info-item-2">6. Session_filter_listener</div></div><div class="info-2"><div class="info-item-1">ç¬¬å…­ç«  Session_filter_listener1. Session1.1 ä¸ºä»€ä¹ˆè¦Session HTTPæ˜¯æ— çŠ¶æ€åè®®(Stateless)ï¼Œå³HTTPåè®®æœ¬èº«ä¸ä¼šä¿å­˜è¯·æ±‚å’Œå“åº”çš„é€šä¿¡çŠ¶æ€ ä¾‹å¦‚ï¼Œåœ¨å®¢æˆ·ç«¯è¯·æ±‚â€”â€”æœåŠ¡ç«¯å›åº” çš„C&#x2F;Så“åº”æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡å™¨å¹¶ä¸ä¼šè®°å½•è¯¥è¯·æ±‚æ¥è‡ªäºå“ªä¸ªæµè§ˆå™¨ï¼Œå³å®¢æˆ·ç«¯çš„çŠ¶æ€ ç”Ÿæ´»ä¾‹å­ï¼šå¼ ä¸‰ä¸‹é¦†å­åƒäº†ä¸€æ¬¡ï¼Œç¬¬äºŒæ¬¡å†æ¥åƒï¼Œè€æ¿åœ¨æœ‰çŠ¶æ€çš„æƒ…å†µä¸‹çŸ¥é“å¼ ä¸‰ä¸Šæ¬¡åƒçš„å•¥ï¼Œåœ¨æ— çŠ¶æ€çš„æƒ…å†µä¸‹åˆ™ä¸çŸ¥é“ï¼Œéœ€è¦å¼ ä¸‰é‡æ–°ç‚¹   å¼•å‡ºä½¿ç”¨Cookieé…åˆSessionè§£å†³HTTPåè®®ä¸­è¯·æ±‚å’Œå“åº”çš„æŒä¹…åŒ–é—®é¢˜ Cookieè®°å½•å°‘é‡æ•°æ®ï¼Œé€šè¿‡å“åº”å¤´set-cookieæ¥å‘å®¢æˆ·ç«¯å“åº”ç”¨æˆ·è¦ä¿ç•™çš„ä¿¡æ¯ Sessionè®°å½•æ›´å¤šæ•°æ®ï¼Œé€šè¿‡HttpSessionå¯¹è±¡ä¿å­˜å’Œå®¢æˆ·ç«¯ç›¸å…³çš„ä¿¡æ¯ Sessionçš„ä¼ é€’é…åˆCookieä¸€èµ·ä½¿ç”¨ ç”Ÿæ´»ä¾‹å­ï¼šå¼ ä¸‰å»é“¶è¡ŒåŠä¸šåŠ¡ï¼Œé“¶è¡Œç»™å¼ ä¸‰å¼€æˆ·ï¼ˆSessionï¼‰ï¼Œå¹¶å‘äº†é“¶è¡Œå¡ï¼ˆCookieï¼‰ï¼Œåç»­å¼ ä¸‰é€šè¿‡Cookieç»™é“¶è¡Œï¼Œé“¶è¡Œå°±ä¼šé€šè¿‡CookieæŸ¥è¯¢åˆ°å¼ ä¸‰çš„Session    1.2 Cookie1.2.1...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">yuezi</div><div class="author-info-description">ç§¯å¾®è€…é€Ÿæˆ</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">785</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">66</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">91</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yuezi2048"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://githubfast.com/yuezi2048" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_46345703" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="https://qm.qq.com/cgi-bin/qm/qr?k=dD62GIPTf5-iS4UdSfJRy7NHwsrCh3-j" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:joyLing@stumail.nwu.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">ç§¯å¾®è€…é€Ÿæˆ</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-Servlet"><span class="toc-text">ç¬¬äº”ç«  Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Servlet%E7%AE%80%E4%BB%8B"><span class="toc-text">1. Servletç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Servlet%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B-%E9%AA%8C%E8%AF%81%E6%B3%A8%E5%86%8C%E6%A1%88%E4%BE%8B"><span class="toc-text">2. Servletå¼€å‘æµç¨‹(éªŒè¯æ³¨å†Œæ¡ˆä¾‹)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Servlet%E6%B3%A8%E8%A7%A3"><span class="toc-text">3. Servletæ³¨è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-WebServlet%E6%BA%90%E7%A0%81"><span class="toc-text">3.1 @WebServletæºç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-WebServlet%E4%BD%BF%E7%94%A8"><span class="toc-text">3.2 @WebServletä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Servlet%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">4. Servletç”Ÿå‘½å‘¨æœŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%80%E4%BB%8B"><span class="toc-text">4.1 ç”Ÿå‘½å‘¨æœŸç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95%E6%B5%8B%E8%AF%95"><span class="toc-text">4.2 ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æµ‹è¯•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E4%BD%BF%E7%94%A8%E7%BB%93%E8%AE%BA"><span class="toc-text">4.3 ä½¿ç”¨ç»“è®º</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Servlet%E6%BA%90%E7%A0%81%E8%BF%BD%E6%BA%AF%E5%92%8C%E7%BB%93%E8%AE%BA"><span class="toc-text">5. Servletæºç è¿½æº¯å’Œç»“è®º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%BB%A7%E6%89%BF%E7%BB%93%E6%9E%84"><span class="toc-text">5.1 ç»§æ‰¿ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">5.2 æºç åˆ†æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E7%BB%93%E8%AE%BA"><span class="toc-text">5.3 ç»“è®º</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-ServletConfig%E5%92%8CServletContext"><span class="toc-text">6. ServletConfigå’ŒServletContext</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-ServletConfig"><span class="toc-text">6.1 ServletConfig</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-ServletContext"><span class="toc-text">6.2 ServletContext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-ServletContext%E5%85%B6%E4%BB%96%E9%87%8D%E8%A6%81API"><span class="toc-text">6.3 ServletContextå…¶ä»–é‡è¦API</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-HttpServletRequest"><span class="toc-text">7. HttpServletRequest</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">7.1 æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E7%9B%B8%E5%85%B3API"><span class="toc-text">7.2 ç›¸å…³API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-API%E6%B5%8B%E8%AF%95"><span class="toc-text">7.3 APIæµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-HttpServletResponse"><span class="toc-text">8. HttpServletResponse</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">8.1 æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E7%9B%B8%E5%85%B3API"><span class="toc-text">8.2 ç›¸å…³API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E6%B5%8B%E8%AF%95"><span class="toc-text">8.3 æµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E5%92%8C%E5%93%8D%E5%BA%94%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">9. è¯·æ±‚è½¬å‘å’Œå“åº”é‡å®šå‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-%E6%A6%82%E5%BF%B5"><span class="toc-text">9.1 æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-text">9.2 è¯·æ±‚è½¬å‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%93%8D%E5%BA%94%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">9.3 å“åº”é‡å®šå‘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E4%B9%B1%E7%A0%81%E5%92%8C%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93"><span class="toc-text">10. ä¹±ç å’Œè·¯å¾„é—®é¢˜æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-text">10.1 ä¹±ç é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-text">10.2 è·¯å¾„é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-1-%E5%89%8D%E7%AB%AF%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-text">10.2.1 å‰ç«¯è·¯å¾„é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E5%AD%98%E5%9C%A8%E7%9A%84%E7%BC%BA%E9%99%B7%E5%92%8C%E6%94%B9%E8%BF%9B%E6%80%9D%E8%B7%AF"><span class="toc-text">è·¯å¾„å­˜åœ¨çš„ç¼ºé™·å’Œæ”¹è¿›æ€è·¯</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-2-%E9%87%8D%E5%AE%9A%E5%90%91%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-text">10.2.2 é‡å®šå‘è·¯å¾„é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-3-%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-text">10.2.3 è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-MVC%E7%BB%93%E6%9E%84%E6%A8%A1%E5%BC%8F"><span class="toc-text">11. MVCç»“æ„æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94%E6%97%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E7%AC%AC%E4%BA%8C%E6%9C%9F"><span class="toc-text">12. æ¡ˆä¾‹â€”â€”æ—¥ç¨‹ç®¡ç†ç¬¬äºŒæœŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-DB"><span class="toc-text">12.1 DB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84"><span class="toc-text">12.2 é¡¹ç›®æ¶æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-text">12.3 å·¥å…·ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4-pojo%E5%B1%82"><span class="toc-text">12.4 pojoå±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-5-Dao%E5%B1%82"><span class="toc-text">12.5 Daoå±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-6-Cotroller%E5%B1%82"><span class="toc-text">12.6 Cotrollerå±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-7-Service%E5%B1%82"><span class="toc-text">12.7 Serviceå±‚</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/22/Excalidraw/Drawing%202024-11-01%2015.37.37.excalidraw/" title="Drawing 2024-11-01 15.37.37.excalidraw">Drawing 2024-11-01 15.37.37.excalidraw</a><time datetime="2026-02-22T05:56:41.839Z" title="å‘è¡¨äº 2026-02-22 13:56:41">2026-02-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/22/2.Areas%F0%9F%8C%90/01.project/condefather/yupao/back-end/7.%E4%BC%98%E5%8C%96%E4%B8%BB%E9%A1%B5%E6%80%A7%E8%83%BD-%E4%BC%98%E5%8C%96%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE/" title="7.ä¼˜åŒ–ä¸»é¡µæ€§èƒ½-ä¼˜åŒ–æ‰¹é‡å¯¼å…¥æ•°æ®">7.ä¼˜åŒ–ä¸»é¡µæ€§èƒ½-ä¼˜åŒ–æ‰¹é‡å¯¼å…¥æ•°æ®</a><time datetime="2026-02-22T05:56:41.257Z" title="å‘è¡¨äº 2026-02-22 13:56:41">2026-02-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/31/2.Areas%F0%9F%8C%90/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/5.%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8/" title="5.å·¥å…·è°ƒç”¨">5.å·¥å…·è°ƒç”¨</a><time datetime="2026-01-31T03:54:22.000Z" title="å‘è¡¨äº 2026-01-31 11:54:22">2026-01-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/30/2.Areas%F0%9F%8C%90/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/4.RAG%E8%BF%9B%E9%98%B6/" title="4.RAGè¿›é˜¶">4.RAGè¿›é˜¶</a><time datetime="2026-01-30T13:23:42.000Z" title="å‘è¡¨äº 2026-01-30 21:23:42">2026-01-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/27/2.Areas%F0%9F%8C%90/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/3.RAG/" title="3.RAG">3.RAG</a><time datetime="2026-01-27T09:06:56.000Z" title="å‘è¡¨äº 2026-01-27 17:06:56">2026-01-27</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/default.png);"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2026 By yuezi</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>
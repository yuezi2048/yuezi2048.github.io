<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>8.前端工程化中篇_Vue3核心技术 | yuezi</title><meta name="author" content="yuezi"><meta name="copyright" content="yuezi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="6. Vue3视图渲染技术6.1 html——模板语法 Vue 使用一种基于 HTML 的模板语法，使我们能够声明式地将其组件实例的数据绑定到呈现的 DOM 上。 所有的 Vue 模板都是语法层面合法的 HTML，可以被符合规范的浏览器和 HTML 解析器解析。 在底层机制中，Vue 会将模板编译成高度优化的 JavaScript 代码。 结合响应式系统，当应用状态变更时，Vue 能够智能地推导出">
<meta property="og:type" content="article">
<meta property="og:title" content="8.前端工程化中篇_Vue3核心技术">
<meta property="og:url" content="https://yuezi2048.github.io/2024/10/03/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/8.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%AD%E7%AF%87_Vue3%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/index.html">
<meta property="og:site_name" content="yuezi">
<meta property="og:description" content="6. Vue3视图渲染技术6.1 html——模板语法 Vue 使用一种基于 HTML 的模板语法，使我们能够声明式地将其组件实例的数据绑定到呈现的 DOM 上。 所有的 Vue 模板都是语法层面合法的 HTML，可以被符合规范的浏览器和 HTML 解析器解析。 在底层机制中，Vue 会将模板编译成高度优化的 JavaScript 代码。 结合响应式系统，当应用状态变更时，Vue 能够智能地推导出">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yuezi2048.github.io/img/touxiang.jpg">
<meta property="article:published_time" content="2024-10-03T13:54:20.000Z">
<meta property="article:modified_time" content="2024-10-03T13:54:20.000Z">
<meta property="article:author" content="yuezi">
<meta property="article:tag" content="4.JavaWeb">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yuezi2048.github.io/img/touxiang.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "8.前端工程化中篇_Vue3核心技术",
  "url": "https://yuezi2048.github.io/2024/10/03/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/8.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%AD%E7%AF%87_Vue3%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/",
  "image": "https://yuezi2048.github.io/img/touxiang.jpg",
  "datePublished": "2024-10-03T13:54:20.000Z",
  "dateModified": "2024-10-03T13:54:20.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "yuezi",
      "url": "https://yuezi2048.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://yuezi2048.github.io/2024/10/03/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/8.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%AD%E7%AF%87_Vue3%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?bfb48b678d82bea9f9cc9d59227767e4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"FPH6F2TOJL","apiKey":"06d9ea26c803ba912b4d8e13404ed34d","indexName":"blog","hitsPerPage":6,"languages":{"input_placeholder":"搜索","hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，耗时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":350,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '8.前端工程化中篇_Vue3核心技术',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/backgound.css"><meta name="generator" content="Hexo 8.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">603</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">85</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/default.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">yuezi</span></a><a class="nav-page-title" href="/"><span class="site-name">8.前端工程化中篇_Vue3核心技术</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">8.前端工程化中篇_Vue3核心技术</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-10-03T13:54:20.000Z" title="发表于 2024-10-03 21:54:20">2024-10-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-03T13:54:20.000Z" title="更新于 2024-10-03 21:54:20">2024-10-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/">2.Areas🌐</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/">back-end-java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/4-JavaWeb/">4.JavaWeb</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">13.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>60分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="6-Vue3视图渲染技术"><a href="#6-Vue3视图渲染技术" class="headerlink" title="6. Vue3视图渲染技术"></a>6. Vue3视图渲染技术</h2><h3 id="6-1-html——模板语法"><a href="#6-1-html——模板语法" class="headerlink" title="6.1 html——模板语法"></a>6.1 html——模板语法</h3><blockquote>
<p>Vue 使用一种基于 HTML 的<code>模板语法</code>，使我们能够声明式地将其组件实例的数据绑定到呈现的 DOM 上。</p>
<p>所有的 Vue 模板都是语法层面合法的 HTML，可以被符合规范的浏览器和 HTML 解析器解析。</p>
<p>在底层机制中，Vue 会将模板编译成高度优化的 JavaScript 代码。</p>
<p>结合响应式系统，当应用状态变更时，Vue 能够智能地推导出需要重新渲染的组件的最少数量，并应用最少的 DOM 操作。</p>
</blockquote>
<h4 id="6-1-1-插值表达式"><a href="#6-1-1-插值表达式" class="headerlink" title="6.1.1 插值表达式"></a>6.1.1 插值表达式</h4><blockquote>
<p>插值表达式:最基本的数据绑定形式是文本插值，它使用的是“Mustache”语法 ,即双大括号</p>
</blockquote>
<ul>
<li>插值表达式<code>不依赖绝对标签</code>，位置自由</li>
<li>插值表达式支持的语法<ul>
<li>支持<strong>javascript的运算表达式</strong></li>
<li>支持<strong>函数的调用</strong></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  /*</span><br><span class="line">    插值表达式, 语法：&#123;&#123; 数据名称 / 函数 / API &#125;&#125;</span><br><span class="line">    插值表达式不依赖于标签</span><br><span class="line">  */</span><br><span class="line"></span><br><span class="line">  // 定义一些常见的数据</span><br><span class="line">  let msg = &quot;Hello&quot;;</span><br><span class="line">  let getMsg = () =&gt; &#123;</span><br><span class="line">    return &quot;Hello Vue3 Message&quot;;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  let age = 17;</span><br><span class="line">  let bee = &quot;蜜 蜂&quot;;</span><br><span class="line">  let carts = [</span><br><span class="line">    &#123; name : &quot;可乐&quot;,</span><br><span class="line">      price : 3,</span><br><span class="line">      count : 10,</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">      name : &quot;薯片&quot;,</span><br><span class="line">      price : 6,</span><br><span class="line">      count : 7,</span><br><span class="line">    &#125;,</span><br><span class="line">  ];</span><br><span class="line">  </span><br><span class="line">  // 定义商品总金额的方法</span><br><span class="line">  let compute = () =&gt; &#123;</span><br><span class="line">    let count = 0;</span><br><span class="line">    for (let index in carts) &#123;</span><br><span class="line">      count += carts[index].price * carts[index].count;</span><br><span class="line">    &#125;;</span><br><span class="line">    return count;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 将数据绑定到下面的元素上展示 --&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;</span><br><span class="line">    msg : &#123;&#123; msg &#125;&#125; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">     &lt;!-- 插值表达式也可以调用函数，将返回值渲染到指定位置 --&gt;</span><br><span class="line">    getMsg : &#123;&#123; getMsg() &#125;&#125; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 插值表达式支持常见的运算符 --&gt;</span><br><span class="line">    年龄 : &#123;&#123; age &#125;&#125; ,是否成年：&#123;&#123; age &gt;= 18 ? &#x27;是&#x27; : &#x27;否&#x27; &#125;&#125; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 插值表达式支持对象调用一些API --&gt;</span><br><span class="line">    &#123;&#123; bee.split(&#x27; &#x27;).reverse().join(&#x27;&#x27;) &#125;&#125; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 显示购物车总金额，可以用函数 注意函数要有返回值 --&gt;</span><br><span class="line">    &#123;&#123; carts[0].price * carts[0].count + carts[1].price * carts[1].count &#125;&#125; &lt;br&gt;</span><br><span class="line">    &#123;&#123; compute() &#125;&#125; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929215545520.png" alt="image-20240929215545520">	</p>
<h4 id="6-1-2-Text渲染-v-text-v-html"><a href="#6-1-2-Text渲染-v-text-v-html" class="headerlink" title="6.1.2 Text渲染 (v-text&#x2F;v-html)"></a>6.1.2 Text渲染 (v-text&#x2F;v-html)</h4><blockquote>
<p>为了渲染双标中的文本,我们也可以选择使用<code>v-text</code>和<code>v-html</code>命令</p>
</blockquote>
<ul>
<li>v-*** 这种写法的方式使用的是vue的命令</li>
<li>v-***的命令必须<code>依赖元素</code>,并且要写在元素的开始标签中</li>
<li>v-***支持的语法<ul>
<li>v-***指令支持ES6中的字符串模板</li>
<li>插值表达式中支持<strong>javascript的运算表达式</strong></li>
<li>插值表达式中也支持<strong>函数的调用</strong></li>
</ul>
</li>
<li>关于v-text和v-html<ul>
<li>v-text可以将数据渲染成双标签中间的文本,但是不识别html元素结构的文本</li>
<li>v-html可以将数据渲染成双标签中间的文本,识别html元素结构的文本</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  /*</span><br><span class="line">    v-test 不识别html结构文本</span><br><span class="line">    v-html 可以识别文本中的html命令，类似于innerHTML和innerText的区别</span><br><span class="line">    &#123;&#123; &#125;&#125; 插值表达式</span><br><span class="line">    v-*** vue指令</span><br><span class="line">        1. 命令必须依赖标签，在开始标签中使用</span><br><span class="line">  */</span><br><span class="line">  let msg = &quot;Hello Vue3&quot;;</span><br><span class="line">  </span><br><span class="line">  /* 命令支持字符串模板 */</span><br><span class="line">  let name = &#x27;zsh&#x27;;</span><br><span class="line">  let msg2 = `hello $&#123;name&#125;`;</span><br><span class="line"></span><br><span class="line">  /* 命令支持常见运算符 */</span><br><span class="line">  let age = 18;</span><br><span class="line"></span><br><span class="line">  /* 命令支持常见对象API调用 */</span><br><span class="line">  let bee = &#x27;蜜 蜂&#x27;;</span><br><span class="line"></span><br><span class="line">  /* 命令也支持函数的调用 */</span><br><span class="line">  let getMsg = () =&gt; &#123;</span><br><span class="line">    return &#x27;Hello Vue3&#x27;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  let fontMsg = &#x27;&lt;font color=&quot;red&quot;&gt;你好&lt;/font&gt;&#x27;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1 v-text=&quot;msg&quot;&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;h1 v-text=&quot;msg2&quot;&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;h1 v-text=&quot;`你好 $&#123;name&#125;`&quot;&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;h1 v-text=&quot;age &gt;= 18 ? &#x27;成年&#x27; : &#x27;未成年&#x27;&quot;&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;h1 v-text=&quot;bee.split(&#x27; &#x27;).reverse().join(&#x27;-&#x27;)&quot;&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;h1 v-text=&quot;getMsg()&quot;&gt;&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">    &lt;h1 v-html=&quot;fontMsg&quot;&gt;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929220133075.png" alt="image-20240929220133075" style="zoom: 50%;" />	

<h4 id="6-1-3-Attribute渲染-v-bind"><a href="#6-1-3-Attribute渲染-v-bind" class="headerlink" title="6.1.3 Attribute渲染 (v-bind)"></a>6.1.3 Attribute渲染 (v-bind)</h4><blockquote>
<p>想要渲染一个元素的 attribute，应该使用 <code>v-bind</code>指令</p>
</blockquote>
<ul>
<li>由于插值表达式不能直接放在标签的属性中,所有要渲染元素的属性就应该使用v-bind</li>
<li>v-bind可以用于渲染任何元素的属性,语法为 <code>v-bind:属性名=&#39;数据名&#39;</code>, 可以简写为 <code>:属性名=&#39;数据名&#39;</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  /*</span><br><span class="line">    v-bind 属性渲染命令</span><br><span class="line">    v-bind:属性名=&quot;数据名&quot; ==&gt; :属性名=&quot;数据名&quot;</span><br><span class="line">  */</span><br><span class="line">  const data = &#123;</span><br><span class="line">    name: &#x27;atguigu&#x27;,</span><br><span class="line">    url: &#x27;http://www.atguigu.com&#x27;,</span><br><span class="line">    logo: &#x27;http://www.atguigu.com/images/index_new/logo.png&#x27;,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;a v-bind:href=&quot;data.url&quot; target=&quot;_blank&quot;&gt;</span><br><span class="line">      &lt;img :src=&quot;data.logo&quot; :title=&quot;data.name&quot; /&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出，点击后跳转到尚硅谷的网页</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929220423431.png" alt="image-20240929220423431">	</p>
<h4 id="6-1-4-事件绑定-v-on-click"><a href="#6-1-4-事件绑定-v-on-click" class="headerlink" title="6.1.4 事件绑定 (v-on &#x2F; @click)"></a>6.1.4 事件绑定 (v-on &#x2F; @click)</h4><blockquote>
<p>我们可以使用 <code>v-on</code> 来监听 DOM 事件，并在事件触发时执行对应的 Vue的JavaScript代码。</p>
</blockquote>
<ul>
<li>用法：<code>v-on:click=&quot;handler&quot;</code> 或简写为 <code>@click=&quot;handler&quot;</code></li>
<li>vue中的事件名&#x3D;原生事件名去掉<code>on</code> 前缀   如:<code>onClick --&gt; click</code></li>
<li>handler的值可以是方法事件处理器,也可以是内联事件处理器</li>
<li>绑定事件时,可以通过一些绑定的修饰符,常见的事件修饰符如下<ul>
<li><code>.once：只触发一次事件。[重点]</code></li>
<li><code>.prevent：阻止默认事件。[重点]</code></li>
<li>.stop：阻止事件冒泡。</li>
<li>.capture：使用事件捕获模式而不是冒泡模式。</li>
<li>.self：只在事件发送者自身触发时才触发事件。</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">  /*</span><br><span class="line">    v-on:事件名=&quot;函数名(...)&quot;  ==&gt; @事件名=&quot;函数名(...)&quot;  </span><br><span class="line">    原生js事件名是 on*** onclick onblur onfocus..</span><br><span class="line">    而vue事件名去掉了on开头 如 click blur focus..</span><br><span class="line"></span><br><span class="line">  */</span><br><span class="line">  let counter = ref(1);</span><br><span class="line">  </span><br><span class="line">  let fun1 = () =&gt; &#123;</span><br><span class="line">    alert(counter.value);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  let fun2 = () =&gt; &#123;</span><br><span class="line">    counter.value++;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  // 该方法可以根据业务来控制是否阻止组件的默认行为,个人比较推荐</span><br><span class="line">  let fun3 = (event) =&gt; &#123;</span><br><span class="line">    let flag = confirm(&quot;确定要访问尚硅谷吗?&quot;)</span><br><span class="line">    if (!flag) &#123;</span><br><span class="line">      // 原生js代码方式 阻止默认行为</span><br><span class="line">      event.preventDefault();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  let fun4 = () =&gt; &#123;</span><br><span class="line">    alert(&quot;超链接被点击了 即将阻止a标签跳转默认行为&quot;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 事件的绑定函数 --&gt;</span><br><span class="line">    &lt;button v-on:click=&quot;fun1()&quot;&gt;execute fun1()&lt;/button&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 内联事件处理器 代码可以写里面 注意响应式数据不用加.value --&gt;</span><br><span class="line">    &lt;button @click=&quot;fun2()&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;counter++&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 事件的修饰符 .once表示只绑定一次 prevent表示阻止组件默认行为 --&gt;</span><br><span class="line">    &lt;button @click.once=&quot;counter--&quot;&gt;-&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">    &#123;&#123; counter &#125;&#125;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line"></span><br><span class="line">    &lt;a href=&quot;https://www.atguigu.com&quot; @click=&quot;fun3($event)&quot; target=&quot;_blank&quot;&gt;跳转到尚硅谷...&lt;/a&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;a href=&quot;https://www.atguigu.com&quot; @click.prevent=&quot;fun4()&quot;&gt;跳转到尚硅谷(阻止点击后的默认行为)...&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929220737096.png" alt="image-20240929220737096" style="zoom: 80%;" />	

<h3 id="6-2-js——响应式变量"><a href="#6-2-js——响应式变量" class="headerlink" title="6.2 js——响应式变量"></a>6.2 js——响应式变量</h3><blockquote>
<p>此处的响应式是指  : 数据模型发生变化时,自动更新DOM树内容,页面上显示的内容会进行同步变化,vue3的数据模型不是自动响应式的,需要我们做一些特殊的处理</p>
</blockquote>
<h4 id="6-2-1-为什么要响应式变量"><a href="#6-2-1-为什么要响应式变量" class="headerlink" title="6.2.1 为什么要响应式变量"></a>6.2.1 为什么要响应式变量</h4><p>实现 +  - 按钮,实现数字加一减一，如果使用正常的let counter &#x3D; 0; 会发现counter的值会改变但是页面不改变！</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot; setup&gt;</span><br><span class="line">    let counter = 0;</span><br><span class="line">    function show()&#123;</span><br><span class="line">        alert(counter);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;counter--&quot;&gt;-&lt;/button&gt; </span><br><span class="line">    &#123;&#123; counter &#125;&#125; </span><br><span class="line">    &lt;button @click=&quot;counter++&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;!-- 此案例,我们发现counter值,会改变,但是页面不改变! 默认Vue3的数据是非响应式的!--&gt;</span><br><span class="line">    &lt;button @click=&quot;show()&quot;&gt;显示counter值&lt;/button&gt;</span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">&lt;/template&gt; </span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="6-2-2-响应式变量-ref-reactive"><a href="#6-2-2-响应式变量-ref-reactive" class="headerlink" title="6.2.2 响应式变量 (ref reactive)"></a>6.2.2 响应式变量 (ref reactive)</h4><ul>
<li><code>ref</code> 可以将一个基本类型的数据（如字符串，数字等）转换为一个响应式对象。 <code>ref</code> 只能包裹单一元素<ul>
<li>在上面的例子中，我们使用 <code>ref</code> 包裹了一个数字，在代码中给这个数字加 1 后，视图也会跟着动态更新。</li>
<li>需要注意的是，由于使用了 <code>ref</code>，因此需要在访问该对象时使用 <code>.value</code> 来获取其实际值。</li>
</ul>
</li>
<li>我们可以使用 <a target="_blank" rel="noopener" href="https://cn.vuejs.org/api/reactivity-core.html#reactive" title="reactive()">reactive()</a> 函数创建一个响应式对象或数组：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; ref, reactive, toRef, toRefs &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">  /*</span><br><span class="line">    让普通数据转换为响应式数据,有两种方式:</span><br><span class="line">      1. ref函数        更适合单个变量</span><br><span class="line">          在script标签中操作ref响应式数据,需要通过.value</span><br><span class="line">          在template标签中操作ref响应式数据,无需通过.value</span><br><span class="line">      2. reactive函数   更适合对象</span><br><span class="line">          不管在script标签,还是在template标签操作响应式数据,均无需通过.value</span><br><span class="line">  */</span><br><span class="line">  let counter = ref(10);</span><br><span class="line"></span><br><span class="line">  let person = reactive(&#123;</span><br><span class="line">      name: &#x27;ljy&#x27;,</span><br><span class="line">      age: 20,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // 以下两个函数在实际开发中使用较少  </span><br><span class="line">  // toRef函数    将reactive响应式数据中某个属性转换为ref响应式数据</span><br><span class="line">  // toRefs函数   同时将reactive响应式数据中所有属性转换为ref响应式数据</span><br><span class="line"></span><br><span class="line">  let pAge = toRef(person, &#x27;age&#x27;);</span><br><span class="line"></span><br><span class="line">  function refAgeIncre() &#123;</span><br><span class="line">    pAge.value++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  let &#123;name, age&#125; = toRefs(person);</span><br><span class="line">  function refsAgeIncre() &#123;</span><br><span class="line">    age.value++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function cntIncre() &#123;</span><br><span class="line">    counter.value++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function ageIncre() &#123;</span><br><span class="line">    person.age++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;cntIncre()&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;counter--&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    counter: &#123;&#123; counter &#125;&#125;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;button @click=&quot;ageIncre()&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;person.age--&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    age: &#123;&#123; person.age &#125;&#125;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;button @click=&quot;refAgeIncre()&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;pAge--&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    pAge: &#123;&#123; pAge &#125;&#125;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;button @click=&quot;refsAgeIncre()&quot;&gt;+&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;age--&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    pAge2: &#123;&#123; age &#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>实现效果</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929221248652.png" alt="image-20240929221248652" style="zoom: 67%;" />	

<h4 id="6-2-3-ref-vs-reactive"><a href="#6-2-3-ref-vs-reactive" class="headerlink" title="6.2.3 ref vs reactive"></a>6.2.3 ref vs reactive</h4><ul>
<li><p>使用 <code>ref</code> 适用于以下开发场景：</p>
<ul>
<li>包装基本类型数据：<code>ref</code> 主要用于包装基本类型数据（如字符串、数字等），即只有一个值的数据，如果你想监听这个值的变化，用 <code>ref</code> 最为方便。在组件中使用时也很常见。</li>
<li>访问方式简单：<code>ref</code> 对象在访问时与普通的基本类型值没有太大区别，只需要通过 <code>.value</code> 访问其实际值即可。</li>
</ul>
</li>
<li><p>使用 <code>reactive</code> 适用于以下开发场景：</p>
<ul>
<li>包装复杂对象：<code>reactive</code> 可以将一个普通对象转化为响应式对象，这样在数据变化时会自动更新界面，特别适用于处理复杂对象或者数据结构。</li>
<li>需要递归监听的属性：使用 <code>reactive</code> 可以递归追踪所有响应式对象内部的变化，从而保证界面的自动更新。</li>
</ul>
</li>
<li><p>综上所述，<code>ref</code> 适用与简单情形下的数据双向绑定，对于只有一个字符等基本类型数据或自定义组件等情况，建议可以使用 <code>ref</code>；而对于对象、函数等较为复杂的数据结构，以及需要递归监听的属性变化，建议使用 <code>reactive</code>。当然，在实际项目中根据需求灵活选择也是十分必要的。</p>
</li>
</ul>
<h3 id="6-3-条件渲染和列表渲染"><a href="#6-3-条件渲染和列表渲染" class="headerlink" title="6.3 条件渲染和列表渲染"></a>6.3 条件渲染和列表渲染</h3><h4 id="6-3-1-条件渲染-v-if"><a href="#6-3-1-条件渲染-v-if" class="headerlink" title="6.3.1 条件渲染 (v-if)"></a>6.3.1 条件渲染 (v-if)</h4><blockquote>
<p><code>v-if</code> 条件渲染</p>
</blockquote>
<ul>
<li><code>v-if</code>表示条件为真时，才渲染该标签内的内容<ul>
<li>支持<code>v-else</code>来为v-if添加”else区块”（必须跟在v-if元素后）</li>
</ul>
</li>
</ul>
<blockquote>
<p><code>v-show</code>条件渲染扩展：</p>
</blockquote>
<ul>
<li><code>v-show</code>也同样是按照条件是否为真来渲染元素</li>
<li>区别：<ul>
<li>v-show会在DOM渲染保留元素，仅切换了CSS样式中的<code>display</code>属性</li>
<li>v-show不支持在 <code>&lt;template&gt;</code> 元素上使用，也不能和 <code>v-else</code> 搭配使用（&lt;template&gt; 标签本身并不渲染为真实的 DOM 元素，需要用子标签）。</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">  let flag = ref(true);</span><br><span class="line"></span><br><span class="line">  /*</span><br><span class="line">    v-if = &quot;表达式 / 数据&quot; 数据为true,则将该元素渲染进入DOM树</span><br><span class="line">    v-else 自动和前一个v-if做取反操作,相当于java的if-else语句</span><br><span class="line"></span><br><span class="line">    v-show = &quot;&quot; 数据为true 元素则展示到页面上,否则不展示</span><br><span class="line"></span><br><span class="line">    注:当条件为false时,v-if对应的元素不在DOM树中,v-show对应的元素仍然在DOM树中,只是控制CSS的display:none隐藏而已</span><br><span class="line">    在频繁切换的条件下,v-if会频繁创建销毁元素,因此性能较差,v-show更适合用于频繁切换的场景,条件变化少适合用v-if</span><br><span class="line">  */</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1 id=&quot;ha&quot; v-if=&quot;flag&quot;&gt;vue is awesome&lt;/h1&gt;</span><br><span class="line">    &lt;h1 id=&quot;hb&quot; v-else&gt;oh no&lt;/h1&gt;</span><br><span class="line">    &lt;h1 id=&quot;hc&quot; v-show=&quot;flag&quot;&gt;hahahhh&lt;/h1&gt;</span><br><span class="line">    &lt;button @click=&quot;flag = !flag&quot;&gt;toggle&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>实现效果</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929221808727.png" alt="image-20240929221808727" style="zoom:50%;" />	

<p>v-show说明</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929222520341.png" alt="image-20240929222520341" style="zoom: 80%;" />	

<h4 id="6-3-2-列表渲染-v-for"><a href="#6-3-2-列表渲染-v-for" class="headerlink" title="6.3.2 列表渲染 (v-for)"></a>6.3.2 列表渲染 (v-for)</h4><ul>
<li>在渲染一个列表的时候，可以使用<code>v-for</code>来借助数组来渲染</li>
</ul>
<ul>
<li><p>语法：<code>item in items</code>，item是迭代项的别名，items是原数据的数组</p>
<ul>
<li>支持使用可选的第二个参数index表示当前项目的<code>索引</code></li>
</ul>
</li>
<li><p><code>v-for</code>块可以完整地访问父作用域的属性和变量</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">import &#123; ref, reactive &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">  let pro = ref(&quot;产品&quot;);</span><br><span class="line"></span><br><span class="line">  let items = reactive([</span><br><span class="line">    &#123;</span><br><span class="line">      id: &quot;item1&quot;,</span><br><span class="line">      name: &quot;薯片&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &quot;item2&quot;,</span><br><span class="line">      name: &quot;可乐&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: &quot;item3&quot;,</span><br><span class="line">      name: &quot;炸鸡&quot;,</span><br><span class="line">    &#125;</span><br><span class="line">  ]);  </span><br><span class="line"></span><br><span class="line">  let carts = reactive([</span><br><span class="line">    &#123;</span><br><span class="line">      name: &quot;可乐&quot;,</span><br><span class="line">      price: 3,</span><br><span class="line">      number: 5,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: &quot;薯片&quot;,</span><br><span class="line">      price: 5,</span><br><span class="line">      number: 3,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: &quot;炸鸡&quot;,</span><br><span class="line">      price: 12,</span><br><span class="line">      number: 2,</span><br><span class="line">    &#125;,</span><br><span class="line">  ]);</span><br><span class="line"></span><br><span class="line">  // 计算总金额</span><br><span class="line">  function compute () &#123;</span><br><span class="line">    let total = 0;</span><br><span class="line">    for (let index in carts) &#123;</span><br><span class="line">      total += carts[index].price * carts[index].number;</span><br><span class="line">    &#125;</span><br><span class="line">    return total;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 从购物车当中移除商品</span><br><span class="line">  function removeCart(index) &#123;</span><br><span class="line">    carts.splice(index, 1);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 清空购物车</span><br><span class="line">  function clearCarts() &#123;</span><br><span class="line">    // 调用API清除</span><br><span class="line">    carts.splice(0, carts.length);</span><br><span class="line">    // carts = reactive([]); // 该方法只是更换了引用,但没有改变内部属性,而Vue响应式跟踪的是元素属性而不是引用 因此该方法无效</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;您的购物车如下:&lt;/h1&gt;</span><br><span class="line">    &lt;table border=&quot;1px&quot;&gt;</span><br><span class="line">      &lt;thead&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">          &lt;th&gt;序号&lt;/th&gt;</span><br><span class="line">          &lt;th&gt;商品名称&lt;/th&gt;</span><br><span class="line">          &lt;th&gt;价格&lt;/th&gt;</span><br><span class="line">          &lt;th&gt;数量&lt;/th&gt;</span><br><span class="line">          &lt;th&gt;小计&lt;/th&gt;</span><br><span class="line">          &lt;th&gt;操作&lt;/th&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">      &lt;/thead&gt;</span><br><span class="line">      &lt;!-- 当购物车中有购物项时展示该tbody --&gt;</span><br><span class="line">      &lt;tbody v-if=&quot;carts.length &gt; 0&quot;&gt;</span><br><span class="line">        &lt;tr v-for=&quot;(cart, index) in carts&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">          &lt;td v-text=&quot;index + 1&quot;&gt;&lt;/td&gt;</span><br><span class="line">          &lt;td v-text=&quot;cart.name&quot;&gt;&lt;/td&gt;</span><br><span class="line">          &lt;td v-text=&quot;cart.price&quot;&gt;&lt;/td&gt;</span><br><span class="line">          &lt;td v-text=&quot;cart.number&quot;&gt;&lt;/td&gt;</span><br><span class="line">          &lt;td v-text=&quot;cart.price * cart.number&quot;&gt;&lt;/td&gt;</span><br><span class="line">          &lt;td&gt;</span><br><span class="line">            &lt;button @click=&quot;removeCart(index)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">          &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">      &lt;/tbody&gt;</span><br><span class="line">      &lt;!-- 当购物车为空时展示该tbody --&gt;</span><br><span class="line">       &lt;tbody v-else&gt;</span><br><span class="line">         &lt;tr&gt;</span><br><span class="line">           &lt;td colspan=&quot;6&quot;&gt;购物车空空如也...&lt;/td&gt;</span><br><span class="line">         &lt;/tr&gt;</span><br><span class="line">       &lt;/tbody&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">    购物车总金额 &#123;&#123; compute() &#125;&#125; 元</span><br><span class="line">    &lt;button @click=&quot;clearCarts()&quot;&gt;一键清空购物车&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;(item, index) in items&quot; :key=&quot;item.name&quot;&gt;</span><br><span class="line">        &#123;&#123; pro &#125;&#125;&#123;&#123; index + 1 &#125;&#125; &#123;&#123; item.name &#125;&#125;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929221951106.png" alt="image-20240929221951106" style="zoom:67%;" />	

<h3 id="6-4-双向绑定v-model"><a href="#6-4-双向绑定v-model" class="headerlink" title="6.4 双向绑定v-model"></a>6.4 双向绑定v-model</h3><blockquote>
<p>单项绑定和双向绑定</p>
</blockquote>
<ul>
<li><code>单向绑定</code>: 响应式数据变化会更新到DOM树上，但在DOM树上用户的操作造成的数据改变不会更新到<code>响应式数据</code>上</li>
<li><code>双向绑定</code>: 在单项绑定的更新基础上，用户的操作也可以更新到<code>响应式数据</code>上<ul>
<li>用户操作修改响应式数据，一般是需要通过表单标签，所以双向绑定一般用在表单标签上，其他的就不行</li>
<li><code>v-model</code>专门用于双向绑定表单标签的value属性,语法为 <code>v-model:value=&#39;&#39;</code>,可以简写为 <code>v-model=&#39;&#39;</code></li>
<li>v-model支持各种不同类型的输入，例如<code>&lt;textarea&gt;</code>、<code>&lt;select&gt;</code> 元素。</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; ref, reactive &#125; from &#x27;vue&#x27;</span><br><span class="line">  /*</span><br><span class="line">    单项绑定 v-bind: js的响应式数据发生变化时,会更新DOM树, 但用户操作造成页面内容改变后,并不会影响响应式数据</span><br><span class="line">    双向绑定 v-model : 用户操作造成页面内容改变,也会同样更改响应式数据</span><br><span class="line">        双向绑定一般用于表单标签, 如input, textarea, select等</span><br><span class="line">        双向绑定因此也有人称之为收集表单信息的命令</span><br><span class="line">        v-model:value=&quot;数据&quot;(vue3省略value, 写成v-model)    双向绑定</span><br><span class="line">        一般简写为 :value=&quot;数据&quot;</span><br><span class="line">  */</span><br><span class="line"></span><br><span class="line">  const inputValue = ref(&#x27;aaa&#x27;);</span><br><span class="line"></span><br><span class="line">  let user = reactive(&#123;</span><br><span class="line">    username : &#x27;ljy&#x27;,</span><br><span class="line">    password : &#x27;123456&#x27;,</span><br><span class="line">    intro: &#x27;&#x27;,</span><br><span class="line">    province: &#x27;&#x27;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  let hbs = ref([]);</span><br><span class="line"></span><br><span class="line">  let clearForm = () =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    // 还是前面的问题,vue绑定追踪的是数据的属性值而不是引用</span><br><span class="line">    // 所以直接修改user是无效的,需要一个个属性重新赋值</span><br><span class="line">    inputValue.value = &#x27;&#x27;;</span><br><span class="line">    user.username = &#x27;&#x27;;</span><br><span class="line">    user.password = &#x27;&#x27;;</span><br><span class="line">    user.intro = &#x27;&#x27;;</span><br><span class="line">    user.province = &#x27;&#x27;;</span><br><span class="line"></span><br><span class="line">    // 注意ref响应变量 在调用API时，都要加上value，否则会提示hbs.splice is not a function</span><br><span class="line">    // 这里别人抛出了一个js弱类型的坑 我后续遇到了要注意，在select绑定单个变量的时候hbs数据类型会从数组自动变成String，导致splice方法不能用，要手动转回来</span><br><span class="line">    hbs.value.splice(0, hbs.value.length);</span><br><span class="line">    // hbs.value = []; // 这里ref.value=[]好像能正常进行业务，不过还是尽量用上面的方法，这样不管ref还是reactive都能统一处理</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;inputValue&quot;&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &#123;&#123; inputValue &#125;&#125;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;user.username&quot;&gt; &lt;br&gt;</span><br><span class="line">    &lt;input type=&quot;password&quot; v-model=&quot;user.password&quot;&gt; &lt;br&gt;</span><br><span class="line">    &lt;!-- 注意复选框要指定value 否则只能加入一个on --&gt;</span><br><span class="line">    爱好: &lt;br&gt;</span><br><span class="line">      唱 &lt;input type=&quot;checkbox&quot; name=&quot;hobbiesCheckbox&quot; v-model=&quot;hbs&quot; value=&quot;sing&quot;&gt; </span><br><span class="line">      跳 &lt;input type=&quot;checkbox&quot; name=&quot;hobbiesCheckbox&quot; v-model=&quot;hbs&quot; value=&quot;dance&quot;&gt; </span><br><span class="line">      rap &lt;input type=&quot;checkbox&quot; name=&quot;hobbiesCheckbox&quot; v-model=&quot;hbs&quot; value=&quot;rap&quot;&gt; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!-- 在radio中 同一个name属性会有互斥效果,而复选框则没有 --&gt;</span><br><span class="line">      &lt;!-- 篮球 &lt;input type=&quot;radio&quot; name=&quot;hobbiesRadio&quot; v-model=&quot;hbs&quot; value=&quot;basketball&quot;&gt; </span><br><span class="line">      及你太美 &lt;input type=&quot;radio&quot; name=&quot;hobbiesRadio&quot; v-model=&quot;hbs&quot; value=&quot;jinitaimei&quot;&gt; &lt;br&gt; --&gt;</span><br><span class="line"></span><br><span class="line">    简介 &lt;textarea name=&quot;user-intro&quot; id=&quot;user-intro&quot; cols=&quot;30&quot; rows=&quot;10&quot; v-model=&quot;user.intro&quot;&gt;&lt;/textarea&gt; &lt;br&gt;</span><br><span class="line">    籍贯 </span><br><span class="line">    &lt;select v-model=&quot;user.province&quot;&gt;</span><br><span class="line">      &lt;option value=&quot;1&quot;&gt;京&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;2&quot;&gt;津&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;3&quot;&gt;冀&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">    &lt;button @click=&quot;clearForm()&quot;&gt;清空数据&lt;/button&gt; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">    user:&#123;&#123; user &#125;&#125; &lt;br&gt;</span><br><span class="line">    hobbies: &#123;&#123; hbs &#125;&#125; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试结果</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929222135064.png" alt="image-20240929222135064" style="zoom:67%;" />	

<h3 id="6-5-属性计算computed"><a href="#6-5-属性计算computed" class="headerlink" title="6.5 属性计算computed"></a>6.5 属性计算computed</h3><h4 id="6-5-1-为什么要computed"><a href="#6-5-1-为什么要computed" class="headerlink" title="6.5.1 为什么要computed"></a>6.5.1 为什么要computed</h4><p>模板中的表达式虽然方便，但也只能用来做简单的操作。如果在模板中写太多逻辑，会让模板变得臃肿，难以维护。比如说，我们有这样一个包含嵌套数组的对象：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot; setup&gt;</span><br><span class="line">  //引入模块</span><br><span class="line">  import &#123; reactive,computed&#125; from &#x27;vue&#x27;</span><br><span class="line">  const author = reactive(&#123;</span><br><span class="line">    name: &#x27;John Doe&#x27;,</span><br><span class="line">    books: [</span><br><span class="line">      &#x27;Vue 2 - Advanced Guide&#x27;,</span><br><span class="line">      &#x27;Vue 3 - Basic Guide&#x27;,</span><br><span class="line">      &#x27;Vue 4 - The Mystery&#x27;</span><br><span class="line">    ]</span><br><span class="line">  &#125;)</span><br><span class="line"> </span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;author.name&#125;&#125; Has published books?:&lt;/p&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123; author.books.length &gt; 0 ? &#x27;Yes&#x27; : &#x27;No&#x27; &#125;&#125;&lt;/span&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt; </span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>这里的模板看起来有些复杂。我们必须认真看好一会儿才能明白它的计算依赖于 <code>author.books</code>。更重要的是，如果在模板中需要不止一次这样的计算，我们可不想将这样的代码在模板里重复好多遍。</p>
<p><code>计算属性缓存</code> vs <code>方法</code></p>
<ul>
<li>如果定义为一个普通方法hasPublished，而不是computed计算属性，结果是一样的</li>
<li>但不同之处：计算属性值会<strong>基于响应式依赖被缓存</strong>，即计算属性仅会在响应式依赖更新才重新计算，这意味着只要auther.boks不改变，无论访问多少次，都会直接返回先前的结果</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">import &#123; reactive, computed &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">  /*</span><br><span class="line">    计算属性</span><br><span class="line">  */</span><br><span class="line">  const author = reactive(&#123;</span><br><span class="line">    name: &#x27;张三&#x27;,</span><br><span class="line">    books: [&quot;java从入门到放弃&quot;, &quot;算法&quot;, &quot;mySQL从入门到放弃&quot;]</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  // 通过方法返回数据，每使用一次，执行一次</span><br><span class="line">  function hasPublished() &#123;</span><br><span class="line">    console.log(&quot;hasPublished()&quot;);</span><br><span class="line">    return author.books.length &gt; 0 ? &quot;是&quot; : &quot;否&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 我们可以把计算属性 获得一个响应式数据</span><br><span class="line">  // 如果数据没有变化，则直接使用上次的结果，不会重新计算</span><br><span class="line">  // 适合大量复杂的计算</span><br><span class="line">  let bookMessage = computed(() =&gt; &#123;</span><br><span class="line">    console.log(&quot;bookMessage&quot;);</span><br><span class="line">    return author.books.length &gt; 0 ? &quot;是&quot; : &quot;否&quot;;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;作者：&#123;&#123; author.name &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;!-- 执行了多次函数 --&gt;</span><br><span class="line">    是否出版过图书：&#123;&#123; hasPublished() &#125;&#125; &lt;br&gt;</span><br><span class="line">    是否出版过图书：&#123;&#123; hasPublished() &#125;&#125; &lt;br&gt;</span><br><span class="line">    是否出版过图书：&#123;&#123; hasPublished() &#125;&#125; &lt;br&gt;</span><br><span class="line">    &lt;!-- 通过计算属性只执行了一次，因为调用的是响应式变量，第一次调用没有变化的话，直接使用上次的结果 --&gt;</span><br><span class="line">    是否出版过图书：&#123;&#123; bookMessage &#125;&#125;</span><br><span class="line">    是否出版过图书：&#123;&#123; bookMessage &#125;&#125;</span><br><span class="line">    是否出版过图书：&#123;&#123; bookMessage &#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试结果</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002195850638.png" alt="image-20241002195850638" style="zoom:67%;" />		

<h3 id="6-6-数据监听器-watch"><a href="#6-6-数据监听器-watch" class="headerlink" title="6.6 数据监听器 watch"></a>6.6 数据监听器 watch</h3><blockquote>
<p>上述说到，computed就是响应式数据的缓存直接拿来用，只有变化后才重新计算。</p>
<p>而响应式数据状态变化（例如更改 DOM，或是根据异步操作的结果去修改另一处的状态）时，我们可以通过数据监听器<a target="_blank" rel="noopener" href="https://cn.vuejs.org/api/reactivity-core.html#watch" title="watch">watch</a><a target="_blank" rel="noopener" href="https://cn.vuejs.org/api/reactivity-core.html#watch" title=" 函数"> 函数</a>在每次响应式状态发生变化时触发回调函数：</p>
</blockquote>
<ul>
<li><p>watch主要用于以下场景：</p>
<ul>
<li>当数据发生变化时需要执行相应的操作</li>
<li>监听数据变化，当满足一定条件时触发相应操作</li>
<li>在异步操作前或操作后需要执行相应的操作</li>
</ul>
</li>
<li><p>watchEffect默认监听所有的响应式数据</p>
</li>
</ul>
<blockquote>
<p><code>watch</code> vs. <code>watchEffect</code></p>
</blockquote>
<ul>
<li><code>watch</code> 和 <code>watchEffect</code> 都能响应式地执行有副作用的回调。它们之间的主要区别是追踪响应式依赖的方式：<ul>
<li><code>watch</code> 只追踪明确侦听的数据源。它不会追踪任何在回调中访问到的东西。另外，仅在数据源确实改变时才会触发回调。<code>watch</code> 会避免在发生副作用时追踪依赖，因此，我们能更加精确地控制回调函数的触发时机。<ul>
<li>追踪ref</li>
<li>追踪reactive单个成员</li>
<li>追踪reactive所有成员</li>
</ul>
</li>
<li><code>watchEffect</code>，则会在副作用发生期间追踪依赖。它会在同步执行过程中，自动追踪所有能访问到的响应式属性。这更方便，而且代码往往更简洁，但有时其响应性依赖关系会不那么明确。</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; ref, reactive, watch, watchEffect &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">  let fullName = ref(&#x27;&#x27;);</span><br><span class="line">  let firstName = ref(&#x27;李&#x27;);</span><br><span class="line">  let lastName = reactive(&#123;</span><br><span class="line">    name: &quot;四&quot;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // 通过watch监听ref响应式数据</span><br><span class="line">  // 当firstName变化时，传入旧值和新值，执行函数</span><br><span class="line">  // watch(firstName, (newVal, oldVal) =&gt; &#123;</span><br><span class="line">  //   console.log(`firstName $&#123;oldVal&#125; =&gt; $&#123;newVal&#125;`);</span><br><span class="line">  //   fullName.value = newVal + lastName.name;</span><br><span class="line">  // &#125;)</span><br><span class="line"></span><br><span class="line">  // 通过watch监听reactive响应式数据（专门用于监听reactive对象的一个属性）</span><br><span class="line">  // 写法：前面的参数要写成 ()=&gt;lastName.name 的函数形式</span><br><span class="line">  // watch(() =&gt; lastName.name, (newVal, oldVal) =&gt; &#123;</span><br><span class="line">  //   console.log(`lastName.name $&#123;oldVal&#125; =&gt; $&#123;newVal&#125;`);</span><br><span class="line">  //   fullName.value = firstName.value + newVal;</span><br><span class="line">  // &#125;);</span><br><span class="line">  </span><br><span class="line">  // 通过watch监听reactive响应式数据（用于监听reactive对象的所有属性）</span><br><span class="line">  // 前面的参数要写成 ()=&gt;lastName , 后面要加上&#123;deep: true&#125;表示深度监听，</span><br><span class="line">  // 还可以加上immediate: true 表示监听器 加载的时候就先执行一次，而不是等监听到变化后才执行</span><br><span class="line">  // watch((() =&gt; lastName), (newVal, oldVal) =&gt; &#123;</span><br><span class="line">  //   fullName.value = firstName.value + lastName.name;</span><br><span class="line">  // &#125;, &#123; deep: true, immediate: true &#125;);</span><br><span class="line"></span><br><span class="line">  // 使用watchEffect监听函数同时监听ref和reactive的变化，可以同时监听，并且写法一样</span><br><span class="line">  // 任何响应式数据发生变化，如果想监听，直接监听即可，无需将数据作为参数传入</span><br><span class="line">  // 只要使用了相关响应式数据，就会自动监听该数据的变化</span><br><span class="line">  watchEffect(() =&gt; &#123;</span><br><span class="line">    fullName.value = firstName.value + lastName.name;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // 数据监听场景不多，开发中更多的是用表单的双向绑定，但需要了解一下响应式数据的监听机制</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 需求：输入姓氏和名字，自动生成全名，要求通过监听机制实现 --&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    姓氏：&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br&gt;</span><br><span class="line">    名字：&lt;input type=&quot;text&quot; v-model=&quot;lastName.name&quot;&gt; &lt;br&gt;</span><br><span class="line">    全名：&#123;&#123; fullName &#125;&#125;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试结果</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929222247886.png" alt="image-20240929222247886">	</p>
<h3 id="6-7-Vue生命周期"><a href="#6-7-Vue生命周期" class="headerlink" title="6.7 Vue生命周期"></a>6.7 Vue生命周期</h3><h4 id="6-7-1-生命周期简介"><a href="#6-7-1-生命周期简介" class="headerlink" title="6.7.1 生命周期简介"></a>6.7.1 生命周期简介</h4><p>每个 Vue 组件实例在创建时都需要经历一系列的初始化步骤，比如设置好数据侦听，编译模板，挂载实例到 DOM，以及在数据改变时更新 DOM。在此过程中，它也会运行被称为<code>生命周期钩子的函数</code>，让开发者有机会在特定阶段运行自己的代码!</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929222724198.png" alt="image-20240929222724198" style="zoom: 50%;" />	

<p>常见钩子函数</p>
<ul>
<li>onMounted()              注册一个回调函数，在组件挂载完成后执行。 </li>
<li>onUpdated()               注册一个回调函数，在组件因为响应式状态变更而更新其 DOM 树之后调用。 </li>
<li>onUnmounted()         注册一个回调函数，在组件实例被卸载之后调用。 </li>
<li>onBeforeMount()       注册一个钩子，在组件被挂载之前被调用。 </li>
<li>onBeforeUpdate()      注册一个钩子，在组件即将因为响应式状态变更而更新其 DOM 树之前调用。 </li>
<li>onBeforeUnmount()  注册一个钩子，在组件实例被卸载之前调用。</li>
</ul>
<h4 id="6-7-2-生命周期案例"><a href="#6-7-2-生命周期案例" class="headerlink" title="6.7.2 生命周期案例"></a>6.7.2 生命周期案例</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; ref, onBeforeMount, onMounted, onBeforeUpdate, onUpdated &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">  // 挂载之前</span><br><span class="line">  onBeforeMount(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;----------onBeforeMount----------&#x27;);</span><br><span class="line">    let elem1 = document.getElementById(&quot;1&quot;);</span><br><span class="line">    console.log(elem1);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // 挂载完成</span><br><span class="line">  onMounted(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;----------onMounted----------&#x27;);</span><br><span class="line">    let elem1 = document.getElementById(&quot;1&quot;);</span><br><span class="line">    console.log(elem1);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // 更新之前</span><br><span class="line">  onBeforeUpdate(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;----------onBeforeUpdate----------&#x27;);</span><br><span class="line">    let elem1 = document.getElementById(&quot;1&quot;);</span><br><span class="line">    console.log(msg.value, elem1.innerText);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // 更新完成</span><br><span class="line">  onUpdated(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;----------onUpdated----------&#x27;);</span><br><span class="line">    let elem1 = document.getElementById(&quot;1&quot;);</span><br><span class="line">    console.log(msg.value, elem1.innerText);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  let msg = ref(&quot;1&quot;);</span><br><span class="line"></span><br><span class="line">  // beforeCreate 和 created 钩子在组合式API中已被移除</span><br><span class="line">  // onBeforeUnmount 和 onUnmounted 钩子等学完router知识后再补充</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;span id=&quot;1&quot;&gt;&#123;&#123; msg &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;button @click=&quot;msg ++&quot;&gt;change&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试结果</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929222334910.png" alt="image-20240929222334910">	</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20240929222347296.png" alt="image-20240929222347296" style="zoom:80%;" />	

<h3 id="6-8-Vue组件"><a href="#6-8-Vue组件" class="headerlink" title="6.8 Vue组件"></a>6.8 Vue组件</h3><h4 id="6-8-1-Vue组件化是什么"><a href="#6-8-1-Vue组件化是什么" class="headerlink" title="6.8.1 Vue组件化是什么"></a>6.8.1 Vue组件化是什么</h4><ul>
<li><p>我们可以编写若干独立、可重用的组件，编写时只需考虑单个组件，最后整合起来！</p>
</li>
<li><p>在实际应用中，组件常常被组织成层层嵌套的树状结构：</p>
<ul>
<li>这和我们嵌套 HTML 元素的方式类似，Vue 实现了自己的组件模型，使我们可以在每个组件内封装自定义内容与逻辑。</li>
</ul>
</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002201917491.png" alt="image-20241002201917491">	</p>
<p>组件化思想SFC和传统HTML思想区别的示意图</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002201929880.png" alt="image-20241002201929880">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002201937016.png" alt="image-20241002201937016">	</p>
<ul>
<li><p>组件化：对js&#x2F;css&#x2F;html统一封装,这是VUE中的概念</p>
</li>
<li><p>模块化：对js的统一封装,这是ES6中的概念</p>
</li>
<li><p>组件化中,对js部分代码的处理使用ES6中的模块化</p>
</li>
</ul>
<h4 id="6-8-2-Vue组件化传递数据"><a href="#6-8-2-Vue组件化传递数据" class="headerlink" title="6.8.2 Vue组件化传递数据"></a>6.8.2 Vue组件化传递数据</h4><p>组件有三种传递方式</p>
<ul>
<li>父传子：props接收参数</li>
<li>子传父：emits事件</li>
<li>兄弟传参：借助公共父类进行子传父+父传子</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002203503814.png" alt="image-20241002203503814">	</p>
<p>实现思路</p>
<ul>
<li><p>基于SFC思想，首先在App.vue中定义三个组件Header.vue Navigator.vue Content.vue</p>
</li>
<li><p>首先在Navigator子组件定义好相关信息，将子组件的信息提交emit给父组件，通过事件触发函数的方式，向父组件提交sendMenuMsg事件以及data参数</p>
</li>
</ul>
<p>Navigator.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">    // 向父组件传递参数</span><br><span class="line"></span><br><span class="line">    // 用于向父组件提交数据的事件以及正式的提交数据</span><br><span class="line">    import &#123; defineEmits &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">    // 定义向父组件提交数据的事件数组，事件名称自定义</span><br><span class="line">    const emits = defineEmits([&quot;sendMenuMsg&quot;])</span><br><span class="line"></span><br><span class="line">    // 定义提交数据的方法</span><br><span class="line">    let send = data =&gt; &#123;</span><br><span class="line">        emits(&quot;sendMenuMsg&quot;, data); // 向父组件提交sendMenuMsg事件，并传递data数据</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li @click=&quot;send(&#x27;学员管理&#x27;)&quot;&gt;学员管理&lt;/li&gt;</span><br><span class="line">            &lt;li @click=&quot;send(&#x27;图书管理&#x27;)&quot;&gt;图书管理&lt;/li&gt;</span><br><span class="line">            &lt;li @click=&quot;send(&#x27;请假管理&#x27;)&quot;&gt;请假管理&lt;/li&gt;</span><br><span class="line">            &lt;li @click=&quot;send(&#x27;考试管理&#x27;)&quot;&gt;考试管理&lt;/li&gt;</span><br><span class="line">            &lt;li @click=&quot;send(&#x27;班级管理&#x27;)&quot;&gt;班级管理&lt;/li&gt;</span><br><span class="line">            &lt;li @click=&quot;send(&#x27;教师管理&#x27;)&quot;&gt;教师管理&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>接下来父组件要接收参数，只需要导入组件后，对于子组件发送的sendMenuMsg事件，定义接收函数的事件receiveMenuMsg即可</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  /* 引入多个vue组件 */</span><br><span class="line">  import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line">  import Header from &#x27;./components/Header.vue&#x27;;</span><br><span class="line">  import Navigator from &#x27;./components/Navigator.vue&#x27;;</span><br><span class="line">  import Content from &#x27;./components/BookContent.vue&#x27;;</span><br><span class="line"></span><br><span class="line">  let msg = ref(&#x27;&#x27;);</span><br><span class="line"></span><br><span class="line">  let receiveMenuMsg = data =&gt; &#123;</span><br><span class="line">    msg.value = data;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Header class=&quot;header&quot;&gt;&lt;/Header&gt;  </span><br><span class="line">    &lt;!-- 这里函数不需要传参 Vue3帮助我们自动传递data --&gt;</span><br><span class="line">    &lt;Navigator @sendMenuMsg=&quot;receiveMenuMsg&quot; class=&quot;navigator&quot;&gt;&lt;/Navigator&gt;</span><br><span class="line">    &lt;Content class=&quot;content&quot; :msg=&quot;msg&quot;&gt;&lt;/Content&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .header &#123;</span><br><span class="line">    height: 80px;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">  &#125;</span><br><span class="line">  .navigator &#123;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 800px;</span><br><span class="line">    border: 1px solid green;</span><br><span class="line">    float: left;</span><br><span class="line">  &#125;</span><br><span class="line">  .content &#123;</span><br><span class="line">    width: 84%;</span><br><span class="line">    height: 800px;</span><br><span class="line">    border: 1px solid blue;</span><br><span class="line">    float: right;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>接下来在content.vue中，因为父组件向子组件通过传入<code>props</code>传递，首先父组件引入子组件content后，在子组件在标签中添加props属性设置要传递的值即可<ul>
<li>注：Vue3中，父组件传递给子组件的值是响应式的，即父组件的值发生改变，子组件也会发生变化。</li>
</ul>
</li>
</ul>
<p>BookContent.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    // 接收父组件的参数</span><br><span class="line">    import &#123; defineProps &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">    defineProps(&#123;</span><br><span class="line">        msg: String,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &#123;&#123; msg &#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="7-Vue3路由机制"><a href="#7-Vue3路由机制" class="headerlink" title="7. Vue3路由机制"></a>7. Vue3路由机制</h2><h3 id="7-1-路由简介"><a href="#7-1-路由简介" class="headerlink" title="7.1 路由简介"></a>7.1 路由简介</h3><blockquote>
<p>1 什么是路由？</p>
</blockquote>
<ul>
<li>定义：路由就是根据不同的 URL 地址展示不同的内容或页面。</li>
<li>通俗理解：路由就像是一个地图，我们要去不同的地方，需要通过不同的路线进行导航。</li>
</ul>
<blockquote>
<p>2 路由的作用</p>
</blockquote>
<ul>
<li>单页应用程序（SPA）中，路由可以实现不同视图之间的无刷新切换，提升用户体验；</li>
<li>路由还可以实现页面的认证和权限控制，保护用户的隐私和安全；</li>
<li>路由还可以利用浏览器的前进与后退，帮助用户更好地回到之前访问过的页面。</li>
</ul>
<h3 id="7-2-router-components完整案例"><a href="#7-2-router-components完整案例" class="headerlink" title="7.2 router-components完整案例"></a>7.2 router-components完整案例</h3><p>npm导入router依赖后，在main.js导入相关文件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./style.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在整个App.vue中使用路由</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./routers/router.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router);</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>router.js</p>
<ul>
<li>这里redirect用到了重定向，即访问根路径，重定向到home页面，访问showAll路径，重定向到list页面</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 导入创建路由对象需要使用的函数 */</span></span><br><span class="line"><span class="keyword">import</span> &#123;createRouter, createWebHashHistory&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 导入需要展示的组件 */</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Home.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">List</span> <span class="keyword">from</span> <span class="string">&#x27;../components/List.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Update</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Update.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Add</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Add.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个路由对象</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="comment">// history属性用于记录路由历史</span></span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 用于定义不同路径和组件的对应关系</span></span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">            <span class="attr">components</span>: &#123;</span><br><span class="line">                <span class="attr">default</span>: <span class="title class_">Home</span>,</span><br><span class="line">                <span class="attr">homeView</span>: <span class="title class_">Home</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/list&quot;</span>,</span><br><span class="line">            <span class="attr">components</span>: &#123;</span><br><span class="line">                <span class="attr">listView</span>: <span class="title class_">List</span>,</span><br><span class="line">            &#125;, </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/update&quot;</span>,</span><br><span class="line">            <span class="attr">components</span>: &#123;</span><br><span class="line">                <span class="attr">updateView</span>: <span class="title class_">Update</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/add&quot;</span>,</span><br><span class="line">            <span class="attr">components</span>: &#123;</span><br><span class="line">                <span class="attr">addView</span>: <span class="title class_">Add</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="attr">redirect</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/showAll&quot;</span>,</span><br><span class="line">            <span class="attr">redirect</span>: <span class="string">&quot;/list&quot;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向外暴露rouer</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>



<p>四个组件以Add.vue为例，其他就是修改了内容</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;Add&lt;/h1&gt;</span><br><span class="line">    &lt;router-link to=&quot;/home&quot;&gt;返回home页&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    App 开头的内容 &lt;br&gt;</span><br><span class="line">    &lt;router-link to=&quot;/home&quot;&gt;home页&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;router-link to=&quot;/add&quot;&gt;add页&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;router-link to=&quot;/update&quot;&gt;update页&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;router-link to=&quot;/list&quot;&gt;list页&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;router-link to=&quot;/showAll&quot;&gt;showAll页&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 该标签会被替换为具体的Vue </span><br><span class="line">        一个视图可以同时存在多个rouer-view</span><br><span class="line">        每个router-view都可以设置专门用于展示哪个组件（default属性展示的内容）</span><br><span class="line"></span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;!-- 实际开发中，一个vue文件使用一个router-view就能满足99%的业务要求</span><br><span class="line">        作为知识点，还是要了解components属性的使用 </span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    home页&lt;router-view name=&quot;homeView&quot;&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    add页&lt;router-view name=&quot;addView&quot;&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    update页&lt;router-view name=&quot;updateView&quot;&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    list页&lt;router-view name=&quot;listView&quot;&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    </span><br><span class="line">    App结尾的内容</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>实现效果</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002204821848.png" alt="image-20241002204821848">	</p>
<p>注：为了方便起见，后续的路由修改为如下：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 导入创建路由的相关方法 */</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 导入vue组件 */</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Home.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">List</span> <span class="keyword">from</span> <span class="string">&#x27;../components/List.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Add</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Add.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Update</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Update.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ShowDetail</span> <span class="keyword">from</span> <span class="string">&#x27;../components/ShowDetail.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ShowDetail2</span> <span class="keyword">from</span> <span class="string">&#x27;../components/ShowDetail2.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/list&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">List</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/add&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Add</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/update&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Update</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<h3 id="7-3-编程式路由-useRouter"><a href="#7-3-编程式路由-useRouter" class="headerlink" title="7.3 编程式路由(useRouter)"></a>7.3 编程式路由(useRouter)</h3><ul>
<li>声明式路由：<code>&lt;router-link to=&quot;/list&quot;&gt;list页&lt;/router-link&gt;  </code>，to的内容固定，点击后只能简单切换</li>
<li>编程式路由：Vue 3 和 Vue Router 4 中，可以使用 <code>useRouter</code> 来实现动态路由(编程式路由)<ul>
<li>使用<code>useRouter()</code>方法得到一个router对象，而后通过该对象进行导航到新页面（<code>router.push</code>），返回上一页面等操作</li>
</ul>
</li>
</ul>
<blockquote>
<p>案例需求: 通过普通按钮配合事件绑定实现路由页面跳转,不直接使用router-link标签</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; useRouter &#125; from &#x27;vue-router&#x27;;</span><br><span class="line">  import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">  const router = useRouter();</span><br><span class="line">  let myPath = ref(&#x27;&#x27;);</span><br><span class="line"></span><br><span class="line">  function goMyPage() &#123;</span><br><span class="line">    router.push(myPath.value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 声明式路由 --&gt;</span><br><span class="line">    &lt;router-link to=&quot;/home&quot;&gt;home&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;router-link to=&quot;/list&quot;&gt;list&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;router-link to=&quot;/add&quot;&gt;add&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;router-link to=&quot;/update&quot;&gt;update&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 编程式路由 --&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;myPath&quot;&gt;</span><br><span class="line">    &lt;button @click=&quot;goMyPage()&quot;&gt;Go&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="7-4-路由传参-useRoute"><a href="#7-4-路由传参-useRoute" class="headerlink" title="7.4 路由传参(useRoute)"></a>7.4 路由传参(useRoute)</h3><ul>
<li>路径参数：路径中传入的一个动态字段<ul>
<li>例如查找某条数据：<code>/showDetail/1</code>  , 1就是要查看详情的id，可以动态添值！</li>
</ul>
</li>
<li>键值对参数：类似于get请求url传参</li>
</ul>
<ul>
<li><ul>
<li>例如:  查看数据详情<code>/showDetail?hid=1</code>,<code>hid=1</code>就是要传递的键值对参数</li>
<li>在 Vue 3 和 Vue Router 4 中，可以使用  <code>useRoute</code> 这个函数从 Vue 的组合式 API 中获取路由对象。</li>
<li><code>useRoute</code> 方法返回的是当前的 route 对象，可以用它来获取关于当前路由的信息，如当前的路径、查询参数等。</li>
</ul>
</li>
</ul>
<blockquote>
<p>案例需求 : 切换到ShowDetail.vue组件时,向该组件通过路由传递参数</p>
</blockquote>
<p>App.vue修改为如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; useRouter &#125; from &#x27;vue-router&#x27;;</span><br><span class="line">  import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">  const router = useRouter();</span><br><span class="line">  const id = ref(0);</span><br><span class="line">  const language = ref(&#x27;&#x27;);</span><br><span class="line"></span><br><span class="line">  // 路径参数</span><br><span class="line">  function showDetail(id, language) &#123;</span><br><span class="line">    // router.push(`/showDetail/$&#123;id&#125;/$&#123;language&#125;`);</span><br><span class="line">    router.push(&#123; path:`/showDetail/$&#123;id&#125;/$&#123;language&#125;` &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 键值对参数，使用query</span><br><span class="line">  function showDetail2(id, language) &#123;</span><br><span class="line">    // router.push(`/showDetail2?id=$&#123;id&#125;&amp;language=$&#123;language&#125;`);</span><br><span class="line">    router.push(&#123; path:`/showDetail2`, query:&#123;id:id, language:language&#125; &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;router-link to=&quot;/showDetail/1/java&quot;&gt;声明式路由路径传参&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;button @click=&quot;showDetail(2, &#x27;python&#x27;)&quot;&gt;编程式路由路径传参&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-link to=&quot;/showDetail2?id=1&amp;language=java&quot;&gt;声明式路由键值对传参&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;router-link :to=&quot;&#123;path:&#x27;/showDetail2&#x27;, query:&#123;id:2, language:&#x27;python&#x27;&#125;&#125;&quot;&gt;声明式路由键值对传参(v-bind)&lt;/router-link&gt; &lt;br&gt;</span><br><span class="line">    &lt;button @click=&quot;showDetail2(3, &#x27;golang&#x27;)&quot;&gt;编程式路由键值对传参&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router.js  增加路径参数占位符</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 导入路由创建的相关方法</span></span><br><span class="line"><span class="keyword">import</span> &#123;createRouter,createWebHashHistory&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入vue组件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ShowDetail</span> <span class="keyword">from</span> <span class="string">&#x27;../components/ShowDetail.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ShowDetail2</span> <span class="keyword">from</span> <span class="string">&#x27;../components/ShowDetail2.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建路由对象,声明路由规则</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">/* 此处:id  :language作为路径的占位符 */</span></span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/showDetail/:id/:language&#x27;</span>,</span><br><span class="line">            <span class="comment">/* 动态路由传参时,根据该名字找到该路由 */</span></span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;showDetail&#x27;</span>,</span><br><span class="line">            <span class="attr">components</span>:&#123;</span><br><span class="line">                <span class="attr">showDetailView</span>:<span class="title class_">ShowDetail</span></span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/showDetail2&#x27;</span>,</span><br><span class="line">            <span class="attr">components</span>:&#123;</span><br><span class="line">                <span class="attr">showDetailView2</span>:<span class="title class_">ShowDetail2</span></span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对外暴露路由对象</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<p>showDetail.vue</p>
<p>通过useRoute获取路径参数</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    /* 接收传递过来的路径参数</span><br><span class="line">        useRoute是用来接收路由参数的</span><br><span class="line">        (route.param 表示路径参数 route.query 表示键值对参数)</span><br><span class="line">        注意：前面所用的编程式路由用到的是useRouter</span><br><span class="line">    */</span><br><span class="line">    import &#123; useRoute &#125; from &#x27;vue-router&#x27;;</span><br><span class="line">    import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line">    import &#123; onUpdated &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">    let languageId = ref(&#x27;0&#x27;);</span><br><span class="line">    let languageName = ref(&#x27;&#x27;);</span><br><span class="line"></span><br><span class="line">    let route = useRoute();</span><br><span class="line"></span><br><span class="line">    languageId.value = route.params.id</span><br><span class="line">    languageName.value = route.params.language;</span><br><span class="line"></span><br><span class="line">    // 这里调试的时候出现了一个bug：</span><br><span class="line">    // 第一次会更新数据，但是之后再次请求无法更新数据，只能通过刷新页面才能更新数据</span><br><span class="line">    // 可以手动在生命周期的钩子函数onUpdated中更新数据</span><br><span class="line">    onUpdated(() =&gt; &#123;</span><br><span class="line">        languageId.value = route.params.id</span><br><span class="line">        languageName.value = route.params.language;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;showDetail 接收路径参数&lt;/h1&gt;</span><br><span class="line">        &lt;h3&gt;&#123;&#123; languageId &#125;&#125;-&#123;&#123; languageName &#125;&#125; 是世界上最好的语言&lt;/h3&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>showDetail2.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">    /* 接收传递过来的路径参数</span><br><span class="line">        useRoute是用来接收路由参数的</span><br><span class="line">        (route.param 表示路径参数 route.query 表示键值对参数)</span><br><span class="line">        注意：前面所用的编程式路由用到的是useRouter</span><br><span class="line">    */</span><br><span class="line">    import &#123; useRoute &#125; from &#x27;vue-router&#x27;;</span><br><span class="line">    import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line">    import &#123; onUpdated &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">    let languageId = ref(&#x27;0&#x27;);</span><br><span class="line">    let languageName = ref(&#x27;&#x27;);</span><br><span class="line"></span><br><span class="line">    let route = useRoute();</span><br><span class="line"></span><br><span class="line">    languageId.value = route.query.id;</span><br><span class="line">    languageName.value = route.query.language;</span><br><span class="line"></span><br><span class="line">    // 这里调试的时候出现了一个bug：</span><br><span class="line">    // 第一次会更新数据，但是之后再次请求无法更新数据，只能通过刷新页面才能更新数据</span><br><span class="line">    // 可以手动在生命周期的钩子函数onUpdated中更新数据</span><br><span class="line">    onUpdated(() =&gt; &#123;</span><br><span class="line">        languageId.value = route.query.id</span><br><span class="line">        languageName.value = route.query.language;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;showDetail 接收路径参数&lt;/h1&gt;</span><br><span class="line">        &lt;h3&gt;&#123;&#123; languageId &#125;&#125;-&#123;&#123; languageName &#125;&#125; 是世界上最好的语言&lt;/h3&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002211057613.png" alt="image-20241002211057613">	</p>
<h3 id="7-6-路由守卫"><a href="#7-6-路由守卫" class="headerlink" title="7.6 路由守卫"></a>7.6 路由守卫</h3><ul>
<li>Vue3中，路由守卫用于在切换页面的时候执行一些特定任务的回调函数（验证用户是否登录，切换前的确认提示 请求数据等），路由守卫包括以下几种类型</li>
</ul>
<ol>
<li><strong>全局前置守卫</strong>：在路由切换前被调用，可以用于验证用户是否已登录、中断导航、请求数据等。</li>
<li><strong>全局后置守卫</strong>：在路由切换之后被调用，可以用于处理数据、操作 DOM 、记录日志等。</li>
<li><strong>守卫代码的位置</strong>: 在router.js中</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    设置全局前置守卫</span></span><br><span class="line"><span class="comment">    每次路由切换页面前，都会执行beforeEach的回调函数</span></span><br><span class="line"><span class="comment">    from 表示从哪里来 to 表示到哪里去</span></span><br><span class="line"><span class="comment">    next表示放行方法，只有执行next才执行，类似于Servlet的filterChain.doFilter</span></span><br><span class="line"><span class="comment">        next() 放行</span></span><br><span class="line"><span class="comment">        next(&quot;/路径&quot;) 表示路由的重定向(场景：登录失败重定向login页面 注意可能有死循环的情况 因此一定要在if语句中判断)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">from</span>.<span class="property">path</span>, <span class="string">&#x27;=&gt;&#x27;</span>, to.<span class="property">path</span>);</span><br><span class="line">    <span class="title function_">next</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置全局后置守卫</span></span><br><span class="line"><span class="comment">// 每次路由切换页面后，都会执行afterEach的回调函数</span></span><br><span class="line"><span class="comment">// 此时只能操作数据，已经跳转了无法阻止</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;全局后置守卫 待处理...&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<p>控制台输出内容</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002222619869.png" alt="image-20241002222619869">	</p>
<h4 id="案例——路由跳转前的路由验证"><a href="#案例——路由跳转前的路由验证" class="headerlink" title="案例——路由跳转前的路由验证"></a>案例——路由跳转前的路由验证</h4><p>案例：登录以后才可以进入home,否则必须进入login</p>
<p>router.js</p>
<ul>
<li>设置路由前置守卫：<ul>
<li>请求登录页面时：判断sessionStorage是否含有用户信息，如果登录了自动跳转home，否则跳转到登录界面</li>
<li>请求其他页面时，判断sessionStorage是否含有用户信息，如果登录了直接跳转到home页面，否则跳转到登录界面</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Home.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Login</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Login.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Login</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过路由前置守卫实现校验登录</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> username =<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;username&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> === <span class="string">&#x27;/login&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 判断如果是登录，判断当前用户是否登录，如果登录直接跳转到home</span></span><br><span class="line">        <span class="keyword">if</span> (username === <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="title function_">next</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">next</span>(<span class="string">&#x27;/home&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 除了登录界面 都要登录才能放行，如果检测到没有登录 则跳转到登录界面</span></span><br><span class="line">        <span class="keyword">if</span> (username === <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">next</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<p>login.vue</p>
<ul>
<li>主要是提供两个输入框和登录按钮，提供一个简单的root 123456的认证<ul>
<li>如果认证成功，就存储session信息，并跳转到home目录</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; onBeforeMount, ref &#125; from &quot;vue&quot;;</span><br><span class="line">  import &#123; useRouter &#125; from &quot;vue-router&quot;;</span><br><span class="line"></span><br><span class="line">  let router = useRouter();</span><br><span class="line">  </span><br><span class="line">  let username = ref(&#x27;&#x27;);</span><br><span class="line">  let password = ref(&#x27;&#x27;);</span><br><span class="line"></span><br><span class="line">  let login = () =&gt; &#123;</span><br><span class="line">    // 获取用户名和密码，校验username=root &amp;&amp; password=123456则登入成功 自动跳转到/home 否则不跳页面</span><br><span class="line">    if (username.value === &#x27;root&#x27; &amp;&amp; password.value === &#x27;123456&#x27;) &#123;</span><br><span class="line">      // 将用户名保存到浏览器中 sessionStorage localStorage</span><br><span class="line">      window.sessionStorage.setItem(&#x27;username&#x27;, username.value);</span><br><span class="line">      </span><br><span class="line">      // 路由的跳转, 这里后面让home自己从session中拿用户数据</span><br><span class="line">      router.push(&#x27;/home&#x27;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      alert(&quot;用户名或密码有误&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    账号：&lt;input type=&quot;text&quot; v-model=&quot;username&quot;&gt; &lt;br&gt;</span><br><span class="line">    密码：&lt;input type=&quot;password&quot; v-model=&quot;password&quot;&gt; &lt;br&gt;</span><br><span class="line">    &lt;button @click=&quot;login&quot;&gt;登录&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Home.vue</p>
<ul>
<li>主要是通过session中的信息读取用户的数据，显示欢迎xxx</li>
<li>给出注销的功能，即清除session信息，并跳转到login页面</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">  import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">  import &#123; useRouter &#125; from &quot;vue-router&quot;;</span><br><span class="line">  </span><br><span class="line">  // 暂时不需修改，可以不做成响应式数据</span><br><span class="line">  let username = window.sessionStorage.getItem(&quot;username&quot;);</span><br><span class="line">  const router = useRouter();</span><br><span class="line"></span><br><span class="line">  function logout() &#123;</span><br><span class="line">    // 清除sessionStorage中的username</span><br><span class="line">    window.sessionStorage.removeItem(&quot;username&quot;);</span><br><span class="line">    // 跳转到登录页面</span><br><span class="line">    router.push(&quot;/login&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;Home页面&lt;/h1&gt;</span><br><span class="line">    &lt;h3&gt;欢迎&#123;&#123; username &#125;&#125;登录！&lt;/h3&gt;</span><br><span class="line">    &lt;button @click=&quot;logout()&quot;&gt;退出登录&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试：</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002223608979.png" alt="image-20241002223608979">	</p>
<p>登录成功后</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002223550947.png" alt="image-20241002223550947">	</p>
<p>而如果没有登录，自动跳转到login页面</p>
<p>如果登录了，即使访问login页面，也会自动跳转到home页面</p>
<h2 id="8-案例——日程管理第五期（前端工程化）"><a href="#8-案例——日程管理第五期（前端工程化）" class="headerlink" title="8. 案例——日程管理第五期（前端工程化）"></a>8. 案例——日程管理第五期（前端工程化）</h2><p>主要重构前端</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002223806135.png" alt="image-20241002223806135" style="zoom: 80%;" />	

<h3 id="组件重构"><a href="#组件重构" class="headerlink" title="组件重构"></a>组件重构</h3><h4 id="Header"><a href="#Header" class="headerlink" title="Header"></a>Header</h4><p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241003184938792.png" alt="image-20241003184938792">	</p>
<p>Header.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1 class=&quot;ht&quot;&gt;欢迎使用日程管理系统&lt;/h1&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div  class=&quot;optionDiv&quot;&gt;</span><br><span class="line">        &lt;router-link to=&quot;/login&quot;&gt;</span><br><span class="line">          &lt;button class=&quot;b1s&quot;&gt;登录&lt;/button&gt;</span><br><span class="line">        &lt;/router-link&gt;   </span><br><span class="line">        &lt;router-link to=&quot;/regist&quot;&gt;</span><br><span class="line">          &lt;button class=&quot;b1s&quot;&gt;注册&lt;/button&gt;</span><br><span class="line">        &lt;/router-link&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      &lt;div   class=&quot;optionDiv&quot;&gt;</span><br><span class="line">        欢迎xxx   </span><br><span class="line">        &lt;button class=&quot;b1b&quot;&gt;退出登录&lt;/button&gt; </span><br><span class="line">        &lt;router-link to=&quot;/showSchedule&quot;&gt;</span><br><span class="line">          &lt;button class=&quot;b1b&quot;&gt;查看我的日程&lt;/button&gt;</span><br><span class="line">        &lt;/router-link&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;br&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">  .ht&#123;</span><br><span class="line">      text-align: center;</span><br><span class="line">      color: cadetblue;</span><br><span class="line">      font-family: 幼圆;</span><br><span class="line">  &#125;</span><br><span class="line">  .b1s&#123;</span><br><span class="line">        border: 2px solid powderblue;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        width:60px;</span><br><span class="line">        background-color: antiquewhite;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .b1b&#123;</span><br><span class="line">        border: 2px solid powderblue;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        width:100px;</span><br><span class="line">        background-color: antiquewhite;</span><br><span class="line">    &#125;</span><br><span class="line">    .optionDiv&#123;</span><br><span class="line">      width: 300px;</span><br><span class="line">      float: right;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Login"><a href="#Login" class="headerlink" title="Login"></a>Login</h4><p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002223833786.png" alt="image-20241002223833786">	</p>
<p>Login.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">       import&#123; ref,reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">       // 响应式数据,保存用户输入的表单信息</span><br><span class="line">       let loginUser =reactive(&#123;</span><br><span class="line">        username:&#x27;&#x27;,</span><br><span class="line">        userPwd:&#x27;&#x27;</span><br><span class="line">       &#125;)</span><br><span class="line"></span><br><span class="line">       // 响应式数据,保存校验的提示信息</span><br><span class="line">       let usernameMsg =ref(&#x27;&#x27;)</span><br><span class="line">       let userPwdMsg = ref(&#x27;&#x27;)</span><br><span class="line"></span><br><span class="line">        // 校验用户名的方法</span><br><span class="line">        function checkUsername()&#123;</span><br><span class="line">            // 定义正则</span><br><span class="line">            var usernameReg=/^[a-zA-Z0-9]&#123;5,10&#125;$/</span><br><span class="line">            // 校验用户名</span><br><span class="line">            if(!usernameReg.test(loginUser.username))&#123;</span><br><span class="line">                // 格式不合法</span><br><span class="line">                usernameMsg.value=&quot;格式有误&quot;</span><br><span class="line">                return false</span><br><span class="line">            &#125;</span><br><span class="line">            usernameMsg.value=&quot;ok&quot;</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">        // 校验密码的方法</span><br><span class="line">        function checkUserPwd()&#123;</span><br><span class="line">            // 定义正则</span><br><span class="line">            var passwordReg=/^[0-9]&#123;6&#125;$/</span><br><span class="line">             // 校验密码</span><br><span class="line">             if(!passwordReg.test(loginUser.userPwd))&#123;</span><br><span class="line">                // 格式不合法</span><br><span class="line">                userPwdMsg.value=&quot;格式有误&quot;</span><br><span class="line">                return false</span><br><span class="line">            &#125;</span><br><span class="line">            userPwdMsg.value=&quot;ok&quot;</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3 class=&quot;ht&quot;&gt;请登录&lt;/h3&gt;</span><br><span class="line">        &lt;table class=&quot;tab&quot; cellspacing=&quot;0px&quot;&gt;</span><br><span class="line">            &lt;tr class=&quot;ltr&quot;&gt;</span><br><span class="line">                &lt;td&gt;请输入账号&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;</span><br><span class="line">                    &lt;input class=&quot;ipt&quot; </span><br><span class="line">                    type=&quot;text&quot; </span><br><span class="line">                    v-model=&quot;loginUser.username&quot;</span><br><span class="line">                    @blur=&quot;checkUsername()&quot;&gt;</span><br><span class="line">                    &lt;span id=&quot;usernameMsg&quot; v-text=&quot;usernameMsg&quot;&gt;&lt;/span&gt;</span><br><span class="line">                &lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr class=&quot;ltr&quot;&gt;</span><br><span class="line">                &lt;td&gt;请输入密码&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;</span><br><span class="line">                    &lt;input class=&quot;ipt&quot; </span><br><span class="line">                    type=&quot;password&quot; </span><br><span class="line">                    v-model=&quot;loginUser.userPwd&quot;</span><br><span class="line">                    @blur=&quot;checkUserPwd()&quot;&gt;</span><br><span class="line">                    &lt;span id=&quot;userPwdMsg&quot; v-text=&quot;userPwdMsg&quot;&gt;&lt;/span&gt;</span><br><span class="line">                &lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr class=&quot;ltr&quot;&gt;</span><br><span class="line">                &lt;td colspan=&quot;2&quot; class=&quot;buttonContainer&quot;&gt;</span><br><span class="line">                    &lt;input class=&quot;btn1&quot; type=&quot;button&quot; value=&quot;登录&quot;&gt;</span><br><span class="line">                    &lt;input class=&quot;btn1&quot; type=&quot;button&quot; value=&quot;重置&quot;&gt;</span><br><span class="line">                    &lt;router-link to=&quot;/regist&quot;&gt;</span><br><span class="line">                      &lt;button class=&quot;btn1&quot;&gt;去注册&lt;/button&gt;</span><br><span class="line">                    &lt;/router-link&gt;</span><br><span class="line">                &lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">        .ht&#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">            color: cadetblue;</span><br><span class="line">            font-family: 幼圆;</span><br><span class="line">        &#125;</span><br><span class="line">        .tab&#123;</span><br><span class="line">            width: 500px;</span><br><span class="line">            border: 5px solid cadetblue;</span><br><span class="line">            margin: 0px auto;</span><br><span class="line">            border-radius: 5px;</span><br><span class="line">            font-family: 幼圆;</span><br><span class="line">        &#125;</span><br><span class="line">        .ltr td&#123;</span><br><span class="line">            border: 1px solid  powderblue;</span><br><span class="line">        &#125;</span><br><span class="line">        .ipt&#123;</span><br><span class="line">            border: 0px;</span><br><span class="line">            width: 50%;</span><br><span class="line">        &#125;</span><br><span class="line">        .btn1&#123;</span><br><span class="line">            border: 2px solid powderblue;</span><br><span class="line">            border-radius: 4px;</span><br><span class="line">            width:60px;</span><br><span class="line">            background-color: antiquewhite;</span><br><span class="line">        &#125;</span><br><span class="line">        #usernameMsg , #userPwdMsg &#123;</span><br><span class="line">            color: gold;</span><br><span class="line">        &#125;</span><br><span class="line">        .buttonContainer&#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Regist"><a href="#Regist" class="headerlink" title="Regist"></a>Regist</h4><p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002223840327.png" alt="image-20241002223840327">	</p>
<p>Rigist.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">      import&#123; ref,reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">       // 响应式数据,保存用户输入的表单信息</span><br><span class="line">       let registUser =reactive(&#123;</span><br><span class="line">        username:&#x27;&#x27;,</span><br><span class="line">        userPwd:&#x27;&#x27;</span><br><span class="line">       &#125;)</span><br><span class="line"></span><br><span class="line">       // 响应式数据,保存校验的提示信息</span><br><span class="line">       let reUserPwd =ref(&#x27;&#x27;)</span><br><span class="line">       let reUserPwdMsg =ref(&#x27;&#x27;)</span><br><span class="line">       let usernameMsg =ref(&#x27;&#x27;)</span><br><span class="line">       let userPwdMsg = ref(&#x27;&#x27;)</span><br><span class="line"></span><br><span class="line">          // 校验用户名的方法</span><br><span class="line">        function checkUsername()&#123;</span><br><span class="line">            // 定义正则</span><br><span class="line">            let usernameReg=/^[a-zA-Z0-9]&#123;5,10&#125;$/</span><br><span class="line">            // 校验</span><br><span class="line">            if(!usernameReg.test(registUser.username))&#123;</span><br><span class="line">              // 提示</span><br><span class="line">              usernameMsg.value = &quot;不合法&quot;</span><br><span class="line">              return false</span><br><span class="line">            &#125;</span><br><span class="line">            // 通过校验</span><br><span class="line">            usernameMsg.value=&quot;OK&quot;</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">        // 校验密码的方法</span><br><span class="line">        function checkUserPwd()&#123;</span><br><span class="line">            // 定义正则</span><br><span class="line">            let passwordReg=/^[0-9]&#123;6&#125;$/</span><br><span class="line">             // 校验</span><br><span class="line">             if(!passwordReg.test(registUser.userPwd))&#123;</span><br><span class="line">              // 提示</span><br><span class="line">              userPwdMsg.value = &quot;不合法&quot;</span><br><span class="line">              return false</span><br><span class="line">            &#125;</span><br><span class="line">            // 通过校验</span><br><span class="line">            userPwdMsg.value=&quot;OK&quot;</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">        // 校验密码的方法</span><br><span class="line">        function checkReUserPwd()&#123;</span><br><span class="line">            // 定义正则</span><br><span class="line">            let passwordReg=/^[0-9]&#123;6&#125;$/</span><br><span class="line">            // 校验</span><br><span class="line">            if(!passwordReg.test(reUserPwd.value))&#123;</span><br><span class="line">              // 提示</span><br><span class="line">              reUserPwdMsg.value = &quot;不合法&quot;</span><br><span class="line">              return false</span><br><span class="line">            &#125;</span><br><span class="line">            console.log(registUser.userPwd,reUserPwd.value)</span><br><span class="line">            // 校验</span><br><span class="line">            if(!(registUser.userPwd==reUserPwd.value))&#123;</span><br><span class="line">              // 提示</span><br><span class="line">              reUserPwdMsg.value = &quot;不一致&quot;</span><br><span class="line">              return false</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            // 通过校验</span><br><span class="line">            reUserPwdMsg.value=&quot;OK&quot;</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3 class=&quot;ht&quot;&gt;请注册&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">    &lt;table class=&quot;tab&quot; cellspacing=&quot;0px&quot;&gt;</span><br><span class="line">        &lt;tr class=&quot;ltr&quot;&gt;</span><br><span class="line">            &lt;td&gt;请输入账号&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;</span><br><span class="line">                &lt;input class=&quot;ipt&quot; </span><br><span class="line">                  id=&quot;usernameInput&quot; </span><br><span class="line">                  type=&quot;text&quot; </span><br><span class="line">                  name=&quot;username&quot; </span><br><span class="line">                  v-model=&quot;registUser.username&quot;</span><br><span class="line">                  @blur=&quot;checkUsername()&quot;&gt;</span><br><span class="line"></span><br><span class="line">                &lt;span id=&quot;usernameMsg&quot; class=&quot;msg&quot; v-text=&quot;usernameMsg&quot;&gt;&lt;/span&gt;</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr class=&quot;ltr&quot;&gt;</span><br><span class="line">            &lt;td&gt;请输入密码&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;</span><br><span class="line">                &lt;input class=&quot;ipt&quot; </span><br><span class="line">                id=&quot;userPwdInput&quot; </span><br><span class="line">                type=&quot;password&quot; </span><br><span class="line">                name=&quot;userPwd&quot; </span><br><span class="line">                v-model=&quot;registUser.userPwd&quot;</span><br><span class="line">                @blur=&quot;checkUserPwd()&quot;&gt;</span><br><span class="line">                &lt;span id=&quot;userPwdMsg&quot; class=&quot;msg&quot; v-text=&quot;userPwdMsg&quot;&gt;&lt;/span&gt;</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr class=&quot;ltr&quot;&gt;</span><br><span class="line">            &lt;td&gt;确认密码&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;</span><br><span class="line">                &lt;input class=&quot;ipt&quot; </span><br><span class="line">                id=&quot;reUserPwdInput&quot; </span><br><span class="line">                type=&quot;password&quot; </span><br><span class="line">                v-model=&quot;reUserPwd&quot;</span><br><span class="line">                @blur=&quot;checkReUserPwd()&quot;&gt;</span><br><span class="line">                &lt;span id=&quot;reUserPwdMsg&quot; class=&quot;msg&quot; v-text=&quot;reUserPwdMsg&quot;&gt;&lt;/span&gt;</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr class=&quot;ltr&quot;&gt;</span><br><span class="line">            &lt;td colspan=&quot;2&quot; class=&quot;buttonContainer&quot;&gt;</span><br><span class="line">                &lt;input class=&quot;btn1&quot; type=&quot;button&quot; value=&quot;注册&quot;&gt;</span><br><span class="line">                &lt;input class=&quot;btn1&quot; type=&quot;button&quot; value=&quot;重置&quot;&gt;</span><br><span class="line">                &lt;router-link to=&quot;/login&quot;&gt;</span><br><span class="line">                  &lt;button class=&quot;btn1&quot;&gt;去登录&lt;/button&gt;</span><br><span class="line">                &lt;/router-link&gt;</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">       .ht&#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">            color: cadetblue;</span><br><span class="line">            font-family: 幼圆;</span><br><span class="line">        &#125;</span><br><span class="line">        .tab&#123;</span><br><span class="line">            width: 500px;</span><br><span class="line">            border: 5px solid cadetblue;</span><br><span class="line">            margin: 0px auto;</span><br><span class="line">            border-radius: 5px;</span><br><span class="line">            font-family: 幼圆;</span><br><span class="line">        &#125;</span><br><span class="line">        .ltr td&#123;</span><br><span class="line">            border: 1px solid  powderblue;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        .ipt&#123;</span><br><span class="line">            border: 0px;</span><br><span class="line">            width: 50%;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        .btn1&#123;</span><br><span class="line">            border: 2px solid powderblue;</span><br><span class="line">            border-radius: 4px;</span><br><span class="line">            width:60px;</span><br><span class="line">            background-color: antiquewhite;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        .msg &#123;</span><br><span class="line">            color: gold;</span><br><span class="line">        &#125;</span><br><span class="line">        .buttonContainer&#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="ShowSchedule"><a href="#ShowSchedule" class="headerlink" title="ShowSchedule"></a>ShowSchedule</h4><p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241002223949996.png" alt="image-20241002223949996">	</p>
<p>ShowSchedule.vue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3 class=&quot;ht&quot;&gt;您的日程如下&lt;/h3&gt;</span><br><span class="line">&lt;table class=&quot;tab&quot; cellspacing=&quot;0px&quot;&gt;</span><br><span class="line">    &lt;tr class=&quot;ltr&quot;&gt;</span><br><span class="line">        &lt;th&gt;编号&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;内容&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;进度&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;操作&lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr class=&quot;ltr&quot;&gt;</span><br><span class="line">        &lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td class=&quot;buttonContainer&quot;&gt;</span><br><span class="line">             &lt;button class=&quot;btn1&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">            &lt;button class=&quot;btn1&quot;&gt;保存修改&lt;/button&gt;</span><br><span class="line">        &lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr class=&quot;ltr buttonContainer&quot; &gt;</span><br><span class="line">        &lt;td colspan=&quot;4&quot;&gt;</span><br><span class="line">            &lt;button class=&quot;btn1&quot;&gt;新增日程&lt;/button&gt;</span><br><span class="line">        &lt;/td&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">      .ht&#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">            color: cadetblue;</span><br><span class="line">            font-family: 幼圆;</span><br><span class="line">        &#125;</span><br><span class="line">        .tab&#123;</span><br><span class="line">            width: 80%;</span><br><span class="line">            border: 5px solid cadetblue;</span><br><span class="line">            margin: 0px auto;</span><br><span class="line">            border-radius: 5px;</span><br><span class="line">            font-family: 幼圆;</span><br><span class="line">        &#125;</span><br><span class="line">        .ltr td&#123;</span><br><span class="line">            border: 1px solid  powderblue;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        .ipt&#123;</span><br><span class="line">            border: 0px;</span><br><span class="line">            width: 50%;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        .btn1&#123;</span><br><span class="line">            border: 2px solid powderblue;</span><br><span class="line">            border-radius: 4px;</span><br><span class="line">            width:100px;</span><br><span class="line">            background-color: antiquewhite;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        #usernameMsg , #userPwdMsg &#123;</span><br><span class="line">            color: gold;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .buttonContainer&#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line"></span><br><span class="line">import Header from &#x27;./components/Header.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Header&gt;&lt;/Header&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;!-- 用于路由切换视图使用 --&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="路由配置"><a href="#路由配置" class="headerlink" title="路由配置"></a>路由配置</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createRouter,createWebHashHistory&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Login</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Login.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Regist</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Regist.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ShowScedule</span> <span class="keyword">from</span> <span class="string">&#x27;../components/ShowSchedule.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span>  router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>:<span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Login</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/login&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Login</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/showSchedule&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">ShowScedule</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/regist&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Regist</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入路由</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/router.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> app =<span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局使用路由</span></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io">yuezi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io/2024/10/03/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/8.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%AD%E7%AF%87_Vue3%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/">https://yuezi2048.github.io/2024/10/03/2.Areas🌐/back-end-java/4.JavaWeb/8.前端工程化中篇_Vue3核心技术/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://yuezi2048.github.io" target="_blank">yuezi</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/4-JavaWeb/">4.JavaWeb</a></div><div class="post-share"><div class="social-share" data-image="/img/touxiang.jpg" data-sites="qq,wechat"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/10/03/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/9.%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E4%B8%8B%E7%AF%87_%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82_%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/" title="9.前端工程化下篇_数据请求_状态管理"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">9.前端工程化下篇_数据请求_状态管理</div></div><div class="info-2"><div class="info-item-1">9. Vue3数据交互axios9.0 前置知识——promise9.0.1 回调函数 普通函数: 正常调用的函数,一般函数执行完毕后才会继续执行下一行代码 回调函数: 一些特殊的函数,表示未来才会执行的一些功能,后续代码不会等待该函数执行完毕就开始执行了  function fun1() &#123;    console.log(&quot;fun1 invoked&quot;);&#125;// 测试普通函数调用;console.log(&quot;code1 invoked&quot;);fun1();console.log(&quot;code2 invoked&quot;);/*	测试回调函数，以setTimeout为例	回调函数是一种基于事件的，自动调用函数	回调函数的其他代码不会等待回调函数执行完毕	回调函数是一种未来会执行的函数，回调函数以外的其他代码	生活案例：		邻家小美，那年18岁		承诺：10年之后，他未娶，你未嫁，匿名就结婚 &gt;&gt;&gt; function() &#123;&#125;			1. 进行中   其他代码继续执行			2....</div></div></div></a><a class="pagination-related" href="/2024/10/05/2.Areas%F0%9F%8C%90/basic-408/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1.%20C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" title="1. C语言基础"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">1. C语言基础</div></div><div class="info-2"><div class="info-item-1">一、基础语法1.1 编译过程程序为什么要被编译器编译之后才能运行？  机器识别的只有机器语言（由二进制的0和1组成） 因此我们必须将高级语言翻译为能让机器识别的机器语言程序  转换成机器语言的过程是怎么样的？  预处理：展开头文件&#x2F;宏替换&#x2F;去注释&#x2F;条件编译 编译：检查语法，生成汇编代码 汇编：将汇编代码转化为二进制的机器码 链接合成可执行的程序，并在声明的文件找相关的定义  1.2 宏定义和typedef关键字define  使用一个标识符来表示一个字符串，这就是宏，标识符叫宏名 替换文本可以是常数、表达式、字符串、基本数据类型、简单函数  typedef  为数据类型定义新名称，常用于结构体（对struct {} 起一个别名）  #include &lt;stdio.h&gt;#define ll long long#define Max 20#define MAX(x, y) ((x) &gt; (y) ? (x) : (y))typedef long long lll;ll a;lll b;int aa[Max];    typedef...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/09/01/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/1.%20JavaWeb%E6%A6%82%E8%BF%B0/" title="1. JavaWeb概述"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-01</div><div class="info-item-2">1. JavaWeb概述</div></div><div class="info-2"><div class="info-item-1">第一章 Web概述1.1 JavaWeb是什么 通过Java技术解决Web互联网领域的技术栈（使用JavaEE技术开发企业级互联网项目，项目规模和架构模式和JavaSE有很大区别） 客户-服务器模式 客户端：与用户交互，接收用户的输入，向服务器发送数据并返回服务器输出的数据 服务器：从硬件和软件两个方面描述(广义和狭义) 硬件上，是比普通计算机运行更快 负载更高 价格更贵，一般是网络中的大型客户机提供计算服务 软件上，是安装在计算机上的某个进程，根据不同的作用可以分为不同的服务器，如DNS redis ftp服务器等     应用 APP 微信小程序 PC端程序 PC浏览器 外设（小米音箱 电话手表 POS机等）    1.2 JavaWeb技术栈前端 HTML CSS JS ES6 Nodejs npm vite vue3 router pinia axios element-plus… 后端 HTTP xml Tomcat Servlet Request Response Cookie Session Filter Listener MySQL JDBC Druid...</div></div></div></a><a class="pagination-related" href="/2024/09/26/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/2.%20HTML_CSS/" title="2. HTML_CSS"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-26</div><div class="info-item-2">2. HTML_CSS</div></div><div class="info-2"><div class="info-item-1">第二章 HTML-CSS1. HTML入门1.1 HTML_CSS_JS作用 HTML用于搭建网站主体 CSS用于对页面元素美化 JS用于对页面元素动态处理  1.2 HTML概念HTML  HTML(Hyper Test Markup Language 超文本标记语言)，搭建网站结构，显示相关元素 HTML5   HTML5 技术结合了 HTML4.01 的相关标准并革新，符合现代网络发展要求，在 2008 年正式发布。HTML5 由不同的技术构成，其在互联网中得到了非常广泛的应用，提供更多增强网络应用的标准机。 与传统的技术相比，HTML5 的语法特征更加明显，并且结合了 SVG 的内容。这些内容在网页中使用可以更加便捷地处理多媒体内容，而且 HTML5中还结合了其他元素，对原有的功能进行调整和修改，进行标准化工作。 HTML5 在 2012...</div></div></div></a><a class="pagination-related" href="/2024/10/02/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/3.%20JavaScript/" title="3. JavaScript"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-02</div><div class="info-item-2">3. JavaScript</div></div><div class="info-2"><div class="info-item-1">第三章 JavaScript1. JS简介1.1 JS起源和特点 JavaScript：由Netscape(网景)的LiveScript发展而来的基于对象的动态类型区分大小写的客户端脚本语言，最初目的是为了解决服务端语言，为用户提供流畅的访问速度，而当时服务端对数据验证慢，Netscape公司的浏览器Navigator提供了数据验证的基本功能 ECMA-262是正式JavaScript标准，基于 JavaScript (Netscape) 和JScript (Microsoft)，在1996年开始，1997.7采纳了首个版本 JavaScript正式名称为ECMAScript JS包括ECMAScript、DOM、BOM  	 JS是一种运行于浏览器端上的小脚本语句,可以实现网页如文本内容动,数据动态变化和动画特效等， 特点如下  脚本语言  解释型脚本语言，不同于C&#x2F;C++ Java...</div></div></div></a><a class="pagination-related" href="/2024/09/15/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/4.%20XML_Tomcat_HTTP/" title="4. XML_Tomcat_HTTP"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-15</div><div class="info-item-2">4. XML_Tomcat_HTTP</div></div><div class="info-2"><div class="info-item-1">第四章 XML_Tomcat10_HTTP1. XML XML（EXtensible Markup Lanauage 可扩展标记语言），同和HTML一样，基本语法是标签	 可扩展：含义是XML允许自定义格式 在XML语法规范基础上，第三方应用程序、框架都会通过XML约束来规定配置文件中可以写什么以及怎么写 我们只需在第三方APP或框架上定义好的配置文件基础上，根据需求加以修改即可    	 1.1...</div></div></div></a><a class="pagination-related" href="/2024/10/13/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/10.%E9%98%B6%E6%AE%B5%E9%A1%B9%E7%9B%AE%E2%80%94%E2%80%94%E5%BE%AE%E5%A4%B4%E6%9D%A1/" title="10.阶段项目——微头条"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-13</div><div class="info-item-2">10.阶段项目——微头条</div></div><div class="info-2"><div class="info-item-1">10. 阶段项目——微头条1....</div></div></div></a><a class="pagination-related" href="/2024/10/02/2.Areas%F0%9F%8C%90/back-end-java/4.JavaWeb/5.%20Servlet/" title="5. Servlet"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-02</div><div class="info-item-2">5. Servlet</div></div><div class="info-2"><div class="info-item-1">第五章 Servlet1. Servlet简介首先明确动态资源和静态资源的概念（买蛋糕的例子，现有和现做的区别） 静态资源：无需通过代码运行生成的资源，即在运行前就写好的资源，包括前端三大件、img等多媒体文件 动态资源：需要通过代码运行生成的资源，即程序运行前无法确定的数据，需要运行时动态生成，包括Servlet、Thymeleaf  注：动态资源是强调运行时动态生成数据，而不是视图上的动画效果或者是简单的人机交互效果  接下来引出我们的动态资源——Servlet  Servlet（Server...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">yuezi</div><div class="author-info-description">积微者速成</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">603</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">85</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yuezi2048"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://githubfast.com/yuezi2048" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_46345703" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="https://qm.qq.com/cgi-bin/qm/qr?k=dD62GIPTf5-iS4UdSfJRy7NHwsrCh3-j" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:joyLing@stumail.nwu.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">积微者速成</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Vue3%E8%A7%86%E5%9B%BE%E6%B8%B2%E6%9F%93%E6%8A%80%E6%9C%AF"><span class="toc-text">6. Vue3视图渲染技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-html%E2%80%94%E2%80%94%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-text">6.1 html——模板语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-1-%E6%8F%92%E5%80%BC%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">6.1.1 插值表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-2-Text%E6%B8%B2%E6%9F%93-v-text-v-html"><span class="toc-text">6.1.2 Text渲染 (v-text&#x2F;v-html)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-3-Attribute%E6%B8%B2%E6%9F%93-v-bind"><span class="toc-text">6.1.3 Attribute渲染 (v-bind)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-4-%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A-v-on-click"><span class="toc-text">6.1.4 事件绑定 (v-on &#x2F; @click)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-js%E2%80%94%E2%80%94%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8F%98%E9%87%8F"><span class="toc-text">6.2 js——响应式变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8F%98%E9%87%8F"><span class="toc-text">6.2.1 为什么要响应式变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-2-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8F%98%E9%87%8F-ref-reactive"><span class="toc-text">6.2.2 响应式变量 (ref reactive)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-3-ref-vs-reactive"><span class="toc-text">6.2.3 ref vs reactive</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93%E5%92%8C%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-text">6.3 条件渲染和列表渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-1-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93-v-if"><span class="toc-text">6.3.1 条件渲染 (v-if)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-2-%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93-v-for"><span class="toc-text">6.3.2 列表渲染 (v-for)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9Av-model"><span class="toc-text">6.4 双向绑定v-model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-%E5%B1%9E%E6%80%A7%E8%AE%A1%E7%AE%97computed"><span class="toc-text">6.5 属性计算computed</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-5-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81computed"><span class="toc-text">6.5.1 为什么要computed</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-%E6%95%B0%E6%8D%AE%E7%9B%91%E5%90%AC%E5%99%A8-watch"><span class="toc-text">6.6 数据监听器 watch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-Vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">6.7 Vue生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-7-1-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%80%E4%BB%8B"><span class="toc-text">6.7.1 生命周期简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-7-2-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%A1%88%E4%BE%8B"><span class="toc-text">6.7.2 生命周期案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-8-Vue%E7%BB%84%E4%BB%B6"><span class="toc-text">6.8 Vue组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-8-1-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">6.8.1 Vue组件化是什么</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-8-2-Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE"><span class="toc-text">6.8.2 Vue组件化传递数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-Vue3%E8%B7%AF%E7%94%B1%E6%9C%BA%E5%88%B6"><span class="toc-text">7. Vue3路由机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E8%B7%AF%E7%94%B1%E7%AE%80%E4%BB%8B"><span class="toc-text">7.1 路由简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-router-components%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B"><span class="toc-text">7.2 router-components完整案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1-useRouter"><span class="toc-text">7.3 编程式路由(useRouter)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82-useRoute"><span class="toc-text">7.4 路由传参(useRoute)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-text">7.6 路由守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC%E5%89%8D%E7%9A%84%E8%B7%AF%E7%94%B1%E9%AA%8C%E8%AF%81"><span class="toc-text">案例——路由跳转前的路由验证</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94%E6%97%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E7%AC%AC%E4%BA%94%E6%9C%9F%EF%BC%88%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%EF%BC%89"><span class="toc-text">8. 案例——日程管理第五期（前端工程化）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%87%8D%E6%9E%84"><span class="toc-text">组件重构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Header"><span class="toc-text">Header</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Login"><span class="toc-text">Login</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Regist"><span class="toc-text">Regist</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ShowSchedule"><span class="toc-text">ShowSchedule</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#App-vue"><span class="toc-text">App.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE"><span class="toc-text">路由配置</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/Excalidraw/Drawing%202024-11-01%2015.37.37.excalidraw/" title="Drawing 2024-11-01 15.37.37.excalidraw">Drawing 2024-11-01 15.37.37.excalidraw</a><time datetime="2025-10-31T04:19:26.621Z" title="发表于 2025-10-31 12:19:26">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/01.project/condefather/yupao/back-end/7.%E4%BC%98%E5%8C%96%E4%B8%BB%E9%A1%B5%E6%80%A7%E8%83%BD-%E4%BC%98%E5%8C%96%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE/" title="7.优化主页性能-优化批量导入数据">7.优化主页性能-优化批量导入数据</a><time datetime="2025-10-31T04:19:26.102Z" title="发表于 2025-10-31 12:19:26">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/02.%E9%9D%A2%E7%BB%8F%E8%AE%B0%E5%BD%95/MySQL/81.%E4%BB%80%E4%B9%88%E6%98%AF%E6%B8%B8%E6%A0%87Cursor%E5%88%86%E9%A1%B5_%E5%AF%B9%E6%AF%94%E4%BC%A0%E7%BB%9FLIMIT_OFFSET%E5%88%86%E9%A1%B5%E7%9A%84%E4%BC%98%E5%8A%BF%E6%98%AF%E4%BB%80%E4%B9%88/" title="81.什么是游标Cursor分页_对比传统LIMIT_OFFSET分页的优势是什么">81.什么是游标Cursor分页_对比传统LIMIT_OFFSET分页的优势是什么</a><time datetime="2025-10-31T04:14:27.000Z" title="发表于 2025-10-31 12:14:27">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/02.%E9%9D%A2%E7%BB%8F%E8%AE%B0%E5%BD%95/MySQL/80.%E5%85%A8%E9%87%8F%E5%90%8C%E6%AD%A5%E5%92%8C%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5%E5%90%84%E8%87%AA%E4%BC%98%E7%BC%BA%E7%82%B9/" title="80.全量同步和增量同步各自优缺点">80.全量同步和增量同步各自优缺点</a><time datetime="2025-10-31T04:13:32.000Z" title="发表于 2025-10-31 12:13:32">2025-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/31/2.Areas%F0%9F%8C%90/02.%E9%9D%A2%E7%BB%8F%E8%AE%B0%E5%BD%95/MySQL/79.%E4%BB%80%E4%B9%88%E6%98%AF%E6%89%B9%E9%87%8F%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93_%E7%9B%B8%E6%AF%94%E5%8D%95%E6%9D%A1%E6%8F%92%E5%85%A5%E4%BC%98%E5%8A%BF/" title="79.什么是批量数据入库_相比单条插入优势">79.什么是批量数据入库_相比单条插入优势</a><time datetime="2025-10-31T04:03:26.000Z" title="发表于 2025-10-31 12:03:26">2025-10-31</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/default.png);"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By yuezi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>
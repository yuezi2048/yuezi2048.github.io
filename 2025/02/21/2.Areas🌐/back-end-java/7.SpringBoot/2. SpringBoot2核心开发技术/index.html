<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>2. SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯ | yuezi</title><meta name="author" content="yuezi"><meta name="copyright" content="yuezi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="äºŒã€SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯2.1 YMLæ–‡ä»¶è¯­æ³•åœ¨SpringBootä¸­ï¼Œå…¨å±€é…ç½®æ–‡ä»¶çš„é…ç½®æ–‡ä»¶åæ˜¯å›ºå®šçš„ï¼šapplication.properties &#x2F; application.yml  k:(ç©ºæ ¼)vï¼šè¡¨ç¤ºä¸€å¯¹é”®å€¼å¯¹ï¼ˆç©ºæ ¼å¿…é¡»æœ‰ï¼‰ï¼› ä»¥ç¼©è¿›æ¥æ§åˆ¶å±‚çº§å…³ç³»ï¼›åªè¦æ˜¯å·¦å¯¹é½çš„ä¸€åˆ—æ•°æ®ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå±‚çº§çš„ï¼› å±æ€§å’Œå€¼ä¹Ÿæ˜¯å¤§å°å†™æ•æ„Ÿï¼› #è¡¨ç¤ºæ³¨é‡Šï¼› å­—ç¬¦ä¸²æ— éœ€åŠ å¼•å·ï¼Œå¦‚æœè¦åŠ ï¼Œâ€™">
<meta property="og:type" content="article">
<meta property="og:title" content="2. SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯">
<meta property="og:url" content="https://yuezi2048.github.io/2025/02/21/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/2.%20SpringBoot2%E6%A0%B8%E5%BF%83%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/index.html">
<meta property="og:site_name" content="yuezi">
<meta property="og:description" content="äºŒã€SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯2.1 YMLæ–‡ä»¶è¯­æ³•åœ¨SpringBootä¸­ï¼Œå…¨å±€é…ç½®æ–‡ä»¶çš„é…ç½®æ–‡ä»¶åæ˜¯å›ºå®šçš„ï¼šapplication.properties &#x2F; application.yml  k:(ç©ºæ ¼)vï¼šè¡¨ç¤ºä¸€å¯¹é”®å€¼å¯¹ï¼ˆç©ºæ ¼å¿…é¡»æœ‰ï¼‰ï¼› ä»¥ç¼©è¿›æ¥æ§åˆ¶å±‚çº§å…³ç³»ï¼›åªè¦æ˜¯å·¦å¯¹é½çš„ä¸€åˆ—æ•°æ®ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå±‚çº§çš„ï¼› å±æ€§å’Œå€¼ä¹Ÿæ˜¯å¤§å°å†™æ•æ„Ÿï¼› #è¡¨ç¤ºæ³¨é‡Šï¼› å­—ç¬¦ä¸²æ— éœ€åŠ å¼•å·ï¼Œå¦‚æœè¦åŠ ï¼Œâ€™">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yuezi2048.github.io/img/touxiang.jpg">
<meta property="article:published_time" content="2025-02-21T12:42:45.000Z">
<meta property="article:modified_time" content="2025-02-21T12:42:45.000Z">
<meta property="article:author" content="yuezi">
<meta property="article:tag" content="7.SpringBoot">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yuezi2048.github.io/img/touxiang.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "2. SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯",
  "url": "https://yuezi2048.github.io/2025/02/21/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/2.%20SpringBoot2%E6%A0%B8%E5%BF%83%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/",
  "image": "https://yuezi2048.github.io/img/touxiang.jpg",
  "datePublished": "2025-02-21T12:42:45.000Z",
  "dateModified": "2025-02-21T12:42:45.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "yuezi",
      "url": "https://yuezi2048.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://yuezi2048.github.io/2025/02/21/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/2.%20SpringBoot2%E6%A0%B8%E5%BF%83%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?bfb48b678d82bea9f9cc9d59227767e4";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"FPH6F2TOJL","apiKey":"06d9ea26c803ba912b4d8e13404ed34d","indexName":"blog","hitsPerPage":6,"languages":{"input_placeholder":"æœç´¢","hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œè€—æ—¶ ${time} æ¯«ç§’"}},
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":350,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '2. SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/backgound.css"><meta name="generator" content="Hexo 8.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">785</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">66</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">91</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> åšæ–‡</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºç¬”è€…</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/default.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">yuezi</span></a><a class="nav-page-title" href="/"><span class="site-name">2. SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> åšæ–‡</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äºç¬”è€…</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">2. SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-02-21T12:42:45.000Z" title="å‘è¡¨äº 2025-02-21 20:42:45">2025-02-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-02-21T12:42:45.000Z" title="æ›´æ–°äº 2025-02-21 20:42:45">2025-02-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/">2.AreasğŸŒ</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/">back-end-java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-Areas%F0%9F%8C%90/back-end-java/7-SpringBoot/">7.SpringBoot</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">8.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>32åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="äºŒã€SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯"><a href="#äºŒã€SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯" class="headerlink" title="äºŒã€SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯"></a>äºŒã€SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯</h1><h2 id="2-1-YMLæ–‡ä»¶è¯­æ³•"><a href="#2-1-YMLæ–‡ä»¶è¯­æ³•" class="headerlink" title="2.1 YMLæ–‡ä»¶è¯­æ³•"></a>2.1 YMLæ–‡ä»¶è¯­æ³•</h2><p>åœ¨SpringBootä¸­ï¼Œå…¨å±€é…ç½®æ–‡ä»¶çš„é…ç½®æ–‡ä»¶åæ˜¯å›ºå®šçš„ï¼š<code>application.properties</code> &#x2F; <code>application.yml</code></p>
<ul>
<li>k:(ç©ºæ ¼)vï¼šè¡¨ç¤ºä¸€å¯¹é”®å€¼å¯¹ï¼ˆç©ºæ ¼å¿…é¡»æœ‰ï¼‰ï¼›</li>
<li>ä»¥ç¼©è¿›æ¥æ§åˆ¶<code>å±‚çº§å…³ç³»</code>ï¼›åªè¦æ˜¯å·¦å¯¹é½çš„ä¸€åˆ—æ•°æ®ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå±‚çº§çš„ï¼›</li>
<li>å±æ€§å’Œå€¼ä¹Ÿæ˜¯å¤§å°å†™æ•æ„Ÿï¼›</li>
<li>#è¡¨ç¤ºæ³¨é‡Šï¼›</li>
<li>å­—ç¬¦ä¸²æ— éœ€åŠ <code>å¼•å·</code>ï¼Œå¦‚æœè¦åŠ ï¼Œâ€™ â€˜ä¸â€ â€œè¡¨ç¤ºå­—ç¬¦ä¸²å†…å®¹ ä¼šè¢«<code>è½¬ä¹‰</code>&#x2F;ä¸è½¬ä¹‰</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8088</span> <span class="comment"># ä¿®æ”¹é¡¹ç›®çš„ç«¯å£å·</span></span><br><span class="line"><span class="comment"># æ³¨ï¼šå®šä¹‰å­—ç¬¦ä¸²æ•°æ®æ—¶ï¼Œä¸éœ€è¦åŠ åŒå¼•å·ï¼Œå¼•å·æœ‰å…¶ä»–çš„ä½œç”¨</span></span><br><span class="line"><span class="attr">uname:</span> <span class="string">lisi</span></span><br><span class="line"><span class="attr">age:</span> <span class="number">12</span></span><br></pre></td></tr></table></figure>

<h3 id="2-1-1-æ™®é€šæ•°æ®ç±»å‹"><a href="#2-1-1-æ™®é€šæ•°æ®ç±»å‹" class="headerlink" title="2.1.1 æ™®é€šæ•°æ®ç±»å‹"></a>2.1.1 æ™®é€šæ•°æ®ç±»å‹</h3><blockquote>
<p>æ™®é€šæ•°æ®ç±»å‹</p>
</blockquote>
<p>å®šä¹‰pojoç±»Demo1</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;uname&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;age&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™controllerè¿”å›demo1ï¼Œç¡®å®èµ‹å€¼æˆåŠŸäº†ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223111128746.png" alt="image-20241223111128746">	</p>
<p>ç‰¹åˆ«åœ°ï¼Œå¯¹äºå­—ç¬¦ä¸²è½¬ä¹‰çš„é—®é¢˜ï¼š</p>
<p>å®šä¹‰pojoç±»Demo2</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;demo2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name1;</span><br><span class="line">    <span class="keyword">private</span> String name2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰é…ç½®ç±»</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">demo2:</span></span><br><span class="line">  <span class="attr">name1:</span> <span class="string">&#x27;zhangsan\nlisi&#x27;</span> <span class="comment"># ä¼šè½¬ä¹‰</span></span><br><span class="line">  <span class="attr">name2:</span> <span class="string">&quot;zhangsan\nlisi&quot;</span> <span class="comment"># ä¸ä¼šè½¬ä¹‰</span></span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223110927242.png" alt="image-20241223110927242">	</p>
<h3 id="2-1-2-å¤æ‚æ•°æ®ç±»å‹"><a href="#2-1-2-å¤æ‚æ•°æ®ç±»å‹" class="headerlink" title="2.1.2 å¤æ‚æ•°æ®ç±»å‹"></a>2.1.2 å¤æ‚æ•°æ®ç±»å‹</h3><blockquote>
<p>å¤æ‚æ•°æ®ç±»å‹</p>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰å¤æ‚æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment"># å®šä¹‰å¯¹è±¡ç¬¬ä¸€ç§æ–¹å¼</span></span><br><span class="line"><span class="attr">animal:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dahuang</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">2</span></span><br><span class="line"><span class="comment"># å®šä¹‰å¯¹è±¡ç¬¬äºŒç§æ–¹å¼ è¡Œå†…å†™æ³•</span></span><br><span class="line"><span class="attr">animal1:</span> &#123;<span class="attr">name:</span> <span class="string">xiaohuang</span>, <span class="attr">age:</span> <span class="number">2</span>&#125;</span><br><span class="line"><span class="comment"># æ•°ç»„ list set æ–¹å¼1</span></span><br><span class="line"><span class="attr">pets:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">cat</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">dog</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">fish</span></span><br><span class="line"><span class="comment"># æ–¹å¼2</span></span><br><span class="line"><span class="attr">pets1:</span> [<span class="string">cat</span>, <span class="string">dog</span>, <span class="string">fish</span>]</span><br><span class="line"><span class="comment"># mapé›†åˆ</span></span><br><span class="line"><span class="attr">map1:</span> &#123;<span class="attr">k1:</span> <span class="string">v1</span>, <span class="attr">k2:</span> <span class="string">v2</span>&#125;</span><br></pre></td></tr></table></figure>

<p>æ¡ˆä¾‹ï¼š</p>
<p>å®šä¹‰personçš„pojoç±»ï¼Œæ³¨æ„å‰ç¼€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;person&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> Boolean boss;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Pet pet;</span><br><span class="line">    <span class="keyword">private</span> String[] interests;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; animal;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; score;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;Double&gt; salarys;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, List&lt;Pet&gt;&gt; allPets;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>petçš„pojoç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;person.pet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Double weight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰ymlé…ç½®ç±»</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰å„ç§ç±»å‹çš„é…ç½®ä¿¡æ¯å¹¶ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="attr">person:</span></span><br><span class="line">  <span class="attr">user-name:</span> <span class="string">zhangsan</span></span><br><span class="line">  <span class="attr">boss:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">birth:</span> <span class="number">2023</span><span class="string">/2/2</span> <span class="number">12</span><span class="string">:12:03</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">18</span></span><br><span class="line">  <span class="attr">pet:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">xiaohuang</span></span><br><span class="line">    <span class="attr">weight:</span> <span class="number">23.2</span></span><br><span class="line">  <span class="attr">interests:</span> [<span class="string">song</span>, <span class="string">dance</span>, <span class="string">rap</span>]</span><br><span class="line">  <span class="attr">animal:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">fish</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">dog</span></span><br><span class="line">  <span class="attr">score:</span></span><br><span class="line">    <span class="attr">English:</span></span><br><span class="line">      <span class="attr">first:</span> <span class="number">30</span></span><br><span class="line">      <span class="attr">second:</span> <span class="number">40</span></span><br><span class="line">    <span class="attr">Math:</span> [<span class="number">100</span>, <span class="number">101</span>, <span class="number">102</span>]</span><br><span class="line">    <span class="attr">Chinese:</span> &#123;<span class="attr">first:</span> <span class="number">100</span>, <span class="attr">second:</span> <span class="number">102</span>&#125;</span><br><span class="line">  <span class="attr">salarys:</span> [<span class="number">3999</span>, <span class="number">4999</span>, <span class="number">5999</span>]</span><br><span class="line">  <span class="attr">all-pets:</span></span><br><span class="line">    <span class="attr">sick:</span></span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">tom</span>&#125;</span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">eric</span>, <span class="attr">weight:</span> <span class="number">23.2</span>&#125;</span><br><span class="line">    <span class="attr">health:</span>  [&#123;<span class="attr">name:</span> <span class="string">lucy</span>, <span class="attr">weight:</span> <span class="number">47.0</span>&#125;]</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™Controllerè¿›è¡Œæµ‹è¯•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223111339581.png" alt="image-20241223111339581">	</p>
<blockquote>
<p>æ³¨ï¼šå¦‚æœæ‰‹å†™çš„é…ç½®ä¿¡æ¯æ²¡æœ‰è‡ªåŠ¨æç¤ºï¼Œå¯å¯¼å…¥ä¾èµ–spring-boot-configuration-processor</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote>
<h2 id="2-2-SpringBootWebå¼€å‘"><a href="#2-2-SpringBootWebå¼€å‘" class="headerlink" title="2.2 SpringBootWebå¼€å‘"></a>2.2 SpringBootWebå¼€å‘</h2><h3 id="2-2-1-é™æ€èµ„æºè§„åˆ™å’Œå®šåˆ¶åŒ–"><a href="#2-2-1-é™æ€èµ„æºè§„åˆ™å’Œå®šåˆ¶åŒ–" class="headerlink" title="2.2.1 é™æ€èµ„æºè§„åˆ™å’Œå®šåˆ¶åŒ–"></a>2.2.1 é™æ€èµ„æºè§„åˆ™å’Œå®šåˆ¶åŒ–</h3><p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223113717710.png" alt="image-20241223113717710">	</p>
<p>æ ¹æ®å®˜æ–¹çš„æè¿°ï¼Œå¯ä»¥å¾—åˆ°springbootå¯¹é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™ï¼š</p>
<ul>
<li>åœ¨ç±»è·¯å¾„ä¸‹é¢å®šä¹‰ç›®å½•<ul>
<li>resources</li>
<li>public</li>
<li>static</li>
<li>META-INF&#x2F;resources</li>
</ul>
</li>
</ul>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223113803362.png" alt="image-20241223113803362" style="zoom:50%;" />	

<ul>
<li>è®¿é—®é™æ€èµ„æºè·¯å¾„ï¼šé¡¹ç›®çš„æ ¹ç›®å½• + é™æ€èµ„æºçš„åç§°ï¼ˆlocalhost:8080&#x2F;a.htmlï¼‰</li>
</ul>
<blockquote>
<p>æ³¨ï¼šåœ¨springbootä¸­ï¼Œå¦‚æœé¡¹ç›®ä¸­å­˜åœ¨åŒåçš„é™æ€èµ„æºå’ŒåŒåçš„åŠ¨æ€èµ„æºï¼Œæˆ‘ä»¬ä¼šä¼˜å…ˆå»è®¿é—®<code>åŠ¨æ€èµ„æº</code>ï¼Œå¦‚æœåŠ¨æ€èµ„æºä¸å­˜åœ¨ï¼Œç„¶åå†å»è®¿é—®å¯¹åº”çš„é™æ€èµ„æºï¼Œå¦‚æœé™æ€èµ„æºä¹Ÿæ‰¾ä¸åˆ°ï¼Œåˆ™æŠ¥404</p>
</blockquote>
<ul>
<li>å¦‚æœæˆ‘ä»¬æƒ³è‡ªå®šä¹‰é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™ï¼ˆé€»è¾‘æ˜ å°„ï¼‰ï¼Œspringbootä¹Ÿç»™äº†è§£å†³æ–¹æ¡ˆï¼Œå¯¹é™æ€èµ„æºçš„æ˜ å°„è·¯å¾„æ·»åŠ å‰ç¼€</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è‡ªå®šä¹‰é™æ€èµ„æºçš„æ˜ å°„è§„åˆ™</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mvc:</span></span><br><span class="line">    <span class="attr">static-path-pattern:</span> <span class="string">&quot;/hello/**&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç»™é™æ€èµ„æºè®¾ç½®è‡ªå®šä¹‰å­˜æ”¾ç›®å½•ï¼ˆç‰©ç†æ˜ å°„ï¼‰</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è‡ªå®šä¹‰é™æ€èµ„æºçš„å­˜æ”¾åœ°å€</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">resources:</span></span><br><span class="line">      <span class="attr">static-locations:</span> [<span class="string">classpath:/hello/</span>]</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶è®¿é—®&#x2F;c.htmlä¼šæ‰¾ä¸åˆ°ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯&#x2F;hello&#x2F;c.html</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223114006678.png" alt="image-20241223114006678">	</p>
<p>åŒæ—¶ä¹Ÿå¯ä»¥è®¿é—®webjarsé‡Œé¢çš„èµ„æºï¼ˆwebjaræ˜¯å°†é™æ€èµ„æºæ‰“æˆjaråŒ…)</p>
<p>é¦–å…ˆå¼•å…¥ç›¸å…³é™æ€èµ„æºçš„jaråŒ…ï¼ˆä¾èµ–ï¼‰</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.webjars<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jquery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å®˜æ–¹çš„è®¿é—®è·¯å¾„è®¿é—®èµ„æº</p>
<blockquote>
<p>localhost:8088&#x2F;webjars&#x2F;jquery&#x2F;3.5.1&#x2F;jquery.js</p>
</blockquote>
<blockquote>
<p>é™æ€èµ„æºæ˜ å°„æºç è§æºç è§£æéƒ¨åˆ†</p>
</blockquote>
<h3 id="2-2-2-welcomeä¸favicon"><a href="#2-2-2-welcomeä¸favicon" class="headerlink" title="2.2.2 welcomeä¸favicon"></a>2.2.2 welcomeä¸favicon</h3><ul>
<li>é…ç½®æ¬¢è¿é¡µï¼Œ<code>index.html</code>æ”¾åœ¨é™æ€æ–‡ä»¶æ˜ å°„çš„ç›®å½•å³å¯</li>
</ul>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223114234393.png" alt="image-20241223114234393" style="zoom: 50%;" />	

<pre><code>&lt;img src=&quot;https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223114248180.png&quot; alt=&quot;image-20241223114248180&quot; style=&quot;zoom:50%;&quot; /&gt;	
</code></pre>
<ul>
<li>é…ç½®<code>å›¾æ ‡favicon</code>ï¼Œé‡å‘½åä¸º<code>favicon.ico</code>ï¼Œæ”¾åœ¨é™æ€èµ„æºç›®å½•å³å¯</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223114321584.png" alt="image-20241223114321584">	</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223114328674.png" alt="image-20241223114328674" style="zoom: 50%;" />	

<blockquote>
<p>æ³¨ï¼šå¦‚æœé…ç½®äº†é™æ€èµ„æºæ˜ å°„å‰ç¼€ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´index.htmlè®¿é—®ä¸åˆ°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">spring:</span><br><span class="line">mvc:</span><br><span class="line"><span class="keyword">static</span>-path-pattern: /hello<span class="comment">/** #ä¼šå¯¼è‡´é¦–é¡µindex.htmlè®¿é—®ä¸äº†</span></span><br></pre></td></tr></table></figure></blockquote>
<h3 id="2-2-3-ã€æºç ã€‘é™æ€èµ„æºæ˜ å°„å’Œé¦–é¡µæ˜ å°„åŸç†"><a href="#2-2-3-ã€æºç ã€‘é™æ€èµ„æºæ˜ å°„å’Œé¦–é¡µæ˜ å°„åŸç†" class="headerlink" title="2.2.3 ã€æºç ã€‘é™æ€èµ„æºæ˜ å°„å’Œé¦–é¡µæ˜ å°„åŸç†"></a>2.2.3 ã€æºç ã€‘é™æ€èµ„æºæ˜ å°„å’Œé¦–é¡µæ˜ å°„åŸç†</h3><blockquote>
<p>ä¸ºä»€ä¹ˆé™æ€èµ„æºæ˜ å°„è§„åˆ™å’Œé¦–é¡µæ˜ å°„èµ„æºè§„åˆ™ä¼šç”Ÿæ•ˆ</p>
<ul>
<li>WebMvcAutoConfigurationé…ç½®ç±»å¸®åŠ©æˆ‘ä»¬é…ç½®äº†ç›¸å…³åŠŸèƒ½</li>
<li>WebMvcAutoConfigurationAdapteråˆå§‹åŒ–äº†ä¸€ç³»åˆ—ç»„ä»¶ï¼Œäº¤ç”±IOCå®¹å™¨ç®¡ç†<ul>
<li>ResoucePropertiesï¼šå¼€å¯å¯¹é…ç½®æ–‡ä»¶ï¼ˆspring.resourceå¼€å¤´ï¼‰çš„ç»‘å®š</li>
<li>WebPropertiesï¼šå¼€å¯å¯¹é…ç½®æ–‡ä»¶ï¼ˆspring.webå¼€å¤´ï¼‰çš„ç»‘å®š</li>
</ul>
</li>
<li>çœŸæ­£æ‰§è¡Œæ–¹æ³•çš„æ˜¯<code>addResourceHandlers</code></li>
</ul>
<p><img src="/img/loading.gif" data-original="C:\Users\ljy\AppData\Local\Temp\utools.notes\f6499880cb1275bf66d09ec3d21180f8.png" alt="f6499880cb1275bf66d09ec3d21180f8">	</p>
<p>é¦–é¡µçš„æ˜ å°„è§„åˆ™ï¼š<code>WelcomePageHandlerMapping</code></p>
<p><img src="/img/loading.gif" data-original="C:\Users\ljy\AppData\Local\Temp\utools.notes\d46ea11971709b3641502c65d5177d6d.png" alt="d46ea11971709b3641502c65d5177d6d"></p>
</blockquote>
<p>å…³äºé™æ€æ˜ å°„è§„åˆ™é…ç½®åœ¨<code>WebMvcAutoConfiguration</code>è¿™ä¸ªé…ç½®ç±»ä¸­æè¿°</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223160151468.png" alt="image-20241223160151468"></p>
<p>è§‚å¯Ÿæºç å‘ç°ï¼Œæ˜¯å·²ç»æ”¾å…¥åˆ°äº†IOCå®¹å™¨ä¸­è¿›è¡Œç®¡ç†ï¼ˆè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆï¼‰ï¼Œæ¥ä¸‹æ¥çœ‹å…·ä½“é…ç½®çš„é¡¹ç›®ã€‚</p>
<p><code>WebMvcAutoConfigurationAdapter</code>è¿™ä¸ªç»„ä»¶è¦æ±‚é…ç½®<code>WebMvcProperties</code>ï¼ˆspring.mvcå¼€å¤´ï¼‰å’Œ<code>ResourceProperties</code>ï¼ˆspring.webå¼€å¤´ï¼‰ä¸¤ä¸ªç±»</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223160300573.png" alt="image-20241223160300573">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223160352758.png" alt="image-20241223160352758">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223160401392.png" alt="image-20241223160401392">	</p>
<p>å¯ä»¥çœ‹åˆ°<code>WebMvcAutoConfigurationAdapter</code>æœ‰ä¸€ä¸ªæ¡ä»¶æ„é€ å™¨ï¼Œè¯¥ç±»çš„å‚æ•°éƒ½å°†ä»IOCå®¹å™¨ä¸­è·å–ç¡®å®š</p>
<ul>
<li>ResourceProperties resourcePropertiesï¼›è·å–å’Œ<code>spring.resources</code>ç»‘å®šçš„æ‰€æœ‰çš„å€¼çš„å¯¹è±¡</li>
<li>WebMvcProperties mvcProperties è·å–å’Œ<code>spring.mvc</code>ç»‘å®šçš„æ‰€æœ‰çš„å€¼çš„å¯¹è±¡</li>
<li>ListableBeanFactory beanFactory Springçš„&#96;&#96;beanFactory&#96;</li>
<li>HttpMessageConverters æ‰¾åˆ°æ‰€æœ‰çš„<code>HttpMessageConverters</code></li>
<li>ResourceHandlerRegistrationCustomizer æ‰¾åˆ° èµ„æºå¤„ç†å™¨çš„<code>è‡ªå®šä¹‰å™¨</code>ã€‚</li>
<li>ServletRegistrationBean ç»™åº”ç”¨æ³¨å†ŒServletã€Filterâ€¦</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223160522035.png" alt="image-20241223160522035"></p>
<h4 id="2-2-3-1-é™æ€èµ„æºå¤„ç†é»˜è®¤è§„åˆ™"><a href="#2-2-3-1-é™æ€èµ„æºå¤„ç†é»˜è®¤è§„åˆ™" class="headerlink" title="2.2.3.1 é™æ€èµ„æºå¤„ç†é»˜è®¤è§„åˆ™"></a>2.2.3.1 é™æ€èµ„æºå¤„ç†é»˜è®¤è§„åˆ™</h4><p><code>WebMvcAutoConfigurationAdapter</code>ç»„ä»¶ç”Ÿæ•ˆåï¼Œé‡Œé¢æœ‰ä¸€ä¸ª<code>addResourceHandlers</code>æ–¹æ³•ï¼Œå°±æ˜¯åœ¨æè¿°é™æ€èµ„æºå¤„ç†çš„é»˜è®¤è§„åˆ™ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223160905736.png" alt="image-20241223160905736">	</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.resourceProperties.isAddMappings()) &#123;</span><br><span class="line">        logger.debug(<span class="string">&quot;Default resource handling disabled&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.addResourceHandler(registry, <span class="string">&quot;/webjars/**&quot;</span>, <span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.addResourceHandler(registry, <span class="built_in">this</span>.mvcProperties.getStaticPathPattern(), (registration) -&gt; &#123;</span><br><span class="line">            registration.addResourceLocations(<span class="built_in">this</span>.resourceProperties.getStaticLocations());</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.servletContext != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">ServletContextResource</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServletContextResource</span>(<span class="built_in">this</span>.servletContext, <span class="string">&quot;/&quot;</span>);</span><br><span class="line">                registration.addResourceLocations(<span class="keyword">new</span> <span class="title class_">Resource</span>[]&#123;resource&#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä»ä¸Šé¢çš„æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒresourcePropertiesé»˜è®¤ä»ResourcesPropertiesç±»ä¸­è·å–å€¼ï¼Œæ‰€ä»¥å¯ä»¥å¾—å‡ºç»“è®ºï¼Œå®¹å™¨ä¸­é»˜è®¤ä¸ºæˆ‘ä»¬å®šä¹‰çš„æ˜¯true</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223161038841.png" alt="image-20241223161038841">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223161138540.png" alt="image-20241223161138540">	</p>
<p>è€Œå¦‚æœæˆ‘ä»¬æ•…æ„è®¾ç½®ä¸ºfalseï¼Œé™æ€èµ„æºæ˜ å°„è§„åˆ™å°†ä¼šå¤±æ•ˆ</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">    <span class="attr">resources:</span></span><br><span class="line">    	<span class="attr">add-mappings:</span> <span class="literal">false</span> <span class="comment"># é»˜è®¤ä¸ºtrue</span></span><br></pre></td></tr></table></figure>

<p>ç»§ç»­çœ‹ä¸‹é¢ä¹Ÿå®šä¹‰äº†webjarsçš„æ˜ å°„</p>
<blockquote>
<p>è¿™å°±è¯æ˜äº†æˆ‘ä»¬ä¹‹å‰è®¿é—®jqueryèµ„æºçš„æ˜ å°„è·¯å¾„ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå†™ï¼š<br><a target="_blank" rel="noopener" href="http://localhost:8088/webjars/jquery/3.5.1/jquery.js">http://localhost:8088/webjars/jquery/3.5.1/jquery.js</a></p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223161451514.png" alt="image-20241223161451514" style="zoom:50%;" />	</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223161406855.png" alt="image-20241223161406855">	</p>
<blockquote>
<p>è¯·æ±‚èµ„æºçš„æ˜ å°„è§„åˆ™åŸç†</p>
</blockquote>
<p>ç»§ç»­step intoè¿›ä¸€æ­¥çœ‹<code>addResourceHandler</code>è¿™ä¸ªæ–¹æ³•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223161616955.png" alt="image-20241223161616955"></p>
<p>å¯ä»¥çœ‹åˆ°é»˜è®¤çš„æ˜ å°„è§„åˆ™æ˜¯&#x2F;**</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223161653980.png" alt="image-20241223161653980">	</p>
<p>å¯¹åº”çš„é…ç½®</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">	<span class="attr">mvc:</span></span><br><span class="line">		<span class="attr">static-path-pattern:</span> <span class="string">/**</span> <span class="comment"># é»˜è®¤å€¼</span></span><br></pre></td></tr></table></figure>



<p>è€Œå¯ä»¥çœ‹åˆ°å®šä¹‰çš„registryä»“åº“ä¸­ï¼Œç¡®å®æ˜¯æˆ‘ä»¬ä¸€å¼€å§‹è¯´çš„4ä¸ªç‰©ç†é¢„è®¾è·¯å¾„</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223161744456.png" alt="image-20241223161744456">	</p>
<h4 id="2-2-3-2-æ¬¢è¿é¡µå¤„ç†è§„åˆ™"><a href="#2-2-3-2-æ¬¢è¿é¡µå¤„ç†è§„åˆ™" class="headerlink" title="2.2.3.2 æ¬¢è¿é¡µå¤„ç†è§„åˆ™"></a>2.2.3.2 æ¬¢è¿é¡µå¤„ç†è§„åˆ™</h4><p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223162140282.png" alt="image-20241223162140282">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223162236776.png" alt="image-20241223162236776"></p>
<p>è¿›ä¸€æ­¥è¿½è¿›å»å¾—åˆ°çš„ä¿¡æ¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>å¯ä»¥çœ‹åˆ°æ¬¢è¿é¡µçš„æ˜ å°„è·¯å¾„å†™æ­»äº†<code>/**</code>ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªé‡å®šå‘çš„æ“ä½œ ï¼Œè¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆè‡ªå®šä¹‰é™æ€èµ„æºå‰ç¼€åï¼Œé¦–é¡µèµ„æºè®¿é—®å¤±è´¥</li>
<li>else iféƒ¨åˆ†æ˜¯è®¿é—®æ˜ å°„è·¯å¾„ä¸ºindexçš„controller</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223162258996.png" alt="image-20241223162258996">	</p>
<h3 id="2-2-4-ã€æºç ã€‘RESTæ˜ å°„å¤„ç†è¡¨å•å‚æ•°åŸç†"><a href="#2-2-4-ã€æºç ã€‘RESTæ˜ å°„å¤„ç†è¡¨å•å‚æ•°åŸç†" class="headerlink" title="2.2.4 ã€æºç ã€‘RESTæ˜ å°„å¤„ç†è¡¨å•å‚æ•°åŸç†"></a>2.2.4 ã€æºç ã€‘RESTæ˜ å°„å¤„ç†è¡¨å•å‚æ•°åŸç†</h3><blockquote>
<p>springbootè¯·æ±‚æ˜ å°„çš„åŸç†ï¼š</p>
<ul>
<li>å¯¹äºè¡¨å•çš„è¯·æ±‚ï¼Œé€šè¿‡ä¸€ä¸ªè¿‡æ»¤å™¨æ¥å¤„ç†<code>OrderedHiddenHttpMethodFilter</code>ï¼Œé»˜è®¤ä¸å¼€å¯ï¼Œå¦‚æœè¦å¼€å¯ï¼Œéœ€è¦å°†å…¶é»˜è®¤å€¼å˜ä¸ºtrue</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mvc:</span></span><br><span class="line">    <span class="attr">hidden method:</span></span><br><span class="line">      <span class="attr">filter:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>çœŸæ­£æ‰§è¡Œè¿‡æ»¤çš„æ˜¯å…¶ç»§æ‰¿çš„ç±»<code>HiddenHttpMethodFilter</code>çš„æ–¹æ³•<code>doFilterInternal</code></p>
<ul>
<li>å¯ä»¥çœ‹åˆ°å¦‚æœ_methodåŒ¹é…PUT DELETEç­‰ï¼Œå°±ç”¨ä¸€ä¸ªHttpMethodRequestWrapperç±»è¿›è¡Œå¢å¼º</li>
</ul>
<blockquote>
<p>å½“ç„¶ä¹Ÿå¯ä»¥è‡ªè¡Œå®šä¹‰ALLOWED_METHODSå‚æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HiddenHttpMethodConfig</span> &#123;</span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰filter</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> HiddenHttpMethodFilter <span class="title function_">hiddenHttpMethodFilter</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="type">HiddenHttpMethodFilter</span> <span class="variable">methodFilter</span> <span class="operator">=</span> <span class="keyword">new</span></span><br><span class="line"> <span class="title class_">HiddenHttpMethodFilter</span>();</span><br><span class="line"> methodFilter.setMethodParam(<span class="string">&quot;_m&quot;</span>);</span><br><span class="line"> <span class="keyword">return</span> methodFilter;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doFilterInternal</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">       <span class="type">HttpServletRequest</span> <span class="variable">requestToUse</span> <span class="operator">=</span> request;</span><br><span class="line">       <span class="keyword">if</span> (<span class="string">&quot;POST&quot;</span>.equals(request.getMethod()) &amp;&amp; request.getAttribute(<span class="string">&quot;javax.servlet.error.exception&quot;</span>) == <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="type">String</span> <span class="variable">paramValue</span> <span class="operator">=</span> request.getParameter(<span class="built_in">this</span>.methodParam);</span><br><span class="line">           <span class="keyword">if</span> (StringUtils.hasLength(paramValue)) &#123;</span><br><span class="line">               <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> paramValue.toUpperCase(Locale.ENGLISH);</span><br><span class="line">               <span class="keyword">if</span> (ALLOWED_METHODS.contains(method)) &#123;</span><br><span class="line">                   requestToUse = <span class="keyword">new</span> <span class="title class_">HttpMethodRequestWrapper</span>(request, method);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       filterChain.doFilter((ServletRequest)requestToUse, response);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">	<span class="meta">@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.GET)</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getUser</span><span class="params">()</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;GET-è¯·æ±‚&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote>
<p>SpringBootä¹Ÿæ”¯æŒRESTé£æ ¼çš„æ˜ å°„å¤„ç†ï¼Œåœ¨springMVCä¸­æˆ‘ä»¬çŸ¥é“è¦å®šä¹‰ä¸€ä¸ª<code>_method</code>éšè—å±æ€§æ¥æŒ‡å®šè¯·æ±‚æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨springbootæ˜¯å¦æ˜¯åŒç†ï¼Ÿåœ¨å“ªé‡Œä½“ç°çš„ï¼Ÿ</p>
<p>å®šä¹‰å‰ç«¯è¡¨å•</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--getè¯·æ±‚--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/user&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;_method&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;REST-GET æäº¤&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--postè¯·æ±‚--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/user&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;_method&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;REST-POST æäº¤&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--putè¯·æ±‚--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/user&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;_method&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;put&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;REST-PUT æäº¤&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--deleteè¯·æ±‚--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/user&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;_method&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;delete&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;REST-DELETE æäº¤&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å®šä¹‰æ§åˆ¶å™¨</p>
<ul>
<li>æŠ€å·§ï¼š<code>@XxxMapping</code>æ³¨è§£ç®€åŒ–<code>@RequestMapp(value = &quot;/user&quot;, method = RequestMethod.XXX)</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xq.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @RequestMapping(value = &quot;/user&quot;, method = RequestMethod.GET)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;GET-è¯·æ±‚&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @RequestMapping(value = &quot;/user&quot;, method = RequestMethod.POST)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">saveUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;POST-è¯·æ±‚&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @RequestMapping(value = &quot;/user&quot;, method = RequestMethod.PUT)</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">putUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;PUT-è¯·æ±‚&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @RequestMapping(value = &quot;/user&quot;, method = RequestMethod.DELETE)</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">deleteUser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;DELETE-è¯·æ±‚&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŸºäºSpringMVCçš„æ€æƒ³ï¼Œæ¥åˆ°<code>OrderedHiddenHttpMethodFilter</code>ï¼Œç”¨æ¥è®¾ç½®RestFulé£æ ¼çš„ä¸€ä¸ªè¿‡æ»¤å™¨</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223162838916.png" alt="image-20241223162838916">	</p>
<p>å¯ä»¥çœ‹åˆ°SpringBootåº•å±‚æ˜¯æ€ä¹ˆé…ç½®çš„</p>
<ul>
<li>å¾ˆæ˜¾ç„¶ï¼Œ<code>spring.mvc.hiddenmethod.filter.enabled</code>å°±æ˜¯æ§åˆ¶è¯¥è¿‡æ»¤å™¨æ˜¯å¦å¯ç”¨ï¼Œé»˜è®¤æ˜¯<code>false</code>ï¼Œæ„å‘³ç€æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223162904952.png" alt="image-20241223162904952">	</p>
<ul>
<li>æˆ‘ä»¬éœ€è¦ç”¨RESTé£æ ¼è¯·æ±‚ï¼Œå› æ­¤å¯ç”¨è¯¥è¿‡æ»¤å™¨</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">	<span class="attr">mvc:</span></span><br><span class="line">		<span class="attr">static-path-pattern:</span> <span class="string">/**</span></span><br><span class="line">			<span class="attr">hiddenmethod:</span></span><br><span class="line">			<span class="attr">filter:</span></span><br><span class="line">				<span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¦‚æœè¦çœ‹è¿‡æ»¤å™¨çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œé‚£å°±è¿½è¿›å»ã€‚çœ‹åˆ°<code>OrderedHiddenHttpMethodFilter</code>è¿‡æ»¤å™¨ç»§æ‰¿äº†<code>HiddenHttpMethodFilter</code></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223163218655.png" alt="image-20241223163218655">	</p>
<p>ç»§ç»­Step intoï¼Œå¯ä»¥çœ‹åˆ°å…·ä½“çš„è¿‡æ»¤å™¨æµç¨‹ï¼Œæ‰“æ–­ç‚¹çœ‹æ˜¯æ€ä¹ˆå¤„ç†çš„</p>
<ul>
<li>çœ‹æ¥å°±æ˜¯å‰ç«¯å‘æ¥POSTè¯·æ±‚</li>
<li>åç«¯å°†<code>_method</code>å‚æ•°å€¼åŒ¹é…å‰ç«¯ä¼ æ¥çš„<code>_method</code>å‚æ•°å¤§å†™ååŒ¹é…</li>
<li>å¥—ä¸€å±‚<code>HttpMethodRequestWrapper</code>åŒ…è£…ç±»ï¼Œæ‰©å±•ä¸º<code>PUT</code>æˆ–è€…<code>DELETE</code>è¯·æ±‚</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223163811502.png" alt="image-20241223163811502"></p>
<blockquote>
<p>psï¼šæˆ‘ä»¬å½“ç„¶ä¹Ÿå¯ä»¥ä¿®æ”¹_methodå‚æ•°ï¼Œé€šè¿‡é…ç½®ç±»æ¥è‡ªå®šä¹‰filterï¼Œæœ€ç»ˆSpringBootä¼šä»¥ç”¨æˆ·å®šä¹‰çš„ä¸ºä¸»ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223163947167.png" alt="image-20241223163947167">	</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HiddenHttpMethodConfig</span> &#123;</span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰filter</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> HiddenHttpMethodFilter <span class="title function_">hiddenHttpMethodFilter</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">HiddenHttpMethodFilter</span> <span class="variable">methodFilter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HiddenHttpMethodFilter</span>();</span><br><span class="line">        methodFilter.setMethodParam(<span class="string">&quot;_m&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> methodFilter;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote>
<h3 id="2-2-5-ã€æºç ã€‘å¤„ç†å™¨æ˜ å°„å™¨å¤„ç†åº•å±‚åŸç†"><a href="#2-2-5-ã€æºç ã€‘å¤„ç†å™¨æ˜ å°„å™¨å¤„ç†åº•å±‚åŸç†" class="headerlink" title="2.2.5 ã€æºç ã€‘å¤„ç†å™¨æ˜ å°„å™¨å¤„ç†åº•å±‚åŸç†"></a>2.2.5 ã€æºç ã€‘å¤„ç†å™¨æ˜ å°„å™¨å¤„ç†åº•å±‚åŸç†</h3><p>é‚£ä¹ˆæ˜¯å¦‚ä½•æ‰§è¡Œåˆ°Controlleræ–¹æ³•çš„ï¼Ÿæ¥ä¸‹æ¥è¿½è¸ªæºç çš„è¿‡ç¨‹ï¼Œæ˜¯å¦‚ä½•è¿›è¡Œæ§åˆ¶å™¨æ˜ å°„çš„ã€‚</p>
<blockquote>
<p>æˆ‘ä»¬åœ¨SpringMVCçŸ¥é“ï¼Œç”¨æˆ·å‘é€è¯·æ±‚ä¼šè¢«å‰ç«¯æ§åˆ¶å™¨<code>DispatcherServlet</code>æ‹¦æˆªï¼ŒSpringBootä¹Ÿæœ‰ç±»ä¼¼çš„å‰ç«¯æ§åˆ¶å™¨ã€‚</p>
<p>è€Œåœ¨SpringMVCä¸­DispatcherServletä¸ä¼šäº²è‡ªå¤„ç†ç”¨æˆ·è¯·æ±‚ï¼ŒSpringBootä¸­ï¼Œè¯·æ±‚ä¼šè¢«DispatcherServletçš„çˆ¶ç±»<code>FrameworkServlet</code>å»å¤„ç†</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223164322612.png" alt="image-20241223164322612">	</p>
<p>åœ¨FrameworkServletå®šä¹‰äº†å¯¹ä¸åŒè¯·æ±‚æ–¹å¼çš„å¤„ç†æ–¹æ³•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223164357675.png" alt="image-20241223164357675"></p>
</blockquote>
<p>æ¥ä¸‹æ¥ç»§ç»­çœ‹<code>processRequest</code>å…·ä½“åšäº†ä»€ä¹ˆï¼Œå…³é”®æ˜¯doServiceæ–¹æ³•ï¼Œçœ‹åˆ°è¿™é‡Œæ˜¯ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼ŒDispatcherServletä¸­é‡å†™ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223164451855.png" alt="image-20241223164451855"></p>
<p>DiepatcherServletçš„doServiceé‡Œé¢å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„doDispatchæ–¹æ³•äº†</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223164633779.png" alt="image-20241223164633779">	</p>
<ul>
<li>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„å¤„ç†å™¨<code>Handler</code>ã€å¤„ç†å™¨é€‚é…å™¨<code>HandlerAdapter</code>äº†</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223164731271.png" alt="image-20241223164731271">	</p>
<p>Step Intoè¿›å…¥Handler</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223165027893.png" alt="image-20241223165027893">	</p>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ³¨è§£çš„å…¨éƒ¨éƒ½æ”¾åˆ°äº†mappingRegistryæ”¾å…¥åˆ°HashMapä¸­äº†ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223165255649.png" alt="image-20241223165255649">	</p>
<p>è€Œåœ¨getHandleræ–¹æ³•ä¸­ï¼Œè¿›ä¸€æ­¥çš„getHandlerInternalå°±æ˜¯å¯¹è¯·æ±‚çš„å…·ä½“å¤„ç†äº†ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223165357934.png" alt="image-20241223165357934">	</p>
<h2 id="2-3-SpringBootå¸¸è§æ³¨è§£"><a href="#2-3-SpringBootå¸¸è§æ³¨è§£" class="headerlink" title="2.3 SpringBootå¸¸è§æ³¨è§£"></a>2.3 SpringBootå¸¸è§æ³¨è§£</h2><blockquote>
<p>é™¤äº†@RequestAttributeæ³¨è§£å¤–ï¼Œå…¶ä»–åœ¨SpingMVCéƒ¨åˆ†å·²ç»è¯¦ç»†è¯´æ˜ï¼Œè¿™é‡Œåªç®€å•æ¼”ç¤ºä½¿ç”¨ã€‚</p>
</blockquote>
<h3 id="2-3-1-PathVariable"><a href="#2-3-1-PathVariable" class="headerlink" title="2.3.1 @PathVariable"></a>2.3.1 @PathVariable</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ParamController</span> &#123;    </span><br><span class="line">	 <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•<span class="doctag">@PathVariable</span>æ³¨è§£</span></span><br><span class="line"><span class="comment">     * localhost:8080/aa/10010/mm/123</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userId</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> num</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;aa/&#123;userId&#125;/mm/&#123;num&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testPathVariable</span><span class="params">(<span class="meta">@PathVariable(&quot;userId&quot;)</span> String userId, <span class="meta">@PathVariable(&quot;num&quot;)</span> Integer num)</span> &#123;</span><br><span class="line">        System.out.println(userId);</span><br><span class="line">        System.out.println(num);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223115141948.png" alt="image-20241223115141948">	</p>
<blockquote>
<p>10010<br>123</p>
</blockquote>
<h3 id="2-3-2-RequestParam"><a href="#2-3-2-RequestParam" class="headerlink" title="2.3.2 @RequestParam"></a>2.3.2 @RequestParam</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•<span class="doctag">@RequestParam</span>æ³¨è§£</span></span><br><span class="line"><span class="comment"> * localhost:8080/testRequestParam?username=aric&amp;age=12&amp;address=usa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;testRequestParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestParam</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String username, <span class="meta">@RequestParam(&quot;age&quot;)</span> Integer age,</span></span><br><span class="line"><span class="params">                               <span class="meta">@RequestParam(&quot;address&quot;)</span> String address)</span> &#123;</span><br><span class="line">    System.out.println(username);</span><br><span class="line">    System.out.println(age);</span><br><span class="line">    System.out.println(address);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223115216594.png" alt="image-20241223115216594">	</p>
<blockquote>
<p>aric<br>12<br>usa</p>
</blockquote>
<h3 id="2-3-3-RequestBody"><a href="#2-3-3-RequestBody" class="headerlink" title="2.3.3 @RequestBody"></a>2.3.3 @RequestBody</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * åœ¨åŒæ­¥çš„æƒ…å†µä¸‹ï¼Œè·å–è¡¨å•çš„å®ä½“å†…å®¹ï¼Œå¼‚æ­¥è¯·æ±‚å¯ä»¥å°†JSONè‡ªåŠ¨è½¬ä¸ºå®ä½“</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> data</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@RequestMapping(&quot;getData&quot;)</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">getData</span><span class="params">(<span class="meta">@RequestBody</span> String data)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> data;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223115422893.png" alt="image-20241223115422893">	</p>
<h3 id="2-3-4-CookieValue"><a href="#2-3-4-CookieValue" class="headerlink" title="2.3.4 @CookieValue"></a>2.3.4 @CookieValue</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–æŒ‡å®šçš„cookieå€¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> cookie</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;testCookieValue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getCookie</span><span class="params">(<span class="meta">@CookieValue(&quot;cookie&quot;)</span> String cookie)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cookie;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223120703989.png" alt="image-20241223120703989">	</p>
<h3 id="2-3-5-RequestHeader"><a href="#2-3-5-RequestHeader" class="headerlink" title="2.3.5 @RequestHeader"></a>2.3.5 @RequestHeader</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * æµ‹è¯•è¯·æ±‚å¤´</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> header</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@RequestMapping(&quot;testRequestHeader&quot;)</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">testRequestHeader</span><span class="params">(<span class="meta">@RequestHeader(&quot;Accept&quot;)</span> String header)</span> &#123;</span><br><span class="line">      System.out.println(header);</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223120749312.png" alt="image-20241223120749312">	</p>
<blockquote>
<p>application&#x2F;json, text&#x2F;plain, <em>&#x2F;</em></p>
</blockquote>
<h3 id="2-3-6-RequestAttribute"><a href="#2-3-6-RequestAttribute" class="headerlink" title="2.3.6 @RequestAttribute"></a>2.3.6 @RequestAttribute</h3><blockquote>
<p>æ³¨ï¼šä½¿ç”¨@Controller</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/test1&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">test1</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">       request.setAttribute(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;eric&quot;</span>);</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;forward:/test2&quot;</span>;</span><br><span class="line">   &#125; 	</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * RequestAttributeæ³¨è§£ç”¨äºè·å–Requestä½œç”¨åŸŸé‡Œé¢çš„å€¼ï¼Œä¿®é¥°æ§åˆ¶å™¨æ–¹æ³•çš„å‚æ•°</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> username</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@RequestMapping(&quot;/test2&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">test2</span><span class="params">(<span class="meta">@RequestAttribute(&quot;username&quot;)</span> String username)</span> &#123;</span><br><span class="line">       System.out.println(username);</span><br><span class="line">       <span class="keyword">return</span> username;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223121307398.png" alt="image-20241223121307398">	</p>
<blockquote>
<p>eric</p>
</blockquote>
<h3 id="2-3-7-Matrixvariable"><a href="#2-3-7-Matrixvariable" class="headerlink" title="2.3.7 @Matrixvariable"></a>2.3.7 @Matrixvariable</h3><p>è¯·æ±‚é£æ ¼çš„å½¢å¼ï¼š</p>
<ul>
<li>queryStringè¯·æ±‚æ–¹å¼(ï¼Ÿæ‹¼æ¥çš„æ–¹å¼)ï¼š &#x2F;request?username&#x3D;admin&amp;password&#x3D;123456&amp;age&#x3D;20</li>
<li>resté£æ ¼è¯·æ±‚ï¼š&#x2F;request&#x2F;admin&#x2F;123456&#x2F;20</li>
<li>çŸ©é˜µå˜é‡è¯·æ±‚é£æ ¼ï¼š&#x2F;request&#x2F;path;username&#x3D;admin;password&#x3D;123456;age&#x3D;20,21,22</li>
</ul>
<p>æ‰‹åŠ¨å¼€å¯çŸ©é˜µå˜é‡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configurePathMatch</span><span class="params">(PathMatchConfigurer configurer)</span> &#123;</span><br><span class="line">        <span class="type">UrlPathHelper</span> <span class="variable">urlPathHelper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlPathHelper</span>();</span><br><span class="line">        <span class="comment">// å¼€å¯çŸ©é˜µå˜é‡çš„ä½¿ç”¨æƒé™</span></span><br><span class="line">        urlPathHelper.setRemoveSemicolonContent(<span class="literal">false</span>);</span><br><span class="line">        configurer.setUrlPathHelper(urlPathHelper);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™Controller</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;test/matrix/&#123;param&#125;&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> <span class="meta">@ResponseBody</span> String <span class="title function_">testMatrixVariable</span><span class="params">(<span class="meta">@MatrixVariable(pathVar = &quot;param&quot;, value = &quot;color&quot;)</span> String[] colors)</span> &#123;</span><br><span class="line">       <span class="keyword">for</span> (String color : colors) &#123;</span><br><span class="line">           System.out.println(color);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:8080/test/matrix/param;color=red,green,blue">http://localhost:8080/test/matrix/param;color=red,green,blue</a></p>
</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223121717587.png" alt="image-20241223121717587">	</p>
<h2 id="2-4-ã€æºç ã€‘handlerä¸­å‚æ•°ä¼ é€’ä¸å†…å®¹åå•†"><a href="#2-4-ã€æºç ã€‘handlerä¸­å‚æ•°ä¼ é€’ä¸å†…å®¹åå•†" class="headerlink" title="2.4 ã€æºç ã€‘handlerä¸­å‚æ•°ä¼ é€’ä¸å†…å®¹åå•†"></a>2.4 ã€æºç ã€‘handlerä¸­å‚æ•°ä¼ é€’ä¸å†…å®¹åå•†</h2><h3 id="2-4-1-å‚æ•°è§£æåŸç†"><a href="#2-4-1-å‚æ•°è§£æåŸç†" class="headerlink" title="2.4.1 å‚æ•°è§£æåŸç†"></a>2.4.1 å‚æ•°è§£æåŸç†</h3><h4 id="a-æ‰§è¡Œæ§åˆ¶å™¨å‰çš„å·¥ä½œ"><a href="#a-æ‰§è¡Œæ§åˆ¶å™¨å‰çš„å·¥ä½œ" class="headerlink" title="a. æ‰§è¡Œæ§åˆ¶å™¨å‰çš„å·¥ä½œ"></a>a. æ‰§è¡Œæ§åˆ¶å™¨å‰çš„å·¥ä½œ</h4><p>SpringBootå¦‚ä½•è·å–åˆ°è¿™äº›å‚æ•°å€¼å‘¢ï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸‹åº•å±‚æºç æ˜¯å¦‚ä½•è·å–çš„ã€‚</p>
<p>è¿˜æ˜¯å…³é”®æ˜¯<code>DispatcherServlet</code>ï¼Œä»»ä½•è¯·æ±‚éƒ½ä¼šè¢«å‰ç«¯æ§åˆ¶å™¨æ‹¦æˆªï¼Œé‡Œé¢çš„<code>doDispatch</code>æ–¹æ³•æ¥å¤„ç†æˆ‘ä»¬çš„è¯·æ±‚</p>
<p>è€Œåœ¨å¤„ç†å™¨æ˜ å°„å™¨åº•å±‚åŸç†ä¸­ï¼Œæåˆ°é‡Œé¢çš„<code>getHandler</code>æ–¹æ³•å¸®åŠ©æˆ‘ä»¬æŸ¥æ‰¾åˆ°å¤„ç†å™¨æ˜ å°„å™¨ä»¥æ‰§è¡Œå™¨é“¾çš„æ–¹å¼è¿”å›ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223165842523.png" alt="image-20241223165842523">	</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œåç»­è‚¯å®šæ˜¯è¦äº¤ç»™å¤„ç†å™¨é€‚é…å™¨è¿›ä¸€æ­¥å¤„ç†ï¼Œé‚£ä¹ˆå°±æ˜¯æˆ‘ä»¬çš„<code>getHandlerAdapter</code>æ–¹æ³•ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223165946835.png" alt="image-20241223165946835">	</p>
<p>Step intoçœ‹ä¸€ä¸‹</p>
<p>å¯ä»¥çœ‹åˆ°å¤‡é€‰çš„é€‚é…å™¨æœ‰4ä¸ªï¼Œé‚£ä¹ˆæˆ‘ä»¬å¸¸è§çš„æ³¨è§£<code>@RequestMapping</code>è‚¯å®šå¯¹åº”çš„æ˜¯ç¬¬ä¸€ä¸ªé€‚é…å™¨<code>RequestMappingHandlerAdapter</code></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223170019741.png" alt="image-20241223170019741">	</p>
<p>åœ¨æºç ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æ€æƒ³å¾ˆç®€å•ï¼Œå°±æ˜¯éå†è¿™å››ä¸ª</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223170146639.png" alt="image-20241223170146639">	</p>
<p>æ‹¿åˆ°é€‚é…å™¨åï¼Œå°±æ˜¯è¦é€šè¿‡é€‚é…å™¨æ¥å¤„ç†äº†ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223170336042.png" alt="image-20241223170336042">	</p>
<p>MVCç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†å¤„ç†å™¨çš„è¿‡ç¨‹ï¼Œä¸å†èµ˜è¿°ï¼Œæˆ‘ä»¬è¿½åˆ°æœ€åº•éƒ¨</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223170553587.png" alt="image-20241223170553587"></p>
<p>æ¥çœ‹å…·ä½“çš„å€¼ï¼Œ<code>å‚æ•°è§£æå™¨</code>å°±å¯¹åº”äº†æˆ‘ä»¬æ³¨è§£çš„@RequestParamï¼Œ@PathVariableï¼Œ@MatrixVariableçš„ä¸€èˆ¬ã€RestFulã€çŸ©é˜µå˜é‡ç­‰ç­‰æ–¹å¼ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223170629294.png" alt="image-20241223170629294">	</p>
<p>ä»åç§°ä¹Ÿèƒ½çœ‹åˆ°ï¼Œéƒ½ç»§æ‰¿äº†<code>HandlerMethodArgumentResolver</code>ç±»</p>
<ul>
<li><code>åˆ¤æ–­å½“å‰è§£æå™¨æ˜¯å¦æ”¯æŒå½“å‰å‚æ•°</code>çš„æ–¹æ³•</li>
<li><code>è§£æ</code>çš„æ–¹æ³•</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223170802779.png" alt="image-20241223170802779">	</p>
<p>æ¥ç€çœ‹ï¼Œè¿”å›å€¼å¤„ç†å™¨ï¼Œä¹Ÿå°è¯äº†æˆ‘ä»¬äº†è§£çš„ModelAndViewç­‰ç±»å‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223170903821.png" alt="image-20241223170903821">	</p>
<p>è¿›å…¥åˆ°çœŸæ­£æ‰§è¡Œæ–¹æ³•çš„å†…éƒ¨ï¼Œè¿™é‡Œé¢å°±æ˜¯æ‰§è¡Œæˆ‘ä»¬çš„æ§åˆ¶å™¨æ–¹æ³•äº†ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223171009080.png" alt="image-20241223171009080"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223171037475.png" alt="image-20241223171037475"></p>
<p>ç»§ç»­Step Intoï¼Œå¯ä»¥çœ‹åˆ°è§£æå‚æ•°åï¼ŒåŸºäºåå°„æ¥æ‰§è¡Œ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223171124069.png" alt="image-20241223171124069">	</p>
<h4 id="b-åå°„æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•"><a href="#b-åå°„æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•" class="headerlink" title="b. åå°„æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•"></a>b. åå°„æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•</h4><ul>
<li>æ¥ä¸‹æ¥æµ‹è¯•æ§åˆ¶å™¨æ–¹æ³•ç©¶ç«Ÿæ˜¯æ€ä¹ˆæ‰§è¡Œçš„</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * SpringBootæ¥æ”¶å‚æ•°åº•å±‚åŸç†</span></span><br><span class="line"><span class="comment"> * localhost:8080/user/10010/num/123?username=eric</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> userId</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> num</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;user/&#123;userId&#125;/num/&#123;num&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@ResponseBody</span> String <span class="title function_">testParam</span><span class="params">(<span class="meta">@PathVariable(&quot;userId&quot;)</span> String userId, <span class="meta">@PathVariable(&quot;num&quot;)</span> Integer num,</span></span><br><span class="line"><span class="params">                        <span class="meta">@RequestParam(&quot;username&quot;)</span> String username)</span> &#123;</span><br><span class="line">    System.out.println(userId);</span><br><span class="line">    System.out.println(num);</span><br><span class="line">    System.out.println(username);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°è·å–åˆ°äº†æˆ‘ä»¬çš„å‚æ•°</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223171610436.png" alt="image-20241223171610436">	</p>
<p>æ¥ä¸‹æ¥ï¼Œç»§ç»­Step Into åˆ°doInvokeæ–¹æ³•å†…éƒ¨ï¼Œè·å–åˆ°Methodæ–¹æ³•åå°„æ‰§è¡Œã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223171815884.png" alt="image-20241223171815884">	</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¸»è¦å…³æ³¨ï¼Œç©¶ç«Ÿæ˜¯æ€ä¹ˆè·å–åˆ°è¿™äº›å‚æ•°çš„</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223172201995.png" alt="image-20241223172201995">	</p>
<p>è·å–åˆ°å‚æ•°è¯¦ç»†ä¿¡æ¯åï¼Œå£°æ˜ä¸€ä¸ªç©ºæ•°ç»„ï¼Œæ¥è§£æå‚æ•°</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223172343315.png" alt="image-20241223172343315">	</p>
<p>é¦–å…ˆåˆ¤æ–­æ˜¯å¦æ”¯æŒï¼Œç„¶åè¿›è¡Œè§£æ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223172358697.png" alt="image-20241223172358697">	</p>
<p>æ¥åˆ°è§£æçš„å†…éƒ¨ï¼Œè¿›å…¥<code>AbstractNamedValueMethodArgumentResolver</code>ç±»çš„resolveArgumentæ–¹æ³•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223172436945.png" alt="image-20241223172436945">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223172457219.png" alt="image-20241223172457219">	</p>
<p>å¯ä»¥çœ‹åˆ°å‚æ•°åç§°å’Œå‚æ•°å€¼æ”¾åˆ°mapå€¼ï¼Œé€šè¿‡keyè·å–å‚æ•°å€¼ï¼Œè¿™å°±æ˜¯<code>@PathVariable</code>å‚æ•°çš„è§£æåŸç†</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223172518242.png" alt="image-20241223172518242">	</p>
<p>æ¥åˆ°@RequestParam<strong>çš„å®ç°æ–¹æ³•</strong>ï¼Œå‘ç°å°±æ˜¯ç”¨åŸç”Ÿçš„Servletè¿›è¡Œå‚æ•°è§£æ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20241223172604893.png" alt="image-20241223172604893">	</p>
<h3 id="2-4-2-åŸç”ŸServletAPIæ”¯æŒåŸç†"><a href="#2-4-2-åŸç”ŸServletAPIæ”¯æŒåŸç†" class="headerlink" title="2.4.2 åŸç”ŸServletAPIæ”¯æŒåŸç†"></a>2.4.2 åŸç”ŸServletAPIæ”¯æŒåŸç†</h3><p>æˆ‘ä»¬çŸ¥é“ï¼ŒSpringBootåŒæ ·æ”¯æŒä¼ é€’åŸç”Ÿçš„Servletå¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;testServletAPI&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testServletAPI</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="a-è·å–å‚æ•°è§£æå™¨"><a href="#a-è·å–å‚æ•°è§£æå™¨" class="headerlink" title="a. è·å–å‚æ•°è§£æå™¨"></a>a. è·å–å‚æ•°è§£æå™¨</h4><p>æˆ‘ä»¬åœ¨<code>InvocableHandlerMethod</code>ç±»ä¸­ï¼Œåœ¨<code>getMethodArgumentValues</code>æ–¹æ³•å†…æ‰¾åˆ°å‚æ•°è§£æå¯¹åº”çš„éƒ¨åˆ†</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218193850937.png" alt="image-20250218193850937">	</p>
<p>ä¼ å…¥å‚æ•°ä¿¡æ¯<code>parameter</code>è¿›è¡Œè§£æ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218193938637.png" alt="image-20250218193938637">	</p>
<p>éšåéå†26ä¸ªå‚æ•°è§£æå™¨</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218194127356.png" alt="image-20250218194127356">	</p>
<p>æœ€ç»ˆæ˜¯é€šè¿‡<code>ServletRequestMethodArgumentResolver</code>è§£æ</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218194151940.png" alt="image-20250218194151940" style="zoom: 50%;" />	

<h4 id="b-æ‰§è¡Œè§£ææ“ä½œ"><a href="#b-æ‰§è¡Œè§£ææ“ä½œ" class="headerlink" title="b. æ‰§è¡Œè§£ææ“ä½œ"></a>b. æ‰§è¡Œè§£ææ“ä½œ</h4><p>æ¥ä¸‹æ¥ç»§ç»­çœ‹è¯¥å‚æ•°è§£æå™¨å…·ä½“çš„è§£ææ–¹æ³•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218194329250.png" alt="image-20250218194329250">	</p>
<blockquote>
<p>è¿™é‡Œçš„webRequestæ˜¯å°†requestå¯¹è±¡å’Œresponseå¯¹è±¡å°è£…åˆ°äº†ä¸€èµ·</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218194532601.png" alt="image-20250218194532601">	</p>
</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218194438001.png" alt="image-20250218194438001"></p>
<p>è¿›ä¸€æ­¥å¾€ä¸‹è¿½ï¼Œå‘ç°æ˜¯é€šè¿‡<code>getNativeRequest</code>æ–¹æ³•ï¼Œæ¥è·å¾—åŸç”Ÿçš„Servlet</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218194603119.png" alt="image-20250218194603119"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218194638301.png" alt="image-20250218194638301">			</p>
<p>è¿›å…¥<code>WebUtils.getNativeRequest(this.getRequest(), requiredType)</code>æ–¹æ³•ï¼Œå³å¯çœ‹åˆ°é€šè¿‡requireTypeçš„ç±»å‹ï¼Œè·å–åˆ°äº†åŸç”Ÿçš„requestå¯¹è±¡</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218195032004.png" alt="image-20250218195032004">	</p>
<p>æœ€ç»ˆè§£æå¾—åˆ°çš„ç»“æœ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218195406812.png" alt="image-20250218195406812">	</p>
<h3 id="2-4-3-Map-Modelç±»å‹å‚æ•°ï¼ˆRequeståŸŸï¼‰"><a href="#2-4-3-Map-Modelç±»å‹å‚æ•°ï¼ˆRequeståŸŸï¼‰" class="headerlink" title="2.4.3 Map  Modelç±»å‹å‚æ•°ï¼ˆRequeståŸŸï¼‰"></a>2.4.3 Map  Modelç±»å‹å‚æ•°ï¼ˆRequeståŸŸï¼‰</h3><p>è€ƒè™‘SpringBootåº•å±‚å¯¹äºModelå’ŒMapç±»å‹å‚æ•°çš„æ”¯æŒ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;testModelAndMap&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testModelAndMap</span><span class="params">(Map&lt;String, Object&gt; map, Model model)</span> &#123;</span><br><span class="line">    map.put(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;aric&quot;</span>);</span><br><span class="line">    model.addAttribute(<span class="string">&quot;gender&quot;</span>, <span class="string">&quot;sex&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;forward:success&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;success&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@ResponseBody</span> String <span class="title function_">success</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">    System.out.println(request.getAttribute(<span class="string">&quot;username&quot;</span>));</span><br><span class="line">    System.out.println(request.getAttribute(<span class="string">&quot;gender&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="a-è·å–å‚æ•°è§£æå™¨-1"><a href="#a-è·å–å‚æ•°è§£æå™¨-1" class="headerlink" title="a. è·å–å‚æ•°è§£æå™¨"></a>a. è·å–å‚æ•°è§£æå™¨</h4><p>ç›´æ¥æ¥åˆ°<code>InvocableHandlerMethod</code>ç±»ï¼ŒæŸ¥çœ‹å“ªä¸ªå‚æ•°è§£æå™¨æ”¯æŒæˆ‘ä»¬å†™çš„å‚æ•°</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218200447980.png" alt="image-20250218200447980"></p>
<p>ä¸€æ ·çš„æ“ä½œï¼Œå¾—åˆ°<code>MapMethodProcessor</code>ï¼Œå¹¶æ”¾å…¥ç¼“å­˜ä¸­</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218200545947.png" alt="image-20250218200545947"></p>
<blockquote>
<p>ç±»ä¼¼åœ°ï¼šå¯¹äºMapç±»å‹çš„å‚æ•°ï¼Œæ˜¯é€šè¿‡<code>ModelMethodProcessor</code>å‚æ•°è§£æå™¨è§£æ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218201506585.png" alt="image-20250218201506585"></p>
</blockquote>
<h4 id="b-MapMethodProcessorè§£æè¿‡ç¨‹"><a href="#b-MapMethodProcessorè§£æè¿‡ç¨‹" class="headerlink" title="b. MapMethodProcessorè§£æè¿‡ç¨‹"></a>b. MapMethodProcessorè§£æè¿‡ç¨‹</h4><p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218200747543.png" alt="image-20250218200747543"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218200804573.png" alt="image-20250218200804573"></p>
<p>è¿½åˆ°åº•åï¼Œå‘ç°è¿”å›mavContainer.getModel()</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218200834755.png" alt="image-20250218200834755"></p>
<p>ç»§ç»­çœ‹è¿™ä¸ªmavContainerè£…äº†å“ªäº›å†…å®¹ï¼Œå¹¶å…³æ³¨æ˜¯å¦‚ä½•è¿”å›Modelçš„</p>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°è¿”å›äº†ä¸€ä¸ª<code>BindingAwareModelMap</code>å¯¹è±¡ï¼Œè€ŒæŸ¥çœ‹è¯¥ç±»å¯¹è±¡å…³ç³»å›¾ï¼Œå‘ç°è¯¥å¯¹è±¡æ˜¯Modelï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªMap</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218201234516.png" alt="image-20250218201234516">	</p>
</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218200959303.png" alt="image-20250218200959303">	</p>
<p>å› æ­¤æˆ‘ä»¬ç¬¬ä¸€ä¸ªå‚æ•°Modelæœ€ç»ˆè§£æä¸ºä¸€ä¸ª<code>BindingAwareModelMap</code>å¯¹è±¡</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218201330618.png" alt="image-20250218201330618">	</p>
<h4 id="c-ModelMethodProcessorè§£æè¿‡ç¨‹"><a href="#c-ModelMethodProcessorè§£æè¿‡ç¨‹" class="headerlink" title="c.  ModelMethodProcessorè§£æè¿‡ç¨‹"></a>c.  ModelMethodProcessorè§£æè¿‡ç¨‹</h4><p>ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬åœ¨<code>InvocableHandlerMethod</code>ç±»ä¸­è§£æä»£ç ä¸­ï¼Œå¾€ä¸‹è¿½ï¼Œæœ€ç»ˆåŒæ ·å‘ç°ä¹Ÿæ˜¯é€šè¿‡<code>mav.getModel()</code>æ–¹æ³•è¿”å›</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218201736198.png" alt="image-20250218201736198"></p>
<p>å‘ç°æ˜¯ä¸€æ ·çš„</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218201822434.png" alt="image-20250218201822434">	</p>
<p>æœ€ç»ˆè§£æå¾—åˆ°çš„å‚æ•°å¦‚ä¸‹ï¼š</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218201927151.png" alt="image-20250218201927151">	</p>
<blockquote>
<p>æ³¨ï¼š<font style="color: red">å‘ç°Mapå’ŒModelç±»å‹è§£æå¾—åˆ°çš„argå‚æ•°æ˜¯å…±äº«ä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ˜¯ä½œä¸ºä¸€ä¸ªå¯¹è±¡å­˜åœ¨çš„</font></p>
</blockquote>
<h4 id="d-Invokeè¿‡ç¨‹"><a href="#d-Invokeè¿‡ç¨‹" class="headerlink" title="d. Invokeè¿‡ç¨‹"></a>d. Invokeè¿‡ç¨‹</h4><p>å¾—åˆ°å‚æ•°åï¼Œå°±æ˜¯é€šè¿‡åå°„æ¥æ‰§è¡Œ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218202216482.png" alt="image-20250218202216482"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218202433538.png" alt="image-20250218202433538"></p>
<p>æ‰§è¡Œæˆ‘ä»¬å†™çš„ä»£ç </p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218202507425.png" alt="image-20250218202507425">	</p>
<p>æ¥ä¸‹æ¥è·å¾—ç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼returnValueï¼Œå¹¶å°†æ§åˆ¶å™¨å‚æ•°ä¿¡æ¯å°è£…åœ¨BindingAwareModelMapå†…</p>
<p>æ¥ä¸‹æ¥æ‰§è¡ŒhandleReturnValue</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218202917684.png" alt="image-20250218202917684"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218202934342.png" alt="image-20250218202934342">	</p>
<p>è¿”å›å›æ¥ï¼Œç»§ç»­Step into</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218203032270.png" alt="image-20250218203032270"></p>
<p>æœ€ç»ˆé€šè¿‡mavContainerä¼ é€’åˆ°è§†å›¾ä¸­</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218203120863.png" alt="image-20250218203120863"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218204054214.png" alt="image-20250218204054214">	</p>
<p><font style="color: red">ç›®æ ‡æ–¹æ³•å¤„ç†å®Œæˆä»¥åï¼Œå°†æ‰€æœ‰çš„æ•°æ®éƒ½æ”¾åœ¨ ModelAndViewContainerï¼ŒåŒ…å«è¦å»çš„é¡µé¢åœ°å€Viewã€‚è¿˜åŒ…å«Modelæ•°æ®ã€‚</font></p>
<h4 id="e-handleæ”¶å°¾"><a href="#e-handleæ”¶å°¾" class="headerlink" title="e. handleæ”¶å°¾"></a>e. handleæ”¶å°¾</h4><p>å¤„ç†å¥½è¿”å›å€¼åï¼Œæˆ‘ä»¬æŸ¥çœ‹<code>RequestMappingHandlerAdapter</code>çš„<code>invokeHandlerMethod</code>æ–¹æ³•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218204358517.png" alt="image-20250218204358517"></p>
<p>è¿›å…¥åå‘ç°é€šè¿‡mavæ¥æå–å¯¹åº”çš„modelå’Œview</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218204512244.png" alt="image-20250218204512244"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218204526700.png" alt="image-20250218204526700">	</p>
<p>æ­¤æ—¶DispatcherServletç±»ä¸­mv &#x3D; ha.handle(processedRequest, response, mappedHandler.getHandler());çš„æµç¨‹ç»“æŸäº†</p>
<h4 id="f-applyPostHandle"><a href="#f-applyPostHandle" class="headerlink" title="f. applyPostHandle"></a>f. applyPostHandle</h4><p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218204718823.png" alt="image-20250218204718823">	</p>
<p>è¿™é‡Œæ˜¯æ‹¦æˆªå™¨ç›¸å…³ï¼Œè¯¥åœºæ™¯ä¸‹ä¸å¿…å…³æ³¨ï¼Œé‡å®šå‘ è½¬å‘çš„éƒ¨åˆ†ä¸åœ¨è¿™ï¼Œshift + f8è·³å‡º</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218204827235.png" alt="image-20250218204827235">	</p>
<h4 id="g-processDispatchResult"><a href="#g-processDispatchResult" class="headerlink" title="g. processDispatchResult"></a>g. processDispatchResult</h4><p>å¤„ç†æ´¾å‘ç»“æœ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218204948365.png" alt="image-20250218204948365"></p>
<p>è¿›å…¥ä»¥åï¼Œå‘ç°äº†renderæ–¹æ³•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218205042246.png" alt="image-20250218205042246"></p>
<p>å¯ä»¥çœ‹åˆ°åœ¨renderæ–¹æ³•å†…ï¼Œå¾—åˆ°è§†å›¾åç§°åï¼Œå¹¶ä»ModelAndViewä¸­å–æ•°æ®ï¼Œé€šè¿‡è¿™äº›æ•°æ®è§£æå¾—åˆ°æœ€ä½³çš„è§†å›¾</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218205147414.png" alt="image-20250218205147414"></p>
<p>ç„¶åå†è¿›è¡Œæ¸²æŸ“</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218205433616.png" alt="image-20250218205433616"><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218205458225.png" alt="image-20250218205458225"></p>
<p>å¯ä»¥çœ‹åˆ°Modelçš„æ•°æ®æ”¾åœ¨äº†<code>mergedModel</code>å†…ï¼Œå…¶ä¸º<code>LinkedHashMap</code>ç±»å‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218205517391.png" alt="image-20250218205517391">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218205558162.png" alt="image-20250218205558162">	</p>
<p>æœ€ç»ˆå°†åˆå¹¶åçš„<code>renderMergedOutputModel</code>è¿›è¡Œæ¸²æŸ“</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218205647006.png" alt="image-20250218205647006"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218205701676.png" alt="image-20250218205701676"></p>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°æ˜¯é€šè¿‡å¾ªç¯éå†modelçš„æ•°æ®ï¼Œæ”¾å…¥requeståŸŸä¸­</p>
</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218205715062.png" alt="image-20250218205715062">	</p>
<blockquote>
<p>ç»“è®ºï¼š<font style="color: red">æ— è®ºæ˜¯Map è¿˜æ˜¯Modelå®ƒä»¬æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œæœ€åå®ƒ ä»¬æŠŠæ•°æ®éƒ½æ”¾åœ¨äº†requestä½œç”¨åŸŸä¸­ã€‚æˆ‘ä»¬è·å–æ•°æ®çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ä» Requestä½œç”¨åŸŸä¸­è·å–çš„ã€‚</font>&gt;</p>
</blockquote>
<h3 id="2-4-4-pojoå‚æ•°å°è£…åŸç†"><a href="#2-4-4-pojoå‚æ•°å°è£…åŸç†" class="headerlink" title="2.4.4 pojoå‚æ•°å°è£…åŸç†"></a>2.4.4 pojoå‚æ•°å°è£…åŸç†</h3><p>åˆ›å»ºä¸€ä¸ªå‰ç«¯è¡¨å•</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æµ‹è¯•è¡¨å•pojo--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/saveUser&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    å§“åï¼š <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;userName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zhangsan&quot;</span>/&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    å¹´é¾„ï¼š <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;18&quot;</span>/&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    ç”Ÿæ—¥ï¼š <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;birth&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2019/12/10&quot;</span>/&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    å® ç‰©å§“åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;pet.name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ©˜çŒ«&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    å® ç‰©å¹´é¾„ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;pet.age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;5&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¿å­˜&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¹¶å®šä¹‰å®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Pet pet;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶å™¨æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•pojoåº•å±‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/saveUser&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@ResponseBody</span> Person <span class="title function_">saveUser</span><span class="params">(Person person)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> person;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218213030701.png" alt="image-20250218213030701">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250218213050792.png" alt="image-20250218213050792">	</p>
<h4 id="a-è·å–å‚æ•°è§£æå™¨-2"><a href="#a-è·å–å‚æ•°è§£æå™¨-2" class="headerlink" title="a. è·å–å‚æ•°è§£æå™¨"></a>a. è·å–å‚æ•°è§£æå™¨</h4><p>å‰é¢å·²ç»è¯´è¿‡ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œä»handleræ–¹æ³•ï¼Œå¯ä»¥ä¸€ç›´è¿½åˆ°<code>invoke</code>-&gt;<code>getMethodArgumentValues</code>â€“&gt;<code>resovers.supportParameter</code></p>
<blockquote>
<p>æœ€ç»ˆå¾—åˆ°<code>ServletModelAttributeMethodProcessor</code>è¿™ä¸ªå‚æ•°è§£æå™¨èƒ½å¤Ÿ å¯¹pojoå‚æ•°è¿›è¡Œè§£æ</p>
</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219212418612.png" alt="image-20250219212418612" style="zoom: 80%;" />	<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219212426122.png" alt="image-20250219212426122" style="zoom:80%;" />	</p>
<p>åœ¨<code>getArgumentResolver</code>æ–¹æ³•å†…éƒ¨ï¼Œæœ‰ä¸€ä¸ªé‡è¦æ­¥éª¤æ˜¯åˆ¤æ–­æ˜¯å¦æ”¯æŒè¯¥å‚æ•°è§£æå™¨</p>
<blockquote>
<p>æ³¨ï¼šè¿™é‡Œæœ‰ä¸¤ä¸ª<code>ServletModelAttributeMethodProcesso</code>rï¼Œåº”å½“æ˜¯åä¸€ä¸ª@6948çš„</p>
</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219213346766.png" alt="image-20250219213346766"></p>
<p>è¿›å…¥ä»¥åï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯å¦æœ‰<code>@ModelAttribute</code>æ³¨è§£ä¿®é¥°ï¼Œæ˜¾ç„¶è¿™é‡Œæ²¡æœ‰ï¼Œé‚£ä¹ˆå°±æ˜¯åˆ¤æ–­å…¶ç±»å‹äº†ï¼Œæœ€ç»ˆä¹Ÿæ˜¯è¿”å›äº†<code>ServletModelAttributeMethodProcessor</code>è§£æå™¨</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219213359522.png" alt="image-20250219213359522"></p>
<h4 id="b-ServletModel-è§£æ"><a href="#b-ServletModel-è§£æ" class="headerlink" title="b. ServletModel..è§£æ"></a>b. ServletModel..è§£æ</h4><p>å›åˆ°InvocableHandlerMethodçš„<code>getMethodArguments</code>æ–¹æ³•ä¸­ï¼Œè§£ææ¥çš„å…³é”®æ­¥éª¤å°±æ˜¯è§£æå‚æ•°</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219213518481.png" alt="image-20250219213518481"></p>
<p>è§£ææ—¶æ‹¿å‡ºæˆ‘ä»¬ä¹‹å‰å¾—åˆ°çš„å‚æ•°è§£æå™¨</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219213633764.png" alt="image-20250219213633764"></p>
<p>æ¥çœ‹å…·ä½“çš„è§£ææ“ä½œ</p>
<p>é¦–å…ˆç¬¬ä¸€ä¸ªå…³é”®æ­¥éª¤æ˜¯<code>createAttribute</code>æ–¹æ³•ï¼Œæ‰§è¡Œåå‘ç°åˆ›å»ºäº†ä¸€ä¸ªç©ºçš„Personå¯¹è±¡</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219213740512.png" alt="image-20250219213740512"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219213807444.png" alt="image-20250219213807444">	</p>
<p>æ¥ä¸‹æ¥ä¸€ä¸ªå…³é”®æ“ä½œæ˜¯<code>createBinder</code>ï¼Œè¿›è¡Œwebæ•°æ®ç»‘å®šï¼Œå°±æ˜¯å°†å‰å°çš„æ•°æ®æ”¾å…¥ç©ºå¯¹è±¡ä¸­</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219213849620.png" alt="image-20250219213849620">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214002352.png" alt="image-20250219214002352"></p>
<p>æ‰§è¡Œ<code>this.bindRequestParameters(binder, webRequest);</code>åï¼Œå‘ç°å‚æ•°å·²ç»ç»‘å®šå®Œæ¯•</p>
<p>æŸ¥çœ‹å†…éƒ¨</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214054282.png" alt="image-20250219214054282">	</p>
<p>å‘ç°å°è£…äº†ä¸€ä¸ªmpvs	ï¼Œå†…éƒ¨å°è£…äº†å‚æ•°åç§°ä»¥åŠå‚æ•°å€¼</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214109776.png" alt="image-20250219214109776">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214211730.png" alt="image-20250219214211730"></p>
<p>ä¸‹é¢æ‰¾åˆ°çœŸæ­£çš„dobindæ–¹æ³•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214256470.png" alt="image-20250219214256470">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214311002.png" alt="image-20250219214311002">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214322354.png" alt="image-20250219214322354"></p>
<p>å¯ä»¥çœ‹åˆ°é¦–å…ˆæ˜¯å¼•å…¥äº†pvçš„è¿­ä»£å™¨ï¼Œé‡Œé¢åŒ…å«äº†è¦ç»‘å®šçš„å±æ€§å’Œå€¼</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214449088.png" alt="image-20250219214449088">	</p>
<p>æ¥çœ‹è¿›ä¸€æ­¥setçš„è¿‡ç¨‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214559285.png" alt="image-20250219214559285"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214615501.png" alt="image-20250219214615501">		</p>
<p>è¿›å…¥ä»¥åå‘ç°äº†Convertç›¸å…³çš„æ“ä½œï¼Œå®é™…ä¸Šå†…éƒ¨æ˜¯éå†äº†124ä¸ªConvertè½¬æ¢å™¨æ¥è¿›è¡Œè½¬æ¢ï¼Œæœ€ç»ˆä¾¿èƒ½ å¾—åˆ°è§£æåçš„ç»“æœï¼Œæœ€ç»ˆèµ‹å€¼åˆ°å¯¹è±¡ä¸Šã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214721045.png" alt="image-20250219214721045"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219214956378.png" alt="image-20250219214956378">	</p>
<h3 id="2-4-5-è‡ªå®šä¹‰converteråŸç†"><a href="#2-4-5-è‡ªå®šä¹‰converteråŸç†" class="headerlink" title="2.4.5 è‡ªå®šä¹‰converteråŸç†"></a>2.4.5 è‡ªå®šä¹‰converteråŸç†</h3><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰ç±»å‹è½¬æ¢å™¨</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æµ‹è¯•è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/saveuser2&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">å§“åï¼š <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;userName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zhangsan&quot;</span>/&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">å¹´é¾„ï¼š <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;18&quot;</span>/&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">ç”Ÿæ—¥ï¼š <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;birth&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2019/12/10&quot;</span>/&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">å® ç‰©ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;pet&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ©˜çŒ«-3&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¿å­˜&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å®šä¹‰Personç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line">    <span class="keyword">private</span> Pet pet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶å™¨æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/saveuser2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Person <span class="title function_">saveuser2</span><span class="params">(Person person)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> person;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>èƒ½å¦ä½¿ç”¨è‡ªå®šä¹‰çš„Converterå°†å‰å°çš„æ©˜çŒ«-3ï¼Œåˆ†åˆ«èµ‹å€¼åˆ°petçš„åç§°å’Œå¹´é¾„ä¸Šå‘¢ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰è½¬æ¢å™¨å°±ä¼šæŠ¥400ã€‚</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219215215338.png" alt="image-20250219215215338" style="zoom:67%;" />	

<h4 id="a-è‡ªå®šä¹‰Cnoverter"><a href="#a-è‡ªå®šä¹‰Cnoverter" class="headerlink" title="a. è‡ªå®šä¹‰Cnoverter"></a>a. è‡ªå®šä¹‰Cnoverter</h4><p>åœ¨ç»§æ‰¿<code>WebMvcConfigurer</code>çš„Configç±»ä¸­ï¼Œé‡å†™<code>addFormatters</code>æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰æ•°æ®ç±»å‹è½¬æ¢å™¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addFormatters</span><span class="params">(FormatterRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">// String æºæ•°æ®ç±»å‹ï¼ŒPetç›®æ ‡æ•°æ®ç±»å‹</span></span><br><span class="line">        registry.addConverter(<span class="keyword">new</span> <span class="title class_">Converter</span>&lt;String, Pet&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Pet <span class="title function_">convert</span><span class="params">(String source)</span> &#123;</span><br><span class="line">                <span class="type">Pet</span> <span class="variable">pet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pet</span>();</span><br><span class="line">                String[] split = source.split(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">                pet.setName(split[<span class="number">0</span>]);</span><br><span class="line">                pet.setAge(Integer.parseInt(split[<span class="number">1</span>]));</span><br><span class="line">                <span class="keyword">return</span> pet;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å®Œæˆè§£æ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219215353196.png" alt="image-20250219215353196">	</p>
<h4 id="b-æ‰§è¡Œè¿‡ç¨‹"><a href="#b-æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="b. æ‰§è¡Œè¿‡ç¨‹"></a>b. æ‰§è¡Œè¿‡ç¨‹</h4><p>åœ¨<code>ServletModelAttributeMethodProcessor</code>å‚æ•°è§£æå™¨çš„ <code>resolveArgument</code>è§£æå‚æ•°çš„æ–¹æ³•æ‰“ä¸‹æ–­ç‚¹</p>
<p>æ¥åˆ°<code>createBinderæ–¹æ³•</code>ï¼Œå¯ä»¥çœ‹åˆ°ç±»å‹è½¬æ¢å™¨ä¸­å¤šäº†ä¸€ä¸ªæˆ‘ä»¬å®šä¹‰çš„Converterï¼Œé€šè¿‡æ–­ç‚¹éªŒè¯ä¹Ÿç¡®å®å¦‚æ­¤</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219215900832.png" alt="image-20250219215900832">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219215810055.png" alt="image-20250219215810055">	</p>
<h3 id="2-4-6-è¿”å›å€¼å¤„ç†å™¨åŸç†"><a href="#2-4-6-è¿”å›å€¼å¤„ç†å™¨åŸç†" class="headerlink" title="2.4.6 è¿”å›å€¼å¤„ç†å™¨åŸç†"></a>2.4.6 è¿”å›å€¼å¤„ç†å™¨åŸç†</h3><p>æˆ‘ä»¬å®é™…ä¸Šåœ¨ä¸Šä¸€ç« èŠ‚è¿”å›pojoçš„æ—¶å€™å¯ä»¥å‘ç°ï¼Œå‘ç°æµè§ˆå™¨è¿”å›çš„æ˜¯ä¸€ä¸ªjsonæ ¼å¼çš„æ•°æ®ï¼Œè€Œæˆ‘ä»¬å¹¶æ²¡æœ‰æ‰‹åŠ¨çš„è¿›è¡Œjsonå¤„ç†ï¼Œåªæ˜¯ç®€å•çš„returnäº†ä¸€ä¸ªå¯¹è±¡ï¼Œçœ‹æ¥æ˜¯SpringBootçš„è‡ªåŠ¨æ‰§è¡Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åœ¨å“ªä¸ªä»£ç ä½“ç°å‡ºæ¥çš„ã€‚</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219220622396.png" alt="image-20250219220622396" style="zoom:67%;" />	

<h4 id="a-è·å–è¿”å›å€¼å¤„ç†å™¨"><a href="#a-è·å–è¿”å›å€¼å¤„ç†å™¨" class="headerlink" title="a. è·å–è¿”å›å€¼å¤„ç†å™¨"></a>a. è·å–è¿”å›å€¼å¤„ç†å™¨</h4><p>è¿˜æ˜¯ <code>ha.handle</code>-&gt;<code>invokeHandlerMethod</code>ï¼Œç»§ç»­Step Intoï¼Œåœ¨<code>invokeHandlerMethod</code>æ–¹æ³•å†…éƒ¨å¯ä»¥çœ‹åˆ°è¿”å›å€¼å¤„ç†å™¨ç›¸å…³çš„è®¾ç½®</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219221525995.png" alt="image-20250219221525995"></p>
<p>å¯ä»¥çœ‹åˆ°ä¸€å…±æœ‰15ä¸ª</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219221610998.png" alt="image-20250219221610998">	</p>
<p>æ¥åˆ°<code>invokleAndHandle</code>ï¼Œå¯ä»¥çœ‹åˆ°è¿”å›å€¼çš„ç±»å‹æ˜¯Person</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219221708168.png" alt="image-20250219221708168"></p>
<p>è€Œæˆ‘ä»¬æœ¬ç« ä¸»è¦å…³æ³¨ç»“æœä¸ºä»€ä¹ˆæ˜¯JSONï¼Œæ‰€ä»¥æ¥åˆ°åé¢çš„<code>handleReturnValue</code>æ–¹æ³•ï¼Œè¿™å°±æ˜¯é’ˆå¯¹è¿”å›å€¼çš„</p>
<p>è¿›å»åï¼Œå‘ç°é€‰æ‹©è¿”å›å€¼å¤„ç†çš„Selectæ–¹æ³•ï¼Œæ¥ç€çœ‹Selectçš„åŸç†</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219221848044.png" alt="image-20250219221848044">	</p>
<p>å‘ç°æ˜¯é€šè¿‡ä¸€ä¸ªæ¥å£<code>HandlerMethodReturnValueHandler</code>æ¥æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„è¿”å›å€¼è§£æå™¨</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219222016905.png" alt="image-20250219222016905"></p>
<p>è€Œæ­¤å¤„åˆ¤æ–­çš„whileæ¡ä»¶å†…éƒ¨å°±æ˜¯çœ‹æ³¨è§£æœ‰æ²¡æœ‰<code>@ResponseBody</code>ï¼Œå¯¹åº”çš„è¿”å›å€¼å¤„ç†å™¨å°±æ˜¯<code>RequestResponseBodyMethodProcessor</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">supportsReturnType</span><span class="params">(MethodParameter returnType)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> AnnotatedElementUtils.hasAnnotation(returnType.getContainingClass(), ResponseBody.class) || returnType.hasMethodAnnotation(ResponseBody.class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="b-è¿”å›å€¼å¤„ç†å™¨çš„æ‰§è¡Œ"><a href="#b-è¿”å›å€¼å¤„ç†å™¨çš„æ‰§è¡Œ" class="headerlink" title="b. è¿”å›å€¼å¤„ç†å™¨çš„æ‰§è¡Œ"></a>b. è¿”å›å€¼å¤„ç†å™¨çš„æ‰§è¡Œ</h4><p>æ¥åˆ°<code>HandlerMethodReturnValueHandlerComposite</code>ç±»ï¼Œå¾—åˆ°è¿”å›å€¼å¤„ç†å™¨åï¼Œå°±æ˜¯<code> handleReturnValue</code>æ–¹æ³•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219222323877.png" alt="image-20250219222323877"></p>
<p>å‘ç°äº†å…³é”®è¯­å¥ï¼Œè¿™éƒ¨åˆ†å°±æ˜¯å°†pojoå¯¹è±¡è½¬æ¢æˆäº†JSONæ•°æ®</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219222424824.png" alt="image-20250219222424824">	<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219222638578.png" alt="image-20250219222638578"></p>
<p>æ¥ä¸‹æ¥æ¯”è¾ƒå…³é”®çš„å°±æ˜¯è¿›è¡Œ<code>å†…å®¹åå•†</code></p>
<ul>
<li><p>MediaTypeï¼šç”¨äºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å†…å®¹åå•†</p>
<ul>
<li><p><code>acceptTypes</code>ï¼šæµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨èƒ½èƒ½æ¥å—çš„æ•°æ®ç±»å‹<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219223034079.png" alt="image-20250219223034079">    </p>
</li>
<li><p><code>producibleTypes</code>ï¼šæœåŠ¡å™¨èƒ½å“åº”çš„æ•°æ®ç±»å‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219223140388.png" alt="image-20250219223140388"></p>
</li>
</ul>
</li>
</ul>
<p>æ¥ä¸‹æ¥å°±æ˜¯å¾ªç¯éå†<strong>åˆ¤æ–­æœåŠ¡å™¨å“åº”çš„å†…å®¹ä¸æµè§ˆå™¨æ˜¯å¦é€‚é…</strong>ï¼Œæœ€ç»ˆæ”¾åœ¨<code>mediaTypesToUse</code>è¿™ä¸ªListé›†åˆé‡Œé¢</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219222814847.png" alt="image-20250219222814847"></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯é€‰æ‹©æœ€ä½³é€‚é…çš„ï¼Œ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219223339919.png" alt="image-20250219223339919"></p>
<p>éå†å®¹å™¨åº•å±‚çš„<code>HttpMessageConverter</code>æ¥åˆ¤æ–­å“ªäº›Converterèƒ½å¤„ç†	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219223956166.png" alt="image-20250219223956166"></p>
<p>Converterå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¶ˆæ¯è½¬æ¢å™¨ï¼Œæ˜¯ä¸€ä¸ªæ¥å£</p>
<ul>
<li>canWriteï¼š Person-&gt;JSON ç”¨äºæœåŠ¡å™¨å†™å…¥å“åº”</li>
<li>canReadï¼šJSON-&gt;Person ç”¨äºæœåŠ¡å™¨è¯»å–è¯·æ±‚</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219223606381.png" alt="image-20250219223606381"></p>
<p>å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šå®šä¹‰çš„æ¶ˆæ¯è½¬æ¢å™¨ï¼ˆç¬¬11ä¸ªæ˜¯åç»­é€šè¿‡é…ç½®ç±»åŠ å…¥çš„æ¶ˆæ¯è½¬æ¢å™¨ï¼‰</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219223735181.png" alt="image-20250219223735181">	</p>
<p>æˆ‘ä»¬è¿›å…¥çœ‹ä¸€ä¸‹è¯¥æ¶ˆæ¯è½¬æ¢å™¨çš„<code>canWrite</code>æ–¹æ³•æ˜¯å¦‚ä½•è¿›è¡Œè½¬æ¢çš„</p>
<p>çœ‹åˆ°å†…éƒ¨çš„writeæ–¹æ³•ï¼Œé€šè¿‡<code>ObjectMapper</code>æ¥è½¬æ¢</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219224459607.png" alt="image-20250219224459607"></p>
<p>æœ€ç»ˆè½¬æ¢æˆçš„JSONæ ¼å¼</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219224636913.png" alt="image-20250219224636913" style="zoom:67%;" />	

<h3 id="2-4-7-å†…å®¹åå•†åŸç†ï¼ˆä»¥å¤´Acceptä¸ºä¾‹ï¼‰"><a href="#2-4-7-å†…å®¹åå•†åŸç†ï¼ˆä»¥å¤´Acceptä¸ºä¾‹ï¼‰" class="headerlink" title="2.4.7 å†…å®¹åå•†åŸç†ï¼ˆä»¥å¤´Acceptä¸ºä¾‹ï¼‰"></a>2.4.7 å†…å®¹åå•†åŸç†ï¼ˆä»¥å¤´Acceptä¸ºä¾‹ï¼‰</h3><p>å®é™…ä¸Šï¼Œé™¤äº†æœåŠ¡å™¨é€šè¿‡å“åº”JSONæ¥è¡¨ç¤ºpojoå¤–ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡é¦–éƒ¨çš„Accpetæ¥æŒ‡å®šå“åº”ç±»å‹ã€‚ä¾‹å¦‚ä»¥XMLæ ¼å¼å“åº”ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å†…å®¹åå•†åŸç†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;test/xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@ResponseBody</span> Person <span class="title function_">responseXML</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">    person.setUserName(<span class="string">&quot;ç‹äº”&quot;</span>);</span><br><span class="line">    person.setAge(<span class="number">25</span>);</span><br><span class="line">    person.setBirth(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">    <span class="type">Pet</span> <span class="variable">pet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pet</span>();</span><br><span class="line">    pet.setName(<span class="string">&quot;é“æŸ±&quot;</span>);</span><br><span class="line">    pet.setAge(<span class="number">4</span>);</span><br><span class="line">    person.setPet(pet);</span><br><span class="line">    <span class="keyword">return</span> person;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ formatç›¸å…³ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.dataformat<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-dataformat-xml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨å¤´æ–‡ä»¶æŒ‡å®šxmlç±»å‹åï¼Œå³å¯è¿”å›XMLç±»å‹çš„ç»“æœ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221194642276.png" alt="image-20250221194642276">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250219224902129.png" alt="image-20250219224902129">	</p>
<p>åœ¨ä¸Šä¸€ç« çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬è¿½ä¸€ä¸‹ä»–çš„è¿”å›å€¼çš„å¤„ç†è¿‡ç¨‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221194032842.png" alt="image-20250221194032842">	</p>
<p>è¿›å»åï¼Œè¿›åˆ°<code>AbstractMessageConverterMethodProcessor</code>ç±»çš„<code> writeWithMessageConverters</code>æ–¹æ³•ä¸Šï¼Œå¯ä»¥çœ‹åˆ°ç†Ÿæ‚‰çš„acceptableMediaTypeså’ŒProducibleMediaTypesï¼Œå’Œä¸Šé¢çš„è¿‡ç¨‹ç±»ä¼¼ï¼Œå…·ä½“çš„è¿‡ç¨‹ä¸å†èµ˜è¿°ï¼Œæœ€ç»ˆç»“æœå‚è€ƒå¦‚ä¸‹ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221194246234.png" alt="image-20250221194246234"></p>
<h4 id="a-getAcceptableMediaTypes"><a href="#a-getAcceptableMediaTypes" class="headerlink" title="a. getAcceptableMediaTypes"></a>a. getAcceptableMediaTypes</h4><p>å…³é”®é—®é¢˜å°±åœ¨äº<code>acceptableTypes</code>ä¸ºä»€ä¹ˆæ˜¯<code>application/xml</code>ï¼Œè¿›å…¥getAcceptableMediaTypes(request)æ–¹æ³•ï¼Œå†è¿›å…¥resolveMediaTypesæ–¹æ³•</p>
<p>çœ‹åˆ°æ˜¯éå†å†…å®¹åå•†ç®¡ç†å™¨</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221194537981.png" alt="image-20250221194537981"></p>
<p>è¿™é‡Œé¢çš„strategiesæœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«å°±æ˜¯åŸºäºå‚æ•°å’ŒåŸºäºå¤´çš„ï¼Œè¿™é‡Œæ˜¯ä½¿ç”¨ä¸‹æ ‡ä¸º1çš„åŸºäºå¤´çš„ç­–ç•¥</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221194555000.png" alt="image-20250221194555000">	</p>
<p>é‚£ä¹ˆå½“è¿­ä»£å™¨æŒ‡å‘åŸºäºå¤´çš„ç­–ç•¥åï¼Œæˆ‘ä»¬ç»§ç»­è¿›å»çœ‹è¿™ä¸ªç­–ç•¥çš„resolveMediaTypesæ–¹æ³•</p>
<p>å¯ä»¥çœ‹åˆ°å…³é”®çš„åŸºäºåŸç”ŸServletçš„è¯»å–Acceptè¯»å–å¤´æ–‡ä»¶çš„æ•°æ®ä¿¡æ¯ï¼Œç„¶åå°†Listé›†åˆè½¬æ¢æˆäº†MediaTypeç±»å‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221194918372.png" alt="image-20250221194918372">	<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221195033863.png" alt="image-20250221195033863">			</p>
<p>æˆ‘ä»¬é€šè¿‡.getAcceptableMediaTypesè·å¾—äº†æµè§ˆå™¨æ”¯æŒæ¥å—çš„åª’ä½“ç±»å‹ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¦è·å–æœåŠ¡å™¨èƒ½å“åº”çš„ç±»å‹</p>
<h4 id="b-getProducibleMediaTypes"><a href="#b-getProducibleMediaTypes" class="headerlink" title="b. getProducibleMediaTypes"></a>b. getProducibleMediaTypes</h4><p>æ¥åˆ°<code>AbstractMessageConverterMethodProcessor</code>ç±»çš„<code>this.getProducibleMediaTypes(request, valueType, (Type)targetType);</code>æ–¹æ³•</p>
<ul>
<li>éå†æ¶ˆæ¯è½¬æ¢å™¨<code>messageConverters</code></li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221195646188.png" alt="image-20250221195646188">	</p>
<ul>
<li>å°†æ”¯æŒè½¬æ¢çš„æ”¾å…¥<code>List&lt;MediaType&gt;</code>ä¸­</li>
</ul>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221195426756.png" alt="image-20250221195426756">	</p>
<h4 id="c-match-mediaTypes"><a href="#c-match-mediaTypes" class="headerlink" title="c. match mediaTypes"></a>c. match mediaTypes</h4><p>å¾—åˆ°æµè§ˆå™¨æ”¯æŒçš„åª’ä½“ç±»å‹å’ŒæœåŠ¡å™¨ä¹Ÿèƒ½å¤Ÿæ”¯æŒå“åº”çš„åª’ä½“ ç±»å‹ï¼Œé‚£ä¹ˆå°±æ˜¯åŒ¹é…æœ€ç»ˆçš„åª’ä½“ç±»å‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221195841643.png" alt="image-20250221195841643"></p>
<p>å¯ä»¥çœ‹åˆ°ä¸æˆ‘ä»¬åˆ†æçš„å››ä¸ªMediaTypeæ˜¯ä¸€è‡´çš„</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221195907764.png" alt="image-20250221195907764">	</p>
<p>æ¥ä¸‹æ¥æ˜¯å»é™¤é‡å¤çš„åª’ä½“ç±»å‹ï¼Œä¿ç•™å¿…è¦çš„ï¼Œç„¶ååˆ¤æ–­é‚£ç§å†…å®¹è½¬æ¢å™¨å¯ä»¥è½¬æ¢æˆæˆ‘ä»¬çš„å‰é¢AcceptableMediaTypeçš„XMLæ•°æ®ï¼Œæ˜¾ç„¶æ˜¯<code>MappingJackson2XmlHttpMessageConvert</code></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221200109374.png" alt="image-20250221200109374">	</p>
<h4 id="d-write"><a href="#d-write" class="headerlink" title="d. write"></a>d. write</h4><p>åç»­çš„å°±æ˜¯writeå†™å…¥</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221200257374.png" alt="image-20250221200257374">	</p>
<p>å…·ä½“å¯ä»¥çœ‹åˆ°é‡Œé¢è¿›è¡Œäº†è®¾ç½®äº†å“åº”å¤´ç­‰æ“ä½œ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221200423343.png" alt="image-20250221200423343"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221200448248.png" alt="image-20250221200448248">	</p>
<p>ç¡®å®šå¥½å†…å®¹åï¼Œå¯ä»¥è¿›ä¸€æ­¥å¾€é‡Œé¢çœ‹å®é™…è¿›è¡Œçš„æ“ä½œï¼ˆé€šè¿‡ObjectMapperï¼‰</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221200556054.png" alt="image-20250221200556054">	</p>
<p>flushåï¼Œå¯ä»¥çœ‹åˆ°æœ€ç»ˆå“åº”çš„å­—èŠ‚æ•°æ®äº†</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221200701409.png" alt="image-20250221200701409">	</p>
<h3 id="2-4-8-å†…å®¹åå•†åŸç†ï¼ˆåŸºäºè¯·æ±‚å‚æ•°ï¼‰"><a href="#2-4-8-å†…å®¹åå•†åŸç†ï¼ˆåŸºäºè¯·æ±‚å‚æ•°ï¼‰" class="headerlink" title="2.4.8 å†…å®¹åå•†åŸç†ï¼ˆåŸºäºè¯·æ±‚å‚æ•°ï¼‰"></a>2.4.8 å†…å®¹åå•†åŸç†ï¼ˆåŸºäºè¯·æ±‚å‚æ•°ï¼‰</h3><p>é‚£ä¹ˆåœ¨å‰é¢çš„getAcceptableMediaTypesæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å…¶å®å·²ç»çŸ¥é“äº†è¿˜æœ‰ä¸€ç§<code>åŸºäºè¯·æ±‚å‚æ•°</code>çš„å†…å®¹åå•†è¿‡ç¨‹</p>
<p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¦‚æœè¦ç”¨è¿™ä¸ªï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mvc:</span></span><br><span class="line">    <span class="attr">hidden method:</span></span><br><span class="line">      <span class="attr">filter:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">contentnegotiation:</span></span><br><span class="line">      <span class="attr">favor-parameter:</span> <span class="literal">true</span>   <span class="comment"># å¼€å¯åŸºäºè¯·æ±‚å‚æ•°çš„å†…å®¹åå•†</span></span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:8080/test/xml?format=json">http://localhost:8080/test/xml?format=json</a></p>
</blockquote>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221201503261.png" alt="image-20250221201503261">	</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221201521556.png" alt="image-20250221201521556">	</p>
<p>æŠŠæ–­ç‚¹æ‰“åœ¨AbstractMessageConverterMethodProcessorç±»ä¸Šçš„ writeWithMessageConvertersæ–¹æ³•çš„getAcceptableMediaTypes</p>
<p>æˆ‘ä»¬è¿›å…¥æŸ¥çœ‹è¿™ä¸ªParameterContentNegotiationStrategyç­–ç•¥çš„è§£æè¿‡ç¨‹</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221201701965.png" alt="image-20250221201701965"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221202041036.png" alt="image-20250221202041036"></p>
<p>é¦–å…ˆä»æˆ‘ä»¬çš„è¯·æ±‚å¤´ä¸­è·å–äº†formatå¯¹åº”çš„å€¼</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221202013692.png" alt="image-20250221202013692">	å¯ä»¥çœ‹åˆ°ä»æˆ‘ä»¬çš„è¯·æ±‚å¤´ä¸­æ‰¾åˆ°äº†å¯¹åº”çš„mediaType</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221201840935.png" alt="image-20250221201840935"></p>
<p>æœ€ç»ˆå°±å¾—åˆ°äº†application&#x2F;xmlè¿™ä¸€æµè§ˆå™¨éœ€è¦å¾—åˆ°çš„åª’ä½“ç±»å‹äº†</p>
<h3 id="2-4-9-è‡ªå®šä¹‰MessageConverterï¼ˆåŸºäºå¤´ï¼‰"><a href="#2-4-9-è‡ªå®šä¹‰MessageConverterï¼ˆåŸºäºå¤´ï¼‰" class="headerlink" title="2.4.9 è‡ªå®šä¹‰MessageConverterï¼ˆåŸºäºå¤´ï¼‰"></a>2.4.9 è‡ªå®šä¹‰MessageConverterï¼ˆåŸºäºå¤´ï¼‰</h3><h4 id="a-é…ç½®ç±»æ·»åŠ è‡ªå®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨"><a href="#a-é…ç½®ç±»æ·»åŠ è‡ªå®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨" class="headerlink" title="a. é…ç½®ç±»æ·»åŠ è‡ªå®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨"></a>a. é…ç½®ç±»æ·»åŠ è‡ªå®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨</h4><p>åœ¨ç¬¬7èŠ‚ï¼Œæˆ‘ä»¬å‘ç°åœ¨getProducibleMediaTypesä¸­ï¼Œæˆ‘ä»¬å‘ç°äº†é€šè¿‡MessageConverteræ¥åˆ¤æ–­æˆ‘ä»¬çš„pojoç±»å‹èƒ½è½¬æ¢çš„ç±»å‹</p>
<p>å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰SpringBootå“åº”çš„æ•°æ®ç±»å‹ï¼Œé€šè¿‡ç»§æ‰¿<code>WebMvcConfigurer</code>æ¥å£çš„é…ç½®ç±»ï¼Œå°±å¯ä»¥è¿›è¡Œç»„ä»¶çš„å®šåˆ¶åŒ–</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221202329485.png" alt="image-20250221202329485" style="zoom:50%;" />	

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”Ÿæ•ˆè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨ï¼ˆåŸºäºè¯·æ±‚å¤´ï¼‰</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> &#123;</span><br><span class="line">        converters.add(<span class="keyword">new</span> <span class="title class_">MyConverter</span>());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™å°±å®Œæˆäº†æ¶ˆæ¯è½¬æ¢å™¨çš„æ·»åŠ </p>
<h4 id="b-å®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨"><a href="#b-å®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨" class="headerlink" title="b. å®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨"></a>b. å®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨</h4><p>æˆ‘ä»¬å¯ä»¥å‚è€ƒå·²æœ‰çš„æ¶ˆæ¯è½¬æ¢å™¨æ¥ç¼–å†™ã€‚</p>
<img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221202554915.png" alt="image-20250221202554915" style="zoom: 50%;" />	

<ul>
<li>æ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦å®ç°HttpMessageConverteræ¥å£ï¼šå®ç°å…¶å®šä¹‰çš„è§„èŒƒæ–¹æ³•<ul>
<li>getSupportedMediaTypesï¼šæˆ‘ä»¬æ”¹å†™æ”¯æŒçš„æ•°æ®ç±»å‹ä¸ºï¼šapplication&#x2F;xq</li>
<li>canWriteï¼šåªå…è®¸å†™å…¥Personç±»å‹</li>
<li>writeï¼šperson.getUserName() + â€œ&lt;â€“&gt;â€ + person.getAge() + â€œ&lt;â€“&gt;â€ + person.getBirth(); å“åº”å†™å…¥</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yuezi2048</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConverter</span> <span class="keyword">implements</span> <span class="title class_">HttpMessageConverter</span>&lt;Person&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–æ¶ˆæ¯å†…å®¹è½¬æ¢å™¨èƒ½å¤Ÿæ”¯æŒçš„åª’ä½“ç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> clazz</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;MediaType&gt; <span class="title function_">getSupportedMediaTypes</span><span class="params">(Class&lt;?&gt; clazz)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> MediaType.parseMediaTypes(<span class="string">&quot;application/xq&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canRead</span><span class="params">(Class&lt;?&gt; clazz, MediaType mediaType)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­è¿™ä¸ªæ¶ˆæ¯è½¬æ¢å™¨æ˜¯å¦æ”¯æŒå¯¹æŒ‡å®šçš„æ•°æ®è¿›è¡Œå†™çš„æ“ä½œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> clazz</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> mediaType</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canWrite</span><span class="params">(Class&lt;?&gt; clazz, MediaType mediaType)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> clazz.isAssignableFrom(Person.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;MediaType&gt; <span class="title function_">getSupportedMediaTypes</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Collections.emptyList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Person <span class="title function_">read</span><span class="params">(Class&lt;? extends Person&gt; clazz, HttpInputMessage inputMessage)</span> <span class="keyword">throws</span> IOException, HttpMessageNotReadableException &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è‡ªå®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨å†™çš„æ•°æ®æ ¼å¼</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> person</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> contentType</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> outputMessage</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> HttpMessageNotWritableException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(Person person, MediaType contentType, HttpOutputMessage outputMessage)</span> <span class="keyword">throws</span> IOException, HttpMessageNotWritableException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> person.getUserName() + <span class="string">&quot;&lt;--&gt;&quot;</span> + person.getAge() + <span class="string">&quot;&lt;--&gt;&quot;</span> + person.getBirth();</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">body</span> <span class="operator">=</span> outputMessage.getBody();</span><br><span class="line">        body.write(data.getBytes());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥æµ‹è¯•</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221202853301.png" alt="image-20250221202853301">	</p>
<p>æºç è¿½è¸ªï¼š</p>
<p>æ¥åˆ°åœ¨AbstractMessageConverterMethodProcessorç±»çš„ writeWithMessageConvertersæ–¹æ³•</p>
<p>å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“æ¶ˆæ¯è½¬æ¢å™¨å‡ºç°çš„åœ°æ–¹ï¼Œæ•…è¿›å…¥this.getProducibleMediaTypes(request, valueType, (Type)targetType);æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°åˆ¤æ–­æ˜¯å¦æ”¯æŒçš„æ–¹æ³•ï¼Œç„¶ååŠ å…¥æ”¯æŒçš„MediaTypesï¼Œè¿™é‡Œæ˜¯æˆ‘ä»¬å®šä¹‰çš„application&#x2F;xq</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221203044546.png" alt="image-20250221203044546">	</p>
<p>æœ€ä½³åª’ä½“çš„ç±»å‹æ”¾å…¥mediaTypesToUseé‡Œ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221203157703.png" alt="image-20250221203157703">	</p>
<p>åç»­éå†æ˜¯å¦æ”¯æŒ</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221203611401.png" alt="image-20250221203611401"></p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221203600046.png" alt="image-20250221203600046">	</p>
<p>é‚£ä¹ˆä¹Ÿæ˜¯é¡ºåˆ©åŒ¹é…ä¸Šäº†è¿™ä¸ªæ¶ˆæ¯è½¬æ¢å™¨äº†ï¼Œåç»­çš„writeæ–¹æ³•ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<h3 id="2-4-10-è‡ªå®šä¹‰åŸºäºè¯·æ±‚å‚æ•°å†…å®¹åå•†"><a href="#2-4-10-è‡ªå®šä¹‰åŸºäºè¯·æ±‚å‚æ•°å†…å®¹åå•†" class="headerlink" title="2.4.10 è‡ªå®šä¹‰åŸºäºè¯·æ±‚å‚æ•°å†…å®¹åå•†"></a>2.4.10 è‡ªå®šä¹‰åŸºäºè¯·æ±‚å‚æ•°å†…å®¹åå•†</h3><p>é‚£ä¹ˆæˆ‘ä»¬å½“ç„¶ä¹Ÿå¯ä»¥åœ¨å‚æ•°ä¸­è‡ªå®šä¹‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">	<span class="comment">// è‡ªå®šä¹‰å†…å®¹åå•†ç­–ç•¥ï¼ˆåŸºäºè¯·æ±‚ç­–ç•¥ï¼‰</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureContentNegotiation</span><span class="params">(ContentNegotiationConfigurer configurer)</span> &#123;</span><br><span class="line">        <span class="comment">// å®šä¹‰åª’ä½“ç±»å‹</span></span><br><span class="line">        Map&lt;String, MediaType&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;json&quot;</span>, MediaType.APPLICATION_JSON);</span><br><span class="line">        map.put(<span class="string">&quot;xml&quot;</span>, MediaType.APPLICATION_XML);</span><br><span class="line">        <span class="comment">// è‡ªå®šä¹‰åª’ä½“ç±»å‹</span></span><br><span class="line">        map.put(<span class="string">&quot;xq&quot;</span>, MediaType.parseMediaType(<span class="string">&quot;application/xq&quot;</span>));</span><br><span class="line">        <span class="comment">// åˆ›å»ºåŸºäºè¯·æ±‚å‚æ•°çš„å†…å®¹åå•†ç­–ç•¥</span></span><br><span class="line">        <span class="type">ParameterContentNegotiationStrategy</span> <span class="variable">parameterContentNegotiationStrategy</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ParameterContentNegotiationStrategy</span>(map);</span><br><span class="line">        <span class="comment">// è®©åŸºäºAcceptè¯·æ±‚å¤´çš„å†…å®¹åå•†ç­–ç•¥ç”Ÿæ•ˆ</span></span><br><span class="line">        <span class="type">HeaderContentNegotiationStrategy</span> <span class="variable">headerContentNegotiationStrategy</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">HeaderContentNegotiationStrategy</span>();</span><br><span class="line">        <span class="comment">// è®©ä¸Šé¢ä¸¤ç§åå•†ç­–ç•¥éƒ½ç”Ÿæ•ˆ</span></span><br><span class="line">        configurer.strategies(Arrays.asList(parameterContentNegotiationStrategy, headerContentNegotiationStrategy));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221203850935.png" alt="image-20250221203850935">	</p>
<p>é‚£ä¹ˆè¿™é‡Œæˆ‘ä»¬æ˜¯å®šä¹‰äº†æ‰€æœ‰çš„åª’ä½“ç±»å‹ï¼ˆåœ¨åŸå…ˆåŸºç¡€ä¸ŠåŠ å…¥äº†è‡ªå®šä¹‰çš„xqç±»å‹ï¼‰ï¼Œç„¶åç”Ÿæ•ˆå†…å®¹åå•†ç­–ç•¥ã€‚</p>
<p>æˆ‘ä»¬æ¥åˆ°æºç </p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221204112174.png" alt="image-20250221204112174">	</p>
<p>å¯ä»¥çœ‹åˆ°åœ¨è§£ææ—¶ï¼Œæ‰€æœ‰å®šä¹‰çš„MediaTypeséƒ½åœ¨äº†ï¼Œåç»­åŸç†å°±è§å‰é¢ç« èŠ‚ã€‚</p>
<p><img src="/img/loading.gif" data-original="https://yuezi-1308313119.cos.ap-guangzhou.myqcloud.com/typora-user-images%2Fimage-20250221204225970.png" alt="image-20250221204225970"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io">yuezi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://yuezi2048.github.io/2025/02/21/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/2.%20SpringBoot2%E6%A0%B8%E5%BF%83%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/">https://yuezi2048.github.io/2025/02/21/2.AreasğŸŒ/back-end-java/7.SpringBoot/2. SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://yuezi2048.github.io" target="_blank">yuezi</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/7-SpringBoot/">7.SpringBoot</a></div><div class="post-share"><div class="social-share" data-image="/img/touxiang.jpg" data-sites="qq,wechat"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/02/20/2.Areas%F0%9F%8C%90/03.algorithm/01/3.%20%E5%B0%BA%E5%8F%96%E6%B3%95/" title="3. å°ºå–æ³•"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">3. å°ºå–æ³•</div></div><div class="info-2"><div class="info-item-1">ï¼ˆæ»‘åŠ¨çª—å£ &#x2F; åŒæŒ‡é’ˆï¼‰ï¼šåˆ©ç”¨åŒæŒ‡é’ˆéå†ï¼Œè·å¾—æ»¡è¶³æ¡ä»¶åŒºé—´ï¼ˆæ»‘åŠ¨çª—å£ï¼‰çš„ç®—æ³•  å¦‚æœæ²¡æœ‰ç¡¬æ€§è¦æ±‚ï¼Œå»ºè®®ä»1å¼€å§‹éå†æ•°ç»„ï¼Œé˜²æ­¢ä¸‹æ ‡è¶Šç•Œ  ä¼˜åŒ–çš„ å…³é”®åœ¨äºå•è°ƒæ€§ï¼Œæ‰€ä»¥ä¸¤ä¸ªç«¯ç‚¹åªéœ€O(n)çš„æ—¶é—´å¤æ‚åº¦å°±èƒ½éå†å¾—åˆ°æ»¡è¶³æ¡ä»¶çš„ç­”æ¡ˆã€‚ </div></div></div></a><a class="pagination-related" href="/2025/02/22/2.Areas%F0%9F%8C%90/science/Pre/pytorch%E5%AD%A6%E4%B9%A0/Transformer%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F/03%20%E4%BB%80%E4%B9%88%E6%98%AF%E9%A2%84%E8%AE%AD%E7%BB%83%EF%BC%88Transformer%20%E5%89%8D%E5%A5%8F%EF%BC%89/" title="03 ä»€ä¹ˆæ˜¯é¢„è®­ç»ƒï¼ˆTransformer å‰å¥ï¼‰"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">03 ä»€ä¹ˆæ˜¯é¢„è®­ç»ƒï¼ˆTransformer å‰å¥ï¼‰</div></div><div class="info-2"><div class="info-item-1">åšå®¢é…å¥—è§†é¢‘é“¾æ¥: https://space.bilibili.com/383551518?spm_id_from=333.1007.0.0  b ç«™ç›´æ¥çœ‹  é…å¥— github é“¾æ¥ï¼šhttps://github.com/nickchen121/Pre-training-language-model  é…å¥—åšå®¢é“¾æ¥ï¼šhttps://www.cnblogs.com/nickchen121/p/15105048.html  é¢„è®­ç»ƒæœ‰ä»€ä¹ˆç”¨æœºå™¨å­¦ä¹ ï¼šåæ•°å­¦ï¼ˆã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹-æèˆªï¼‰ æ·±åº¦å­¦ä¹ ï¼ˆäººå·¥æ™ºèƒ½ï¼‰çš„é¡¹ç›®ï¼šå¤§æ•°æ®æ”¯æŒï¼ˆä¸»æµï¼‰ æˆ‘ä»¬å¾ˆå¤šé¡¹ç›®æ²¡æœ‰å¤§æ•°æ®æ”¯æŒï¼ˆå°æ•°æ®ï¼‰ çŒ«ç‹—åˆ†ç±»ä»»åŠ¡ï¼š100 å¼ çŒ«å’Œç‹—çš„å›¾ç‰‡ â€“ã€‹ç»™ä½ ä¸€å¼ å›¾ç‰‡ï¼Œåˆ†å‡ºæ˜¯çŒ«è¿˜æ˜¯ç‹—ï¼ˆæ— æ³•è§£å†³çš„ä¸€ä¸ªé—®é¢˜ï¼Œç²¾åº¦å¾ˆä½ï¼‰ 100000 å¼ é¹…å’Œé¸­çš„å›¾ç‰‡ï¼ˆå·²çŸ¥ï¼Œæœ‰äººåšè¿‡çš„ï¼Œé€šè¿‡è¿™10w å¼ å›¾ç‰‡åšäº†ä¸€ä¸ªæ¨¡å‹ Aï¼‰  æœ‰äººå‘ç°ï¼Œæµ…å±‚é€šç”¨çš„ï¼ˆæ¨ªç«–æ’‡æºï¼‰ æˆ‘é€šè¿‡10wä¸ªé¹…å’Œé¸­è®­ç»ƒäº†ä¸€ä¸ªæ¨¡å‹ Aï¼Œ100 å±‚çš„ CNN ä»»åŠ¡ Bï¼š100 å¼ çŒ«å’Œç‹—çš„å›¾ç‰‡ï¼Œåˆ†ç±» â€“ã€‹ è®­ç»ƒå¤„ 100å±‚çš„ CNNï¼Œä¸å¯èƒ½å®ç°çš„ å°è¯•ä½¿ç”¨ A çš„å‰ 50 å±‚ï¼Œä½¿ç”¨ 100...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/02/18/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/1.%20SpringBoot%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E5%9F%BA%E7%A1%80/" title="1. SpringBootè‡ªåŠ¨è£…é…åŸºç¡€"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-18</div><div class="info-item-2">1. SpringBootè‡ªåŠ¨è£…é…åŸºç¡€</div></div><div class="info-2"><div class="info-item-1">ä¸€ã€SpringBootè‡ªåŠ¨è£…é…åŸºç¡€1.1 SpingåŸºæœ¬ä»‹ç» springbootçš„å¥½å¤„ï¼š  å®šä¹‰å¤§é‡ç¬¬ä¸‰æ–¹ä¾èµ–çš„ç‰ˆæœ¬å·ï¼Œä½¿ç”¨è¿™äº›ä¾èµ–æ—¶æ— éœ€è‡ªå·±å†é¢å¤–æŒ‡å®šç‰ˆæœ¬å· å°‘æ•°ä¾èµ–ï¼Œå®˜æ–¹ä»²è£çš„ç‰ˆæœ¬å·ä¸ä¸€å®šåˆé€‚æˆ‘ä»¬çš„é¡¹ç›®ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦è‡ªå®šä¹‰ä¾èµ–çš„ç‰ˆæœ¬å·ï¼ˆversionæ ‡ç­¾æˆ–è€…propertiesæ ‡ç­¾æŒ‡å®šï¼‰    è€Œåœ¨webå¯åŠ¨å™¨ä¸­ï¼Œå†…éƒ¨å®šä¹‰äº†ä¸€ç»„ä¾èµ–ï¼šåŒ…å«json tomcat springMVCçš„ç›¸å…³ä¾èµ–  å¦‚æœæˆ‘ä»¬éœ€è¦è¿™äº›åŠŸèƒ½ï¼Œåªéœ€å¯¼å…¥webå¯åŠ¨å™¨å³å¯ï¼Œæ— éœ€æ‰‹åŠ¨å¯¼å…¥è¿™äº›ä¾èµ–ï¼Œå› ä¸ºå¯åŠ¨å™¨å·²ç»è‡ªåŠ¨å°†è¿™äº›ä¾èµ–é›†æˆå¥½äº† å¯åŠ¨å™¨çš„åˆ†ç±» å®˜æ–¹çš„å¯åŠ¨å™¨ï¼Œå‘½åè§„åˆ™ spring-boot-starter-* ç¬¬ä¸‰æ–¹å¯åŠ¨å™¨ï¼Œä½†ä¸èƒ½ä»¥spring-bootå¼€å¤´å‘½åï¼Œå³xxx-spring-boot-starter     1.1.1 Springç”Ÿæ€ä»‹ç»å®˜ç½‘åœ°å€ 	  Springç”Ÿæ€ å¯ä»¥çœ‹åˆ°Springä¸ºæˆ‘ä»¬æä¾›äº†è‹¥å¹²é—®é¢˜çš„å¿«é€Ÿè§£å†³æ–¹æ¡ˆï¼Œæœ‰ä»¥ä¸‹Featureï¼š  åˆ›å»ºç‹¬ç«‹Springåº”ç”¨  å†…åµŒwebæœåŠ¡å™¨  è‡ªåŠ¨starterä¾èµ–ï¼Œç®€åŒ–æ„å»ºé…ç½®  è‡ªåŠ¨é…ç½®Springä»¥åŠç¬¬ä¸‰æ–¹åŠŸèƒ½...</div></div></div></a><a class="pagination-related" href="/2025/02/25/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/4.%20%E6%95%B4%E5%90%88%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%B1%82/" title="4. æ•´åˆæ•°æ®æŒä¹…å±‚"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-25</div><div class="info-item-2">4. æ•´åˆæ•°æ®æŒä¹…å±‚</div></div><div class="info-2"><div class="info-item-1">å››ã€æ•´åˆæ•°æ®æŒä¹…å±‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°SpringBootå®˜æ–¹ä¸ºæˆ‘ä»¬æä¾›äº†æŒä¹…å±‚çš„å¯åŠ¨å™¨ï¼Œå¯¼å…¥å¯åŠ¨å™¨åï¼Œæˆ‘ä»¬å¯ä»¥å¼€å¯åœºæ™¯çš„è‡ªåŠ¨é…ç½®ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è¿™äº›å¯åŠ¨å™¨å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨é…ç½®ã€‚  spring-boot-starter-dataå¼€å¤´çš„éƒ½æ˜¯æ•°æ®æŒä¹…å±‚åœºæ™¯ç›¸å…³çš„å¯åŠ¨å™¨  	 4.1 æ•´åˆJDBCåœ¨pomæ–‡ä»¶å¯¼å…¥spring-boot-starter-data-jdbcå¯åŠ¨å™¨å³å¯ã€‚ &lt;!-- å¯¼å…¥jdbcå¯åŠ¨å™¨ --&gt;&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;&lt;/dependency&gt;  	 å¯ä»¥å‘ç°ï¼ŒJDBCå¯åŠ¨å™¨å¹¶æ²¡æœ‰ä¸ºæˆ‘ä»¬é…ç½®æ•°æ®åº“é©±åŠ¨ã€‚å› ä¸ºSpringBootä¸çŸ¥é“æˆ‘ä»¬è¦ç”¨ä»€ä¹ˆæ•°æ®åº“ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨é…ç½®ã€‚ ä¾‹å¦‚mysql &lt;!-- å¯¼å…¥æ•°æ®åº“é©±åŠ¨ --&gt;&lt;dependency&gt;   ...</div></div></div></a><a class="pagination-related" href="/2025/04/12/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/5.%20%E6%95%B4%E5%90%88JUnit/" title="5. æ•´åˆJUnit"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-12</div><div class="info-item-2">5. æ•´åˆJUnit</div></div><div class="info-2"><div class="info-item-1">äº”ã€æ•´åˆJUnit5.1 Junit5ç®€ä»‹Junit5çš„æ¡†æ¶ä¸»è¦æœ‰ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆåˆ†åˆ«æ˜¯ï¼šJunit Platform + Junit Jupiter + Junit Vintage3  Junit Platform : å…¶ä¸»è¦ä½œç”¨æ˜¯åœ¨ JVM ä¸Šå¯åŠ¨æµ‹è¯•æ¡†æ¶ã€‚å®ƒå®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡çš„ TestEngine API æ¥å®šä¹‰è¿è¡Œåœ¨å¹³å°ä¸Šçš„æµ‹è¯•æ¡†æ¶ï¼›ä¹Ÿå°±æ˜¯è¯´å…¶ä»–çš„è‡ªåŠ¨ åŒ–æµ‹è¯•å¼•æ“æˆ–å¼€å‘äººå‘˜è‡ªå·±å®šåˆ¶çš„å¼•æ“éƒ½å¯ä»¥æ¥å…¥ Junit å®ç°å¯¹æ¥å’Œæ‰§ è¡Œã€‚åŒæ—¶è¿˜æ”¯æŒé€šè¿‡å‘½ä»¤è¡Œã€Gradle å’Œ Maven æ¥è¿è¡Œå¹³å°ï¼ˆè¿™å¯¹äºæˆ‘ ä»¬åšè‡ªåŠ¨åŒ–æµ‹è¯•è‡³å…³é‡è¦ï¼‰  Junit Jupiter: è¿™æ˜¯ Junit5 çš„æ ¸å¿ƒï¼Œå¯ä»¥çœ‹ä½œæ˜¯æ‰¿è½½ Junit4 åŸæœ‰åŠŸèƒ½çš„æ¼”è¿›ï¼ŒåŒ…å«äº† JUnit 5 æœ€æ–°çš„ç¼–ç¨‹æ¨¡å‹å’Œæ‰©å±•æœºåˆ¶ï¼›å¾ˆå¤šä¸°å¯Œçš„æ–°ç‰¹æ€§ä½¿ JUnit è‡ªåŠ¨åŒ– æµ‹è¯•æ›´åŠ æ–¹ä¾¿ã€åŠŸèƒ½æ›´åŠ ä¸°å¯Œå’Œå¼ºå¤§ã€‚ä¹Ÿæ˜¯æµ‹è¯•éœ€è¦é‡ç‚¹å­¦ä¹ çš„åœ°æ–¹ï¼› Jupiter æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸€ä¸ªåŸºäº Junit Platform çš„å¼•æ“å®ç°ï¼Œå¯¹ JUnit 5 è€Œ è¨€ï¼ŒJUnit Jupiter API åªæ˜¯å¦ä¸€ä¸ª APIï¼ã€‚ Junit Vintage3...</div></div></div></a><a class="pagination-related" href="/2025/04/12/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/6.%20%E6%8C%87%E6%A0%87%E7%9B%91%E6%8E%A7/" title="6. æŒ‡æ ‡ç›‘æ§"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-12</div><div class="info-item-2">6. æŒ‡æ ‡ç›‘æ§</div></div><div class="info-2"><div class="info-item-1">å…­ã€æŒ‡æ ‡ç›‘æ§6.1 Actuatorå’Œendpointåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ¯ä¸€ä¸ªå¾®æœåŠ¡åœ¨éƒ¨ç½²ä»¥åï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯¹å…¶è¿›è¡Œç›‘æ§ã€è¿½è¸ªã€å®¡è®¡ã€æ§åˆ¶ç­‰ã€‚SpringBootå°±æŠ½å–äº†Actuatoråœºæ™¯ï¼Œä½¿å¾—æˆ‘ä»¬æ¯ä¸ªå¾®æœåŠ¡å¿«é€Ÿå¼•ç”¨å³å¯è·å¾—ç”Ÿäº§çº§åˆ«çš„åº”ç”¨ç›‘æ§ã€å®¡è®¡ç­‰åŠŸèƒ½ é¦–å…ˆå¯¼å…¥Actuatorå¯åŠ¨ä¾èµ– &lt;!-- actuatorå¯åŠ¨å™¨ --&gt; &lt;dependency&gt;     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;     &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt;  å¯¼å…¥åå¯¹actuatorç›‘æ§çš„ç«¯ç‚¹è¿›è¡Œæš´éœ² # acturatoré…ç½®management:  endpoints:    enabled-by-default: true # æš´éœ²æ‰€æœ‰ç«¯ç‚¹    web:      exposure:        include: &#x27;*&#x27;...</div></div></div></a><a class="pagination-related" href="/2025/04/12/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/7.%20%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/" title="7. é«˜çº§ç‰¹æ€§"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-12</div><div class="info-item-2">7. é«˜çº§ç‰¹æ€§</div></div><div class="info-2"><div class="info-item-1">ä¸ƒã€é«˜çº§ç‰¹æ€§7.1 Profileç¯å¢ƒåˆ‡æ¢7.1.1 é…ç½®æ–‡ä»¶ç¯å¢ƒåˆ‡æ¢å®é™…å·¥ä½œï¼Œæˆ‘ä»¬ä¼šåˆ†ä¸ºå¼€å‘ç¯å¢ƒï¼Œæµ‹è¯•ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒã€‚ ä¸åŒçš„ç¯å¢ƒï¼Œæˆ‘ä»¬é¡¹ç›®çš„é…ç½®æ–‡ä»¶æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬æ•°æ®åº“çš„é…ç½®ä¿¡æ¯ã€‚ å› æ­¤æˆ‘ä»¬éœ€è¦åˆ‡æ¢é…ç½®æ–‡ä»¶ç¯å¢ƒï¼Œä¸è¿‡springBootå·²ç»é›†æˆè¯¥åŠŸèƒ½äº†ã€‚  å¯¼å…¥ä¾èµ–åç¼–å†™å¯åŠ¨å™¨  @SpringBootApplicationpublic class SpringbootDay04Demo4Application &#123;    public static void main(String[] args) &#123;        SpringApplication.run(SpringbootDay04Demo4Application.class, args);    &#125;&#125;   ç¼–å†™æ§åˆ¶å™¨åŠ¨æ€è·å–ä¸åŒç¯å¢ƒä¸‹çš„nameå€¼  @RestControllerpublic class HelloController &#123;    @Value(&quot;$&#123;person.name:æå››&#125;&quot;) //...</div></div></div></a><a class="pagination-related" href="/2025/05/07/2.Areas%F0%9F%8C%90/back-end-java/7.SpringBoot/3.%20%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8Ethymeleaf/" title="3. æ¨¡æ¿å¼•æ“thymeleaf"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-07</div><div class="info-item-2">3. æ¨¡æ¿å¼•æ“thymeleaf</div></div><div class="info-2"><div class="info-item-1">ä¸‰ã€æ¨¡æ¿å¼•æ“thymeleaf3.1 ç®€ä»‹å’ŒåŸºæœ¬è¯­æ³•3.1.1 ç®€ä»‹springbootæ”¯æŒç¬¬ä¸‰æ–¹çš„æ¨¡æ¿å¼•æ“æŠ€æœ¯ï¼Œæˆ‘ä»¬åœ¨å®˜æ–¹æ–‡æ¡£ä¸­çš„å¯åŠ¨å™¨ä¸­å¯ä»¥çœ‹åˆ°ä¸€äº›ç›¸å…³çš„æ¨¡æ¿å¼•æ“ 	  thymeleafå®˜ç½‘: https://www.thymeleaf.org/  Thymeleaf is a modern server-side Java template engine for both web and standalone environments. Thymeleafâ€™s main goal is to bring elegant natural templates to your development workflow â€” HTML that can be correctly displayed in browsers and also work as static prototypes, allowing for stronger collaboration in development teams. With modules for Spring Framework, a...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">yuezi</div><div class="author-info-description">ç§¯å¾®è€…é€Ÿæˆ</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">785</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">66</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">91</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yuezi2048"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://githubfast.com/yuezi2048" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_46345703" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="https://qm.qq.com/cgi-bin/qm/qr?k=dD62GIPTf5-iS4UdSfJRy7NHwsrCh3-j" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:joyLing@stumail.nwu.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">ç§¯å¾®è€…é€Ÿæˆ</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81SpringBoot2%E6%A0%B8%E5%BF%83%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF"><span class="toc-text">äºŒã€SpringBoot2æ ¸å¿ƒå¼€å‘æŠ€æœ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-YML%E6%96%87%E4%BB%B6%E8%AF%AD%E6%B3%95"><span class="toc-text">2.1 YMLæ–‡ä»¶è¯­æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-%E6%99%AE%E9%80%9A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.1.1 æ™®é€šæ•°æ®ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-%E5%A4%8D%E6%9D%82%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.1.2 å¤æ‚æ•°æ®ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-SpringBootWeb%E5%BC%80%E5%8F%91"><span class="toc-text">2.2 SpringBootWebå¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%A7%84%E5%88%99%E5%92%8C%E5%AE%9A%E5%88%B6%E5%8C%96"><span class="toc-text">2.2.1 é™æ€èµ„æºè§„åˆ™å’Œå®šåˆ¶åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-welcome%E4%B8%8Efavicon"><span class="toc-text">2.2.2 welcomeä¸favicon</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%98%A0%E5%B0%84%E5%92%8C%E9%A6%96%E9%A1%B5%E6%98%A0%E5%B0%84%E5%8E%9F%E7%90%86"><span class="toc-text">2.2.3 ã€æºç ã€‘é™æ€èµ„æºæ˜ å°„å’Œé¦–é¡µæ˜ å°„åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-1-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%A4%84%E7%90%86%E9%BB%98%E8%AE%A4%E8%A7%84%E5%88%99"><span class="toc-text">2.2.3.1 é™æ€èµ„æºå¤„ç†é»˜è®¤è§„åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-2-%E6%AC%A2%E8%BF%8E%E9%A1%B5%E5%A4%84%E7%90%86%E8%A7%84%E5%88%99"><span class="toc-text">2.2.3.2 æ¬¢è¿é¡µå¤„ç†è§„åˆ™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91REST%E6%98%A0%E5%B0%84%E5%A4%84%E7%90%86%E8%A1%A8%E5%8D%95%E5%8F%82%E6%95%B0%E5%8E%9F%E7%90%86"><span class="toc-text">2.2.4 ã€æºç ã€‘RESTæ˜ å°„å¤„ç†è¡¨å•å‚æ•°åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-5-%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91%E5%A4%84%E7%90%86%E5%99%A8%E6%98%A0%E5%B0%84%E5%99%A8%E5%A4%84%E7%90%86%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-text">2.2.5 ã€æºç ã€‘å¤„ç†å™¨æ˜ å°„å™¨å¤„ç†åº•å±‚åŸç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-SpringBoot%E5%B8%B8%E8%A7%81%E6%B3%A8%E8%A7%A3"><span class="toc-text">2.3 SpringBootå¸¸è§æ³¨è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-PathVariable"><span class="toc-text">2.3.1 @PathVariable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-RequestParam"><span class="toc-text">2.3.2 @RequestParam</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3-RequestBody"><span class="toc-text">2.3.3 @RequestBody</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-4-CookieValue"><span class="toc-text">2.3.4 @CookieValue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-5-RequestHeader"><span class="toc-text">2.3.5 @RequestHeader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-6-RequestAttribute"><span class="toc-text">2.3.6 @RequestAttribute</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-7-Matrixvariable"><span class="toc-text">2.3.7 @Matrixvariable</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E3%80%90%E6%BA%90%E7%A0%81%E3%80%91handler%E4%B8%AD%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E4%B8%8E%E5%86%85%E5%AE%B9%E5%8D%8F%E5%95%86"><span class="toc-text">2.4 ã€æºç ã€‘handlerä¸­å‚æ•°ä¼ é€’ä¸å†…å®¹åå•†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%8E%9F%E7%90%86"><span class="toc-text">2.4.1 å‚æ•°è§£æåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-%E6%89%A7%E8%A1%8C%E6%8E%A7%E5%88%B6%E5%99%A8%E5%89%8D%E7%9A%84%E5%B7%A5%E4%BD%9C"><span class="toc-text">a. æ‰§è¡Œæ§åˆ¶å™¨å‰çš„å·¥ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-%E5%8F%8D%E5%B0%84%E6%89%A7%E8%A1%8C%E6%8E%A7%E5%88%B6%E5%99%A8%E6%96%B9%E6%B3%95"><span class="toc-text">b. åå°„æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-%E5%8E%9F%E7%94%9FServletAPI%E6%94%AF%E6%8C%81%E5%8E%9F%E7%90%86"><span class="toc-text">2.4.2 åŸç”ŸServletAPIæ”¯æŒåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="toc-text">a. è·å–å‚æ•°è§£æå™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-%E6%89%A7%E8%A1%8C%E8%A7%A3%E6%9E%90%E6%93%8D%E4%BD%9C"><span class="toc-text">b. æ‰§è¡Œè§£ææ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3-Map-Model%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%EF%BC%88Request%E5%9F%9F%EF%BC%89"><span class="toc-text">2.4.3 Map  Modelç±»å‹å‚æ•°ï¼ˆRequeståŸŸï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%99%A8-1"><span class="toc-text">a. è·å–å‚æ•°è§£æå™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-MapMethodProcessor%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-text">b. MapMethodProcessorè§£æè¿‡ç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c-ModelMethodProcessor%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-text">c.  ModelMethodProcessorè§£æè¿‡ç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#d-Invoke%E8%BF%87%E7%A8%8B"><span class="toc-text">d. Invokeè¿‡ç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#e-handle%E6%94%B6%E5%B0%BE"><span class="toc-text">e. handleæ”¶å°¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#f-applyPostHandle"><span class="toc-text">f. applyPostHandle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#g-processDispatchResult"><span class="toc-text">g. processDispatchResult</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-4-pojo%E5%8F%82%E6%95%B0%E5%B0%81%E8%A3%85%E5%8E%9F%E7%90%86"><span class="toc-text">2.4.4 pojoå‚æ•°å°è£…åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%99%A8-2"><span class="toc-text">a. è·å–å‚æ•°è§£æå™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-ServletModel-%E8%A7%A3%E6%9E%90"><span class="toc-text">b. ServletModel..è§£æ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-5-%E8%87%AA%E5%AE%9A%E4%B9%89converter%E5%8E%9F%E7%90%86"><span class="toc-text">2.4.5 è‡ªå®šä¹‰converteråŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-%E8%87%AA%E5%AE%9A%E4%B9%89Cnoverter"><span class="toc-text">a. è‡ªå®šä¹‰Cnoverter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-text">b. æ‰§è¡Œè¿‡ç¨‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-6-%E8%BF%94%E5%9B%9E%E5%80%BC%E5%A4%84%E7%90%86%E5%99%A8%E5%8E%9F%E7%90%86"><span class="toc-text">2.4.6 è¿”å›å€¼å¤„ç†å™¨åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-%E8%8E%B7%E5%8F%96%E8%BF%94%E5%9B%9E%E5%80%BC%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-text">a. è·å–è¿”å›å€¼å¤„ç†å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-%E8%BF%94%E5%9B%9E%E5%80%BC%E5%A4%84%E7%90%86%E5%99%A8%E7%9A%84%E6%89%A7%E8%A1%8C"><span class="toc-text">b. è¿”å›å€¼å¤„ç†å™¨çš„æ‰§è¡Œ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-7-%E5%86%85%E5%AE%B9%E5%8D%8F%E5%95%86%E5%8E%9F%E7%90%86%EF%BC%88%E4%BB%A5%E5%A4%B4Accept%E4%B8%BA%E4%BE%8B%EF%BC%89"><span class="toc-text">2.4.7 å†…å®¹åå•†åŸç†ï¼ˆä»¥å¤´Acceptä¸ºä¾‹ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-getAcceptableMediaTypes"><span class="toc-text">a. getAcceptableMediaTypes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-getProducibleMediaTypes"><span class="toc-text">b. getProducibleMediaTypes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c-match-mediaTypes"><span class="toc-text">c. match mediaTypes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#d-write"><span class="toc-text">d. write</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-8-%E5%86%85%E5%AE%B9%E5%8D%8F%E5%95%86%E5%8E%9F%E7%90%86%EF%BC%88%E5%9F%BA%E4%BA%8E%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%EF%BC%89"><span class="toc-text">2.4.8 å†…å®¹åå•†åŸç†ï¼ˆåŸºäºè¯·æ±‚å‚æ•°ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-9-%E8%87%AA%E5%AE%9A%E4%B9%89MessageConverter%EF%BC%88%E5%9F%BA%E4%BA%8E%E5%A4%B4%EF%BC%89"><span class="toc-text">2.4.9 è‡ªå®šä¹‰MessageConverterï¼ˆåŸºäºå¤´ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-%E9%85%8D%E7%BD%AE%E7%B1%BB%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B6%88%E6%81%AF%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="toc-text">a. é…ç½®ç±»æ·»åŠ è‡ªå®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-%E5%AE%9A%E4%B9%89%E6%B6%88%E6%81%AF%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="toc-text">b. å®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-10-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%BA%E4%BA%8E%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E5%86%85%E5%AE%B9%E5%8D%8F%E5%95%86"><span class="toc-text">2.4.10 è‡ªå®šä¹‰åŸºäºè¯·æ±‚å‚æ•°å†…å®¹åå•†</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/22/Excalidraw/Drawing%202024-11-01%2015.37.37.excalidraw/" title="Drawing 2024-11-01 15.37.37.excalidraw">Drawing 2024-11-01 15.37.37.excalidraw</a><time datetime="2026-02-22T05:56:41.839Z" title="å‘è¡¨äº 2026-02-22 13:56:41">2026-02-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/02/22/2.Areas%F0%9F%8C%90/01.project/condefather/yupao/back-end/7.%E4%BC%98%E5%8C%96%E4%B8%BB%E9%A1%B5%E6%80%A7%E8%83%BD-%E4%BC%98%E5%8C%96%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE/" title="7.ä¼˜åŒ–ä¸»é¡µæ€§èƒ½-ä¼˜åŒ–æ‰¹é‡å¯¼å…¥æ•°æ®">7.ä¼˜åŒ–ä¸»é¡µæ€§èƒ½-ä¼˜åŒ–æ‰¹é‡å¯¼å…¥æ•°æ®</a><time datetime="2026-02-22T05:56:41.257Z" title="å‘è¡¨äº 2026-02-22 13:56:41">2026-02-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/31/2.Areas%F0%9F%8C%90/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/5.%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8/" title="5.å·¥å…·è°ƒç”¨">5.å·¥å…·è°ƒç”¨</a><time datetime="2026-01-31T03:54:22.000Z" title="å‘è¡¨äº 2026-01-31 11:54:22">2026-01-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/30/2.Areas%F0%9F%8C%90/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/4.RAG%E8%BF%9B%E9%98%B6/" title="4.RAGè¿›é˜¶">4.RAGè¿›é˜¶</a><time datetime="2026-01-30T13:23:42.000Z" title="å‘è¡¨äº 2026-01-30 21:23:42">2026-01-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/27/2.Areas%F0%9F%8C%90/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/3.RAG/" title="3.RAG">3.RAG</a><time datetime="2026-01-27T09:06:56.000Z" title="å‘è¡¨äº 2026-01-27 17:06:56">2026-01-27</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/default.png);"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2026 By yuezi</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>